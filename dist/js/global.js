var pagePath=window.location.pathname,heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--generic-"+getRandomInt(1,5)+".jpg)",heroText="Green Farm Parts",breadcrumbs=document.querySelector(".matching_results_text");if(breadcrumbs){var breadcrumbArray=breadcrumbs.previousElementSibling.textContent.split(">");heroText=breadcrumbArray[breadcrumbArray.length-1]}if(pagePath.match(/Filters/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--filters.jpg)"),pagePath.match(/Maintenance-Kits/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--maintenance-kits.jpg)"),pagePath.match(/Toys/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--toys.jpg)"),"/searchresults.asp"===pagePath&&(searchString=window.location.search,searchStringTerm=searchString.substring(8),searchStringArray=searchStringTerm.split("+"),searchStringTerm=searchStringArray.join(" "),heroText="Search for: "+searchStringTerm),"/ShoppingCart.asp"===pagePath||"/shoppingcart.asp"===pagePath){heroText="Shopping Cart";var itemDescription=document.querySelector(".PageText_L533n"),itemDescriptionArray=itemDescription.innerHTML.split("&nbsp;");itemDescription.innerHTML=itemDescriptionArray[0]+" "+itemDescriptionArray[2];for(var cartRow=document.querySelectorAll(".v65-cart-details-row"),i=0;i<cartRow.length;i++)console.dir(cartRow[i].querySelector('td[align="center"]'))}"/myaccount.asp"===pagePath&&(heroText="My Account Details"),"/one-page-checkout.asp"===pagePath&&(heroText="Checkout",document.addEventListener("keyup",function(e){if("v65-onepage-billaddr1"===e.target.id){var t=e.target;console.log(t.value)}})),"/"!=pagePath&&updateHero(heroImg,heroText),breadcrumbs&&breadcrumbs.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("breadcrumbs");var siteHeader=document.querySelector(".site-header"),siteHeaderOffset=siteHeader.offsetTop;function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}function toggleMenuAccordian(e){var t=e.target;console.log(t),t.nextElementSibling&&(t.classList.toggle("active"),t.nextElementSibling.classList.toggle("accordian-open"))}function toggleChatWindow(e){e.preventDefault(),1!=window.fcWidget.isOpen()?window.fcWidget.open():window.fcWidget.close()}function updateHero(e,t){var r=document.querySelector(".hero--not-home");r.style.backgroundImage=e;var a=r.querySelector("h1");a.innerHTML=t,a.style.opacity=1}function fixHeader(){window.scrollY>=siteHeaderOffset?(document.body.style.paddingTop=siteHeader.offsetHeight+"px",document.body.classList.add("site-header-fixed")):(document.body.style.paddingTop=0,document.body.classList.remove("site-header-fixed"))}siteHeader&&window.addEventListener("scroll",fixHeader),document.addEventListener("click",function(e){("hamburger"===e.target.id||e.target.classList.contains("hamburger-box")||e.target.classList.contains("hamburger-inner"))&&toggleMenu(),e.target.classList.contains("accordian-toggle--site-header")&&toggleMenuAccordian(e),"#chat"===e.target.hash&&toggleChatWindow(e)}),$('img[src="/v/vspfiles/templates/gfp-test/images/clear1x1.gif"]').remove(),$('.colors_pricebox img[src="/v/vspfiles/templates/gfp-test/images/PBox_Border_Left_Top.gif"]').parent("tr").remove(),$("#v65-onepage-breadcrumb")&&$("#v65-onepage-breadcrumb").remove();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyJwYWdlUGF0aCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJoZXJvSW1nIiwiZ2V0UmFuZG9tSW50IiwiaGVyb1RleHQiLCJicmVhZGNydW1icyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJyZWFkY3J1bWJBcnJheSIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJ0ZXh0Q29udGVudCIsInNwbGl0IiwibGVuZ3RoIiwibWF0Y2giLCJzZWFyY2hTdHJpbmciLCJzZWFyY2giLCJzZWFyY2hTdHJpbmdUZXJtIiwic3Vic3RyaW5nIiwic2VhcmNoU3RyaW5nQXJyYXkiLCJqb2luIiwiaXRlbURlc2NyaXB0aW9uIiwiaXRlbURlc2NyaXB0aW9uQXJyYXkiLCJpbm5lckhUTUwiLCJjYXJ0Um93IiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJjb25zb2xlIiwiZGlyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJpZCIsInNlbGYiLCJsb2ciLCJ2YWx1ZSIsInVwZGF0ZUhlcm8iLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2l0ZUhlYWRlciIsInNpdGVIZWFkZXJPZmZzZXQiLCJvZmZzZXRUb3AiLCJtaW4iLCJtYXgiLCJNYXRoIiwiY2VpbCIsImZsb29yIiwicmFuZG9tIiwidG9nZ2xlTWVudSIsImJvZHkiLCJ0b2dnbGUiLCJ0b2dnbGVNZW51QWNjb3JkaWFuIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwidG9nZ2xlQ2hhdFdpbmRvdyIsInByZXZlbnREZWZhdWx0IiwiZmNXaWRnZXQiLCJpc09wZW4iLCJvcGVuIiwiY2xvc2UiLCJoZXJvQ29udGFpbmVyIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJoZXJvSGVhZGluZyIsIm9wYWNpdHkiLCJmaXhIZWFkZXIiLCJzY3JvbGxZIiwicGFkZGluZ1RvcCIsIm9mZnNldEhlaWdodCIsInJlbW92ZSIsImNvbnRhaW5z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QyxTQUFTMkMsS0FBS1csTUFBTU0sV0FBYSxFQUNqQzVELFNBQVMyQyxLQUFLWixVQUFVK0IsT0FBTyxzQkExRW5DN0IsWUFDQXhDLE9BQU82QixpQkFBaUIsU0FBVW9DLFdBY3RDMUQsU0FBU3NCLGlCQUFpQixRQUFTLFNBQVNDLElBRW5CLGNBQWhCQSxFQUFFQyxPQUFPQyxJQUF3QkYsRUFBRUMsT0FBT08sVUFBVWdDLFNBQVMsa0JBQXNCeEMsRUFBRUMsT0FBT08sVUFBVWdDLFNBQVMscUJBQ2hIckIsYUFHQW5CLEVBQUVDLE9BQU9PLFVBQVVnQyxTQUFTLGtDQUM1QmxCLG9CQUFvQnRCLEdBR0YsVUFBbEJBLEVBQUVDLE9BQU93QyxNQUNUakIsaUJBQWlCeEIsS0EwRHpCMEMsRUFBRSxpRUFBaUVILFNBQ25FRyxFQUFFLDhGQUE4RkMsT0FBTyxNQUFNSixTQUN6R0csRUFBRSw0QkFDRkEsRUFBRSwyQkFBMkJIIiwiZmlsZSI6Imdsb2JhbC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBwYWdlUGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcblxudmFyIGhlcm9JbWcgPSAndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tZ2VuZXJpYy0nICsgZ2V0UmFuZG9tSW50KDEsIDUpICsgJy5qcGcpJztcbnZhciBoZXJvVGV4dCA9ICdHcmVlbiBGYXJtIFBhcnRzJztcblxudmFyIGJyZWFkY3J1bWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1hdGNoaW5nX3Jlc3VsdHNfdGV4dCcpO1xuXG5pZiAoYnJlYWRjcnVtYnMpIHtcbiAgICB2YXIgYnJlYWRjcnVtYkFycmF5ID0gYnJlYWRjcnVtYnMucHJldmlvdXNFbGVtZW50U2libGluZy50ZXh0Q29udGVudC5zcGxpdCgnPicpO1xuICAgIGhlcm9UZXh0ID0gYnJlYWRjcnVtYkFycmF5W2JyZWFkY3J1bWJBcnJheS5sZW5ndGggLSAxXTsgICAgXG59XG5cblxuaWYgKHBhZ2VQYXRoLm1hdGNoKC9GaWx0ZXJzL2kpKSB7XG4gICAgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1maWx0ZXJzLmpwZyknO1xuICAgIC8vIGhlcm9UZXh0ID0gJ09pbCBGaWx0ZXJzJztcbn1cblxuaWYgKHBhZ2VQYXRoLm1hdGNoKC9NYWludGVuYW5jZS1LaXRzL2kpKSB7XG4gICAgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1tYWludGVuYW5jZS1raXRzLmpwZyknO1xuICAgIC8vIGhlcm9UZXh0ID0gJ01haW50ZW5hbmNlIEtpdHMnO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL1RveXMvaSkpIHtcbiAgICBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLXRveXMuanBnKSc7XG4gICAgLy8gaGVyb1RleHQgPSAnVG95cyc7XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy9zZWFyY2hyZXN1bHRzLmFzcCcpIHtcbiAgICBzZWFyY2hTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIHNlYXJjaFN0cmluZ1Rlcm0gPSBzZWFyY2hTdHJpbmcuc3Vic3RyaW5nKDgpO1xuICAgIHNlYXJjaFN0cmluZ0FycmF5ID0gc2VhcmNoU3RyaW5nVGVybS5zcGxpdCgnKycpO1xuICAgIHNlYXJjaFN0cmluZ1Rlcm0gPSBzZWFyY2hTdHJpbmdBcnJheS5qb2luKCcgJyk7XG4gICAgaGVyb1RleHQgPSAnU2VhcmNoIGZvcjogJyArIHNlYXJjaFN0cmluZ1Rlcm07XG59XG5cbmlmICgocGFnZVBhdGggPT09ICcvU2hvcHBpbmdDYXJ0LmFzcCcpIHx8IHBhZ2VQYXRoID09PSAnL3Nob3BwaW5nY2FydC5hc3AnKSB7XG4gICAgaGVyb1RleHQgPSAnU2hvcHBpbmcgQ2FydCc7XG4gICAgdmFyIGl0ZW1EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5QYWdlVGV4dF9MNTMzbicpO1xuICAgIHZhciBpdGVtRGVzY3JpcHRpb25BcnJheSA9IGl0ZW1EZXNjcmlwdGlvbi5pbm5lckhUTUwuc3BsaXQoJyZuYnNwOycpO1xuICAgIGl0ZW1EZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBpdGVtRGVzY3JpcHRpb25BcnJheVswXSArICcgJyArIGl0ZW1EZXNjcmlwdGlvbkFycmF5WzJdO1xuXG4gICAgdmFyIGNhcnRSb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudjY1LWNhcnQtZGV0YWlscy1yb3cnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcnRSb3cubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc29sZS5kaXIoY2FydFJvd1tpXS5xdWVyeVNlbGVjdG9yKCd0ZFthbGlnbj1cImNlbnRlclwiXScpKTtcbiAgICB9XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy9teWFjY291bnQuYXNwJykge1xuICAgIGhlcm9UZXh0ID0gJ015IEFjY291bnQgRGV0YWlscyc7XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy9vbmUtcGFnZS1jaGVja291dC5hc3AnKSB7XG4gICAgaGVyb1RleHQgPSAnQ2hlY2tvdXQnO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gXCJ2NjUtb25lcGFnZS1iaWxsYWRkcjFcIikge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYudmFsdWUpO1xuICAgICAgICB9IFxuICAgIH0pO1xuXG4gICAgLy8gdmFyIGJpbGxpbmdBZGRyZXNzT25lRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2NjUtb25lcGFnZS1iaWxsYWRkcjEnKTtcbiAgICAvLyB2YXIgYmlsbGluZ0FkZHJlc3NPbmVWYWwgPSBiaWxsaW5nQWRkcmVzc09uZUVsZW0udmFsdWU7XG4gICAgLy8gY29uc29sZS5sb2coYmlsbGluZ0FkZHJlc3NPbmVWYWwpO1xufVxuXG5pZiAocGFnZVBhdGggIT0gJy8nKSB7XG4gICAgdXBkYXRlSGVybyhoZXJvSW1nLCBoZXJvVGV4dCk7XG59XG5cblxuXG5cblxuaWYgKGJyZWFkY3J1bWJzKSB7XG4gICAgYnJlYWRjcnVtYnMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2JyZWFkY3J1bWJzJyk7XG59XG5cbnZhciBzaXRlSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpdGUtaGVhZGVyJyk7XG52YXIgc2l0ZUhlYWRlck9mZnNldCA9IHNpdGVIZWFkZXIub2Zmc2V0VG9wO1xuXG5pZiAoc2l0ZUhlYWRlcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmaXhIZWFkZXIpO1xufVxuXG4vLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuLy8gICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndmNiLWFjdGl2ZScpKSB7XG4vLyAgICAgICAgICAgICB2YXIgY2F0SUQgPSBTZWFyY2hQYXJhbXMuc3BsaXQoJyYnKVsyXS5zcGxpdCgnPScpWzFdO1xuLy8gICAgICAgICAgICAgdmFyIGVkaXRMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXRTZWFyY2hMaW5rJyk7XG4vLyAgICAgICAgICAgICBlZGl0TGluay5ocmVmID0gZWRpdExpbmsuaHJlZiArIGNhdElEO1xuLy8gICAgICAgICAgICAgZWRpdExpbmsuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4vLyAgICAgICAgIHJldHVybjtcbi8vICAgICB9XG4vLyB9LCAxMDAwKTtcblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblxuICAgIGlmICgoZS50YXJnZXQuaWQgPT09ICdoYW1idXJnZXInKSB8fCAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYW1idXJnZXItYm94JykpIHx8IChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2hhbWJ1cmdlci1pbm5lcicpKSkge1xuICAgICAgICB0b2dnbGVNZW51KCk7XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaWFuLXRvZ2dsZS0tc2l0ZS1oZWFkZXInKSkge1xuICAgICAgICB0b2dnbGVNZW51QWNjb3JkaWFuKGUpO1xuICAgIH1cblxuICAgIGlmIChlLnRhcmdldC5oYXNoID09PSAnI2NoYXQnKSB7XG4gICAgICAgIHRvZ2dsZUNoYXRXaW5kb3coZSk7XG4gICAgfVxuXG59KTtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gIG1pbiA9IE1hdGguY2VpbChtaW4pO1xuICBtYXggPSBNYXRoLmZsb29yKG1heCk7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluOyAvL1RoZSBtYXhpbXVtIGlzIGluY2x1c2l2ZSBhbmQgdGhlIG1pbmltdW0gaXMgaW5jbHVzaXZlIFxufVxuXG5mdW5jdGlvbiB0b2dnbGVNZW51KCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS1vcGVuJyk7XG4gICAgdmFyIG1lbnVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGFtYnVyZ2VyJyk7XG4gICAgbWVudUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTWVudUFjY29yZGlhbihlKSB7XG4gICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICBjb25zb2xlLmxvZyhzZWxmKTtcbiAgICBpZiAoIXNlbGYubmV4dEVsZW1lbnRTaWJsaW5nKSB7IHJldHVybiB9XG4gICAgc2VsZi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICBzZWxmLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCdhY2NvcmRpYW4tb3BlbicpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVDaGF0V2luZG93KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHdpbmRvdy5mY1dpZGdldC5pc09wZW4oKSAhPSB0cnVlKSB7XG4gICAgICAgIHdpbmRvdy5mY1dpZGdldC5vcGVuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmZjV2lkZ2V0LmNsb3NlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVIZXJvKGhlcm9JbWcsIGhlcm9UZXh0KSB7XG4gICAgdmFyIGhlcm9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyby0tbm90LWhvbWUnKTtcbiAgICBoZXJvQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGhlcm9JbWc7XG4gICAgdmFyIGhlcm9IZWFkaW5nID0gaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdoMScpO1xuICAgIGhlcm9IZWFkaW5nLmlubmVySFRNTCA9IGhlcm9UZXh0O1xuICAgIGhlcm9IZWFkaW5nLnN0eWxlLm9wYWNpdHkgPSAxO1xufVxuXG5mdW5jdGlvbiBmaXhIZWFkZXIoKSB7XG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZID49IHNpdGVIZWFkZXJPZmZzZXQpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gc2l0ZUhlYWRlci5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3NpdGUtaGVhZGVyLWZpeGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gMDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdzaXRlLWhlYWRlci1maXhlZCcpO1xuICAgIH1cbn1cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuS0lMTFNIRUVUXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuJCgnaW1nW3NyYz1cIi92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvY2xlYXIxeDEuZ2lmXCJdJykucmVtb3ZlKCk7XG4kKCcuY29sb3JzX3ByaWNlYm94IGltZ1tzcmM9XCIvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1hZ2VzL1BCb3hfQm9yZGVyX0xlZnRfVG9wLmdpZlwiXScpLnBhcmVudCgndHInKS5yZW1vdmUoKTtcbmlmICgkKCcjdjY1LW9uZXBhZ2UtYnJlYWRjcnVtYicpKSB7XG4gICAgJCgnI3Y2NS1vbmVwYWdlLWJyZWFkY3J1bWInKS5yZW1vdmUoKTtcbn1cblxuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbkJPT1NUIFNUVUZGXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuLy8gKGZ1bmN0aW9uKFYsICQpIHtcblxuLy8gICAgIHZhciByZWxhdGVkUHJkV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudjY1LXByb2R1Y3QtcmVsYXRlZC1kZXRhaWxzLXJvdyAudjY1LXByb2R1Y3REaXNwbGF5XCIpO1xuLy8gICAgIHZhciBhY2Nlc3Nvcmllc1ByZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbG9yc19saW5lc19saWdodDpub3QoW2lkPSd2NjUtcHJvZHVjdC1yZWxhdGVkJ10pXCIpO1xuLy8gICAgIC8vIENyZWF0ZSBTdWIgTW9kdWxlXG4vLyAgICAgVi5wcm9kdWN0ZGV0YWlscy5yZWZvcm1hdFJlbGF0ZWRQcmRzID0ge307XG5cbi8vICAgICBmdW5jdGlvbiByZWZvcm1hdFJlbGF0ZWRQcmRzKHJlbGF0ZWRQcmRXcmFwKSB7XG4vLyAgICAgICAgIHZhciByZWxhdGVkUHJkSW1nID0gcmVsYXRlZFByZFdyYXAucXVlcnlTZWxlY3RvckFsbChcIi52NjUtcHJvZHVjdERpc3BsYXktY2VsbC52NjUtcHJvZHVjdFBob3RvIGFcIik7XG4vLyAgICAgICAgIHZhciByZWxhdGVkUHJkVGl0bGUgPSByZWxhdGVkUHJkV3JhcC5xdWVyeVNlbGVjdG9yQWxsKFwiLnY2NS1wcm9kdWN0TmFtZSBhXCIpO1xuLy8gICAgICAgICB2YXIgcmVsYXRlZFByZHByaWNlID0gcmVsYXRlZFByZFdyYXAucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0X3Byb2R1Y3RwcmljZVwiKTtcbi8vICAgICAgICAgdmFyIHJlbGF0ZWRTYWxlcHJpY2UgPSByZWxhdGVkUHJkV3JhcC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3Rfc2FsZXByaWNlXCIpO1xuXG4vLyAgICAgICAgIHZhciB2UHJvZHVjdEdyaWQgPSBWLnByb2R1Y3RkZXRhaWxzLmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsXCJ2LXByb2R1Y3QtZ3JpZFwiKTtcbi8vICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBsb25nZXN0IGxpc3RcblxuLy8gICAgICAgICAvLyBNYWtlIGFycmF5IHRvIGdldCBsYXJnZXN0IGxlbmd0aCBvZiBub2RlbGlzdFxuLy8gICAgICAgICB2YXIgaW1nTGVuZ3RoID0gcmVsYXRlZFByZEltZy5sZW5ndGg7XG4vLyAgICAgICAgIHZhciB0aXRsZUxlbmd0aCA9IHJlbGF0ZWRQcmRUaXRsZS5sZW5ndGg7XG4vLyAgICAgICAgIHZhciBwcmljZUxlbmd0aCA9IHJlbGF0ZWRQcmRwcmljZS5sZW5ndGg7XG4vLyAgICAgICAgIHZhciBzYWxlTGVuZ3RoID0gcmVsYXRlZFNhbGVwcmljZS5sZW5ndGg7XG5cbi8vICAgICAgICAgdmFyIG5vZGVMaXN0ID0gW2ltZ0xlbmd0aCwgdGl0bGVMZW5ndGgsIHByaWNlTGVuZ3RoLCBzYWxlTGVuZ3RoXTtcblxuLy8gICAgICAgICB2YXIgbWF4TGVuZ3RoID0gTWF0aC5tYXguYXBwbHkoTWF0aCxub2RlTGlzdCk7XG5cbi8vICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG1heExlbmd0aDsgaSA8IG1heExlbmd0aDsgaSArKykge1xuLy8gICAgICAgICAgICAgdmFyIHZQcm9kdWN0ID0gVi5wcm9kdWN0ZGV0YWlscy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsXCJ2LXByb2R1Y3RcIik7XG5cbi8vICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVsZW1lbnRzIGluIGFycmF5IGV4aXN0XG4vLyAgICAgICAgICAgICBpZiAocmVsYXRlZFByZEltZ1tpXSkge1xuLy8gICAgICAgICAgICAgICAgIHJlbGF0ZWRQcmRJbWdbaV0uY2xhc3NMaXN0LmFkZChcInYtcHJvZHVjdF9faW1nXCIpO1xuLy8gICAgICAgICAgICAgICAgIHZhciBuZXdSZWxhdGVkUHJkSW1nID0gY2huZ1JlbGF0ZWRTcmNBdHRyKHJlbGF0ZWRQcmRJbWdbaV0pO1xuLy8gICAgICAgICAgICAgICAgIHZQcm9kdWN0LmFwcGVuZENoaWxkKG5ld1JlbGF0ZWRQcmRJbWcpO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgaWYgKHJlbGF0ZWRQcmRUaXRsZVtpXSkge1xuLy8gICAgICAgICAgICAgICAgIHJlbGF0ZWRQcmRUaXRsZVtpXS5jbGFzc0xpc3QuYWRkKFwidi1wcm9kdWN0X190aXRsZVwiKTtcbi8vICAgICAgICAgICAgICAgICB2UHJvZHVjdC5hcHBlbmRDaGlsZChyZWxhdGVkUHJkVGl0bGVbaV0pO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgaWYgKHJlbGF0ZWRQcmRwcmljZVtpXSkge1xuLy8gICAgICAgICAgICAgICAgIHZQcm9kdWN0LmFwcGVuZENoaWxkKHJlbGF0ZWRQcmRwcmljZVtpXSk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBpZiAocmVsYXRlZFNhbGVwcmljZVtpXSkge1xuLy8gICAgICAgICAgICAgICAgIHZQcm9kdWN0LmFwcGVuZENoaWxkKHJlbGF0ZWRTYWxlcHJpY2VbaV0pO1xuLy8gICAgICAgICAgICAgfVxuXG4vLyAgICAgICAgICAgICB2UHJvZHVjdEdyaWQuYXBwZW5kQ2hpbGQodlByb2R1Y3QpO1xuLy8gICAgICAgICB9XG5cbi8vICAgICAgICAgcmV0dXJuIHZQcm9kdWN0R3JpZDtcbi8vICAgICB9XG5cbi8vICAgICBmdW5jdGlvbiBjaG5nUmVsYXRlZFNyY0F0dHIgKHJlbGF0ZWRQcmRJbWcpIHtcbi8vICAgICAgICAgdmFyIG9sZFNyY0F0dHIgPSByZWxhdGVkUHJkSW1nLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLmdldEF0dHJpYnV0ZShcInNyY1wiKTtcbi8vICAgICAgICAgdmFyIG5ld1NyY0F0dHIgPSBvbGRTcmNBdHRyLnJlcGxhY2UoXCItMC5qcGdcIixcIi0xLmpwZ1wiKTtcblxuLy8gICAgICAgICByZWxhdGVkUHJkSW1nLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIilcbi8vICAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoXCJzcmNcIixuZXdTcmNBdHRyKTtcblxuLy8gICAgICAgICByZXR1cm4gcmVsYXRlZFByZEltZ1xuLy8gICAgIH1cblxuXG4vLyAgICAgVi5wcm9kdWN0ZGV0YWlscy5yZWZvcm1hdFJlbGF0ZWRQcmRzLmluaXQgPSBmdW5jdGlvbigpIHtcbi8vICAgICAgICAgaWYgKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicHJvZHVjdGRldGFpbHNcIikgKSB7XG4vLyAgICAgICAgICAgICBpZiAoVi5wcm9kdWN0ZGV0YWlscy5yZWxhdGVkUHJkcykge1xuLy8gICAgICAgICAgICAgICAgIHZhciB2UHJvZHVjdEdyaWQgPSByZWZvcm1hdFJlbGF0ZWRQcmRzKHJlbGF0ZWRQcmRXcmFwKTtcbi8vICAgICAgICAgICAgICAgICByZWxhdGVkUHJkV3JhcC5pbnNlcnRCZWZvcmUodlByb2R1Y3RHcmlkLCByZWxhdGVkUHJkV3JhcC5maXJzdENoaWxkKTtcbi8vICAgICAgICAgICAgIH1cblxuLy8gICAgICAgICAgICAgaWYgKFYucHJvZHVjdGRldGFpbHMuYWNjZXNzb3J5UHJkcykge1xuLy8gICAgICAgICAgICAgICAgIHZhciB2UHJvZHVjdEdyaWQgPSByZWZvcm1hdFJlbGF0ZWRQcmRzKGFjY2Vzc29yaWVzUHJkcyk7XG4vLyAgICAgICAgICAgICAgICAgdmFyIGFjY2Vzc29yaWVzSW5zZXJ0UG9pbnQgPSBhY2Nlc3Nvcmllc1ByZHMucXVlcnlTZWxlY3RvcihcInRhYmxlW2NlbGxwYWRkaW5nPScyJ10gdGJvZHkgdHI6Zmlyc3QtY2hpbGRcIik7XG4vLyAgICAgICAgICAgICAgICAgYWNjZXNzb3JpZXNJbnNlcnRQb2ludC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh2UHJvZHVjdEdyaWQsYWNjZXNzb3JpZXNJbnNlcnRQb2ludC5uZXh0U2libGluZyk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIFY7XG5cbi8vIH0oVk9MVVNJT04gfHwge30sICRqUXVlcnlNb2Rlcm4pKTsiXX0=
