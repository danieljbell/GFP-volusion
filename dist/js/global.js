$(".search-bar-container input").focus();var siteHeaderHeight=$(".site-header").height();void 0!==$("#content_area").find(".vcb-article")[0]&&setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=$("#content_area").find(".vcb-article")[0].id.split("_")[2],t=window.location.origin+"/admin/AdminDetails_Generic.asp?Table=Articles&ID="+e,r=document.createElement("a");r.href=t,r.innerText="Edit Page",r.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(r)}},3e3),window.innerWidth>1080&&$(".menu-item--top-level .sub-menu--level-one > li:first-child").addClass("active").find(".sub-menu--level-two").addClass("accordian-open");var pagePath=window.location.pathname,heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--generic-"+getRandomInt(1,5)+".jpg)",heroText="Green Farm Parts",breadcrumbs=document.querySelector(".matching_results_text");if(breadcrumbs){var breadcrumbArray=breadcrumbs.previousElementSibling.textContent.split(">");heroText=breadcrumbArray[breadcrumbArray.length-1]}if(pagePath.match(/Filters/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--filters.jpg)"),pagePath.match(/Maintenance-Kits/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--maintenance-kits.jpg)"),pagePath.match(/Toys/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--toys.jpg)"),"/searchresults.asp"===pagePath){function filterItems(e){return searchStringArray.filter(function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1})}searchString=window.location.search,searchStringArray=searchString.split("&");var searchStringTerm=filterItems("search=").toString().split("=")[1];heroText="Search for: "+(searchStringTerm=searchStringTerm.split("+").join(" ").split("%20").join(" "));for(var productRows=$("#MainForm .v65-productDisplay .v65-productDisplay tr"),productsArray=[],i=0;i<productRows.length;i+=5)productsArray.push({productLink:productRows[i].querySelector("a").href,productImage:productRows[i].querySelector("img").src,productName:productRows[i].nextElementSibling.querySelector("a span").innerText,productPrice:productRows[i].nextElementSibling.querySelector(".product_productprice").innerText.split(" ")[1],productDescription:productRows[i].nextElementSibling.nextElementSibling.nextElementSibling.innerText});productRows.remove(),(firstProductRow=$("#MainForm .v65-productDisplay .v65-productDisplay").find("tbody")).prepend('<tr><td id="gfp-responsive-listing"></td></tr>');var gfpResponsiveListing=$("#gfp-responsive-listing");for(i=0;i<productsArray.length;i++)gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+"</h6><p>"+productsArray[i].productPrice+"</p></a>")}if("/ShoppingCart.asp"===pagePath||"/shoppingcart.asp"===pagePath){heroText="Shopping Cart";var itemDescription=document.querySelector("#v65-cart-header-itemdescription font");if(null!=itemDescription){var itemDescriptionArray=itemDescription.innerHTML.split("&nbsp;");itemDescription.innerHTML=itemDescriptionArray[0]+" "+itemDescriptionArray[2]}var emptyCartRow=$(".v65-cart-shipping-details-row").children().first();emptyCartRow.length<0&&(emptyCartRow.siblings().remove(),emptyCartRow[0].colSpan=12)}if("/login.asp"===pagePath&&(heroText="Login"),"/terms.asp"===pagePath&&(heroText="Terms and Conditions"),"/one-page-checkout.asp"===pagePath){heroText="Checkout";var billInputs=["v65-onepage-billfirstname","v65-onepage-billlastname","v65-onepage-billcompanyname","v65-onepage-billaddr1","v65-onepage-billaddr2","v65-onepage-billcity","v65-onepage-billpostalcode","v65-onepage-billphone","v65-onepage-billfax","v65-cart-billemail"];document.addEventListener("keyup",function(e){if(billInputs.includes(e.target.id)){var t=e.target;matchCheckoutInput(t,t.value)}})}if("/"!=pagePath?updateHero(heroImg,heroText):(setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?Table=Articles&ID=2",t=document.createElement("a");t.href=e,t.innerText="Edit Page",t.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3),$(".current-special-offers-list").owlCarousel({margin:10,nav:!1,dots:!0,responsive:{0:{loop:!0,items:1},1000:{items:3}}})),"/myaccount.asp"===pagePath){var accountPageContent=$("#content_area td");console.log(accountPageContent[0]);var accountWelcomeMessage=accountPageContent[0].innerHTML,accountWelcomeMessageOpener=accountPageContent[0].querySelector("b").innerHTML;updateHero(heroImg,accountWelcomeMessageOpener),$(".hero").next().find(".site-width").prepend('<div id="gfp-account-details"></div>');var gfpAccountDetails=$("#gfp-account-details");$("#content_area").remove(),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">My Orders</h2><ul><li><a href="/orders.asp">Review Orders</a></li><li><a href="/orders.asp">Change/Cancel Order</a></li><li><a href="/orders.asp">Change Shipping Address</a></li><li><a href="/orders.asp">Print Invoices</a></li><li><a href="/orders.asp">Change Billing Address</a></li><li><a href="/returns.asp">Return Items</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Personal Information</h2><ul><li><a href="/AccountSettings.asp?modwhat=change_a">Change e-mail address, or password</a></li><li><a href="/AccountSettings.asp?modwhat=change_b">Manage your billing addresses</a></li><li><a href="/MailingList_unsubscribe.asp">Change my e-mail preferences</a></li><li><a href="/AccountSettings.asp?modwhat=change_s">Manage your shipping addresses</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Payment Settings</h2><ul><li><a href="/AccountSettings.asp?modwhat=change_c&myaccount=Y">Edit or delete a credit/debit card</a></li><li><a href="/MyAccount_GiftBalance.asp">View gift certificate balance</a></li><li><a href="/MyAccount_ApplyGift.asp">Apply a gift certificate to your account</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Other Features</h2><ul><li><a href="/myaccount_myreviews.asp">Edit a review that I wrote</a></li><li><a href="/WishList.asp">View my Wish List</a></li><li><a href="/MyRewards.asp">My Rewards</a></li></ul></section>'),gfpAccountDetails.parent().append('<div class="has-text-center mar-t--more"><a href="/login.asp?logout=yes" class="btn-outline--brand-two">Logout</a></div>')}if("/orders.asp"===pagePath){updateHero(heroImg,heroText="Your Orders");var allOrders=$("#content_area form .colors_lines_light tbody > .colors_backgroundneutral > td:last-child a");for(i=0;i<allOrders.length;i++){var elem=allOrders[i];elem.innerHTML="View Order",elem.classList.add("btn-solid--brand-two")}}breadcrumbs&&breadcrumbs.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("breadcrumbs");var siteHeader=document.querySelector(".site-header"),siteHeaderOffset=siteHeader.offsetTop;if(siteHeader&&window.addEventListener("scroll",fixHeader),document.addEventListener("click",function(e){if(("hamburger"===e.target.id||e.target.classList.contains("hamburger-box")||e.target.classList.contains("hamburger-inner"))&&toggleMenu(),e.target.classList.contains("accordian-toggle--site-header")&&toggleMenuAccordian(e),"#chat"===e.target.hash&&toggleChatWindow(e),e.target.classList.contains("show-password")){e.preventDefault();var t=e.target.parentElement.querySelector("input");t.type;"password"===t.type?t.type="text":t.type="password"}}),"undefined"!=typeof SearchParams&&"/searchresults.asp"!=pagePath){var firstProductRow,allSubCatLinks=$(".subcategory_link");cleanSubCatLinks=[];for(i=0;i<allSubCatLinks.length;i++)cleanSubCatLinks.push({modelLink:allSubCatLinks[i].href,modelNumber:allSubCatLinks[i].innerText.replace("John Deere","").split(" ")[1]});allSubCatLinks.first().closest(".colors_backgroundneutral").parent().prepend('<td class="gfp-clean-subcategories"><h2>Choose your model to see parts that fit your model</h2></td>');for(productRows=$("#MainForm .v65-productDisplay .v65-productDisplay > tbody > tr"),productsArray=[],i=0;i<productRows.length;i+=6)productsArray.push({productLink:productRows[i].querySelector("a").href,productImage:productRows[i].querySelector("img").src,productName:productRows[i].nextElementSibling.querySelector("a").innerText,productPrice:productRows[i].nextElementSibling.nextElementSibling.querySelector(".product_productprice").innerText.split(" ")[1]});productRows.remove(),(firstProductRow=$("#MainForm .v65-productDisplay .v65-productDisplay").find("tbody")).prepend('<tr><td id="gfp-responsive-listing"></td></tr>');for(gfpResponsiveListing=$("#gfp-responsive-listing"),i=0;i<productsArray.length;i++)gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+"</h6><p>"+productsArray[i].productPrice+"</p></a>");var catID=SearchParams.split("&")[2].substring(4);setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?table=Categories&Page=1&ID="+catID,t=document.createElement("a");t.href=e,t.innerText="Edit Category",t.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3)}if("/ShoppingCart.asp"===pagePath||"/shoppingcart.asp"===pagePath){var reCalcButton=$("#btnRecalculate"),cartTotalContainer=$("#v65-cart-total-estimate td:first-child"),cartTotalValue=cartTotalContainer.text().trim();$("#v65-cart-shipping-details-wrapper").remove();var shoppingCartForm=$("#v65-cart-table").parent("form"),cartRows=document.querySelectorAll("#v65-cart-table .v65-cart-details-row"),cleanCartRows=[];for(i=0;i<cartRows.length;i++){var removeLink=cartRows[i].querySelector(".v65-cart-item-remove-link"),productImage=cartRows[i].querySelector(".v65-cart-detail-productimage").innerHTML,productName=cartRows[i].querySelector(".v65-cart-details-text .cart-item-name"),quantityInput=cartRows[i].querySelector('input[name*="Quantity"]'),productPrice=cartRows[i].querySelector("td:nth-child(9) .carttext").innerText,sumPrice=cartRows[i].querySelector("td:nth-child(11) .carttext").innerText;cleanCartRows.push({removeLink:removeLink,productImage:productImage,productName:productName,quantityInput:quantityInput,productPrice:productPrice,sumPrice:sumPrice})}shoppingCartForm.prepend('<div id="gfp-responsive-cart"><table><thead><tr><th class="gfp-responsive-cart--product-image"></th><th class="gfp-responsive-cart--product-description">Item</th><th class="gfp-responsive-cart--unit-price">Unit Price</th><th class="gfp-responsive-cart--quantity">Quantity</th><th class="gfp-responsive-cart--unit-total">Total</th><th class="gfp-responsive-cart--remove-item"></th></tr></thead><tbody></tbody></table><p class="cart-subtotal"><strong>Order Subtotal: '+cartTotalValue+"</strong></p>"+reCalcButton[0].outerHTML+"</div>"),$("#v65-cart-table").remove();for(i=0;i<cleanCartRows.length;i++){var cartTable=$("#gfp-responsive-cart tbody");cartTable.append('<tr><td class="gfp-responsive-cart--product-image">'+cleanCartRows[i].productImage+'</td><td class="gfp-responsive-cart--product-description">'+cleanCartRows[i].productName.innerText+'</td><td class="gfp-responsive-cart--unit-price">'+cleanCartRows[i].productPrice+'</td><td class="gfp-responsive-cart--quantity">'+cleanCartRows[i].quantityInput.outerHTML+'</td><td class="gfp-responsive-cart--unit-total">'+cleanCartRows[i].sumPrice+'</td><td class="gfp-responsive-cart--remove-item">'+cleanCartRows[i].removeLink.outerHTML+"</td></tr>")}}var checkoutContainer=$("#v65-onepage-Detail");if(checkoutContainer.length>0){var billingHeader=$("#billing-header").html(),billingContent=$("#v65-onepage-BillingParent").html(),shippingHeader=$("#shipping-header").html(),shippingContent=$("#v65-onepage-ShippingParent").html(),additionalInfoHeader=$(".v65-onepage-custom-header-row").html(),additionalInfoContent=$(".v65-onepage-custom-details-row").html(),shippingCostHeader=$("#v65-onepage-ShippingCostHeader").html(),shippingCostContent=$("#v65-onepage-ShippingCost")[0].outerHTML,shippingTotals=$("#v65-onepage-ShippingCostParent").parent().html(),orderSummaryItems=$("#v65-onepage-ordersummary-items").parent().html();if($("#v65-onepage-RegistrationFormFields").length>0){var registrationPassword=$('#v65-onepage-RegistrationFormFields input[name="password"]').first().attr("id","password");registrationPassword=$('#v65-onepage-RegistrationFormFields input[name="password"]')[0].outerHTML;var registrationPasswordConfirm=$('#v65-onepage-RegistrationFormFields input[name="passwordagain"]').first().attr("id","password-confirm");registrationPasswordConfirm=$('#v65-onepage-RegistrationFormFields input[name="passwordagain"]')[0].outerHTML}$("#span_paymentfields_credit_card > table > tbody > tr:nth-child(6) td:first-child").remove(),$("#span_paymentfields_credit_card > table > tbody > tr:nth-child(6) td:last-child").attr("colspan","1"),$("#v65-checkout-payment-header").parent().remove();var submitOrder=$("#divbtnSubmitOrder");submitOrder.find("img").remove(),submitOrder.find("button").text("Place Order").addClass("btn-solid--brand-two");var placeOrder=submitOrder.html();submitOrder.remove();var orderCommentsElem=$("#v65-onepage-ordercomments-input");orderCommentsElem.remove(),$("#v65-onepage-ordercomments-row").parent().parent().remove();var paymentContent=$("#v65-onepage-payment-details-parent-table")[0].outerHTML;checkoutContainer.remove(),$("#table_checkout_cart0").remove(),$("#FormatListofErrorsDiv").after('<div id="gfp-responsive-checkout"></div>');var respCheckout=$("#gfp-responsive-checkout"),checkoutWrap=document.querySelector("#gfp-responsive-checkout");setUpResponsiveCheckout();var termsLink=$("#articleBody_112").siblings("table").find("tr:first-child td:last-child a"),termsInput=$('input[name="Orders.Custom_Field_TermsofUse"]');termsInput.parent().remove();var termsStatement=$("#articleBody_112").siblings("table").find("tr:first-child td:first-child").html(termsInput[0].outerHTML+'I agree to the <a href="'+termsLink.attr("href")+'" target="_blank" rel="noopener noreferrer">Terms and Conditions</a>');termsLink.remove();var returnsLink=$("#articleBody_112").siblings("table").find("tr:last-child td:last-child a"),returnsInput=$('input[name="Orders.Custom_Field_AgreeReturns"]');returnsInput.parent().remove();var returnsStatement=$("#articleBody_112").siblings("table").find("tr:last-child td:first-child").html(returnsInput[0].outerHTML+'I accept the <a href="'+returnsLink.attr("href")+'" target="_blank" rel="noopener noreferrer">Returns and Shipping Policies</a>'),orderTotalsContainer=document.querySelector(".order-totals-container"),orderOffsetTop=orderTotalsContainer.offsetTop,checkoutWrapTop=$("#v65-onepage-ContentTable").offset().top+checkoutWrap.offsetTop,checkoutContainerWidth=checkoutWrap.querySelector(".order-totals-container").offsetWidth;window.addEventListener("resize",function(){checkoutContainerWidth=checkoutWrap.querySelector(".order-totals-container").offsetWidth,checkoutWrapTop=$("#v65-onepage-ContentTable").offset().top+checkoutWrap.offsetTop}),document.addEventListener("scroll",stickyCheckout)}if($('img[src="/v/vspfiles/templates/gfp-test/images/clear1x1.gif"]').remove(),$('.colors_pricebox img[src="/v/vspfiles/templates/gfp-test/images/PBox_Border_Left_Top.gif"]').parent("tr").remove(),$("#v65-onepage-breadcrumb")&&$("#v65-onepage-breadcrumb").remove(),$("#v65-onepage-CopyBillingToShippingLink").remove(),document.body.classList.contains("single-product")){setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?table=Products_Joined&Page=1&ID="+global_Current_ProductCode.toLowerCase(),t=document.createElement("a");t.href=e,t.innerText="Edit Product",t.classList.add("editProductLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3);var pageTitle=$(".vp-product-title")[0].innerText,productDescriptionWrap=$("#v65-productdetail-action-wrapper");productDescriptionWrap.css("display","block").attr("align","left"),productDescriptionWrap.siblings().css("display","block"),updateHero(heroImg,pageTitle);var relatedProductsContainer=$("#v65-product-parent").next().find(".colors_lines_light").first();"v65-product-related"!==relatedProductsContainer[0].id&&getRelatedProducts(),$('span[itemprop="description"]').prepend('<p class="h1">'+pageTitle+"</p>");var fitmentString=$("#ProductDetail_ProductDetails_div2 li");if(fitmentString.length>0){var fitmentArray=fitmentString[0].innerText.split("|").sort();$("#ProductDetail_ProductDetails_div2").remove(),$("#v65-product-parent > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr > td > table > tbody").append('<tr><td colspan="2"><h3 class="mar-t--more">'+pageTitle+' fits the following models:</h3><hr><ul id="gfp-fitment"></ul></tr></td>');var fitmentList=$("#gfp-fitment");for(i=0;i<fitmentArray.length;i++)fitmentList.append("<li>"+fitmentArray[i]+"</li>")}if($("#related_products_content").length>0){formatRelatedProducts();var productFeatureImage=$("#product_photo_zoom_url").parent("td");productFeatureImage.addClass("featured-image-container"),$("#v65-product-parent > tbody > tr:nth-child(2) > td:first-child").addClass("featured-image-parent").siblings().addClass("featured-content-container"),productFeatureImage.length>0&&window.addEventListener("scroll",fixProductFeatureImage)}}function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}function toggleMenuAccordian(e){var t=e.target;if($(t).parent().hasClass("active"))return $(t).parent().removeClass("active"),void $(t).siblings().removeClass("accordian-open");$(t).parent(".menu-item-has-children").addClass("active").siblings().removeClass("active").find(".sub-menu--level-two").removeClass("accordian-open"),$(t).siblings().addClass("accordian-open")}function toggleChatWindow(e){e.preventDefault(),1!=window.fcWidget.isOpen()?window.fcWidget.open():window.fcWidget.close()}function updateHero(e,t){var r=document.querySelector(".hero--not-home");r.style.backgroundImage=e;var a=r.querySelector("h1");a.innerHTML=t,a.style.opacity=1}function fixHeader(){window.scrollY>siteHeaderOffset?(document.body.style.paddingTop=siteHeader.offsetHeight+"px",document.body.classList.add("site-header-fixed")):(document.body.style.paddingTop=0,document.body.classList.remove("site-header-fixed"))}function matchCheckoutInput(e,t){var r=e.id.split("-")[2].substring(4),a=document.querySelector("#v65-onepage-ship"+r);a&&(a.value=t)}function getRelatedProducts(){$("#v65-product-parent > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr > td > table > tbody").append('<tr><td colspan="2"><div id="gfp-related-products"></div></tr></td>');for(var e=relatedProductsContainer.find(".v65-productDisplay"),t=e.find("tr:first-child .v65-productName"),r=e.find("tr:nth-child(2) .product_productprice"),a=e.find("tr:last-child .v65-productPhoto"),i=0;i<a.length;i++){var o=a[i].querySelector("img").src;o.match(/nophoto/)||(a[i].querySelector("img").src=o.substring(0,o.length-6)+"-2T"+o.substring(o.length-4))}relatedProductsContainer.remove();var n=[];for(i=0;i<t.length;i++)n.push({productTitle:t[i].querySelector("a").innerHTML.trim(),productLink:t[i].querySelector("a").href,productImg:a[i].querySelector("img").outerHTML,productPrice:r[i].innerText.trim()});$("#gfp-related-products").html("<h3>Alternatives to "+pageTitle+'</h3><ul class="cost-alternatives-list"></ul>');var s=$("#gfp-related-products .cost-alternatives-list");for(i=0;i<n.length;i++){var d='<li><a href="'+n[i].productLink+'"><div class="cost-alternatives-list--image">'+n[i].productImg+'</div><div class="cost-alternatives-list--content"><p><strong>'+n[i].productTitle+"</strong></p><p>"+n[i].productPrice+"</p></div></a></li>";s.append(d)}}function formatRelatedProducts(){for(var e=[],t=$("#related_products_content .v65-productName"),r=$("#related_products_content .v65-productAvailability .product_productprice"),a=$("#related_products_content .v65-productPhoto"),i=0;i<t.length;i++)e.push({relatedProductTitle:t[i].innerText,relatedProductPrice:r[i].innerText,relatedProductImg:a[i].querySelector("img").src,relatedProductLink:a[i].querySelector("a").href});$("#v65-product-related").before('<div class="slider--related-products"><h3 class="has-text-center mar-b">Products related to '+pageTitle+'</h3><div class="site-width"><div class="slider"></div></div></div>'),$("#v65-product-related").remove();var o=$(".slider--related-products .site-width > div");for(i=0;i<e.length;i++)o.append('<div><a href="'+e[i].relatedProductLink+'"><img src="'+e[i].relatedProductImg+'" />'+e[i].relatedProductTitle+"</a></div>")}function fixProductFeatureImage(){if(!(window.innerWidth<1080)){var e=document.querySelector(".featured-image-parent"),t=document.querySelector(".featured-content-container"),r=e.offsetWidth,a=productFeatureImage.offset().top,i=t.offsetHeight,o=document.querySelector(".featured-image-container").offsetHeight;if(window.scrollY>a-siteHeaderHeight&&window.scrollY<siteHeaderHeight+(i-o))document.body.classList.add("featured-image-fixed"),e.style.transform="translateY(calc("+siteHeaderHeight+"px - 1rem)",e.style.maxWidth=r+"px",t.style.paddingLeft=r+"px";else if(window.scrollY<siteHeaderHeight)document.body.classList.remove("featured-image-fixed"),e.style.transform="",e.style.maxWidth="auto",t.style.paddingLeft=0;else if(window.scrollY>siteHeaderHeight+(i-o)){var n=window.scrollY-(i-o)-siteHeaderHeight;e.style.transform="translateY(calc(-"+n+"px + "+siteHeaderHeight+"px))"}}}function stickyCheckout(){if(!(window.innerWidth<600)){var e=$(".order-details")[0].offsetHeight,t=$(".order-totals-container"),r=t[0].offsetHeight;if(window.scrollY>checkoutWrapTop-(siteHeaderHeight+54)&&window.scrollY<e+orderOffsetTop-r-siteHeaderHeight-54)document.body.classList.add("cart-totals-fixed"),orderTotalsContainer.style.maxWidth=checkoutContainerWidth+"px",orderTotalsContainer.style.transform="translateY("+(siteHeaderHeight+29)+"px)";else if(window.scrollY>e+orderOffsetTop-r-siteHeaderHeight-54){var a=window.scrollY-r-r-siteHeaderHeight-54;t[0].style.transform="translateY(calc(-"+a+"px + "+orderOffsetTop+"px))"}else document.body.classList.remove("cart-totals-fixed"),orderTotalsContainer.style.maxWidth="auto",orderTotalsContainer.style.transform=""}}function setUpResponsiveCheckout(){respCheckout.html('<div class="order-details"><section><h2>Billing Information</h2>'+billingContent+"</section></div>");var e=$(".order-details");e.append("<section><h2>Shipping Information</h2>"+shippingContent+"</section>"),registrationPassword&&e.append('<section><h2>Create A Green Farm Parts Account</h2><p class="has-text-center mar-b font-shrink">Create an account today for quicker checkout on future orders, checking order status & tracking, and special offers sent via email</p><div class="form-group"><label for="password">Password</label>'+registrationPassword+'<button class="show-password">Show</button></div><div class="form-group"><label for="password-confirm">Confirm Password</label>'+registrationPasswordConfirm+'<button class="show-password">Show</button></div></section>'),e.append("<section><h2>Payment Information</h2>"+paymentContent+"</section>"),respCheckout.append('<div class="order-totals"><section class="order-totals-container"><h2>Your Order</h2></section></div>');var t=$(".order-totals-container");t.append(orderSummaryItems,shippingCostContent),t.append('<p style="font-size: 0.85rem;">Order Comments: <em>(optional)</em></p>',orderCommentsElem),t.append('<table width="100%" class="agreements"><tbody><tr>'+additionalInfoContent+"</tr></tbody></table>",placeOrder)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyIkIiwiZm9jdXMiLCJzaXRlSGVhZGVySGVpZ2h0IiwiaGVpZ2h0IiwiZmluZCIsInNldFRpbWVvdXQiLCJkb2N1bWVudCIsImJvZHkiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInBhZ2VJRCIsImlkIiwic3BsaXQiLCJhZG1pbkxpbmtVUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsImFkbWluTGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiaW5uZXJUZXh0IiwiYWRkIiwicHJlcGVuZCIsImlubmVyV2lkdGgiLCJhZGRDbGFzcyIsInBhZ2VQYXRoIiwicGF0aG5hbWUiLCJoZXJvSW1nIiwiZ2V0UmFuZG9tSW50IiwiaGVyb1RleHQiLCJicmVhZGNydW1icyIsInF1ZXJ5U2VsZWN0b3IiLCJicmVhZGNydW1iQXJyYXkiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJtYXRjaCIsImZpbHRlckl0ZW1zIiwicXVlcnkiLCJzZWFyY2hTdHJpbmdBcnJheSIsImZpbHRlciIsImVsIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwic2VhcmNoU3RyaW5nIiwic2VhcmNoIiwic2VhcmNoU3RyaW5nVGVybSIsInRvU3RyaW5nIiwiam9pbiIsInByb2R1Y3RSb3dzIiwicHJvZHVjdHNBcnJheSIsImkiLCJwdXNoIiwicHJvZHVjdExpbmsiLCJwcm9kdWN0SW1hZ2UiLCJzcmMiLCJwcm9kdWN0TmFtZSIsIm5leHRFbGVtZW50U2libGluZyIsInByb2R1Y3RQcmljZSIsInByb2R1Y3REZXNjcmlwdGlvbiIsInJlbW92ZSIsImZpcnN0UHJvZHVjdFJvdyIsImdmcFJlc3BvbnNpdmVMaXN0aW5nIiwiYXBwZW5kIiwiaXRlbURlc2NyaXB0aW9uIiwiaXRlbURlc2NyaXB0aW9uQXJyYXkiLCJpbm5lckhUTUwiLCJlbXB0eUNhcnRSb3ciLCJjaGlsZHJlbiIsImZpcnN0Iiwic2libGluZ3MiLCJjb2xTcGFuIiwiYmlsbElucHV0cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiaW5jbHVkZXMiLCJ0YXJnZXQiLCJzZWxmIiwibWF0Y2hDaGVja291dElucHV0IiwidmFsdWUiLCJ1cGRhdGVIZXJvIiwib3dsQ2Fyb3VzZWwiLCJtYXJnaW4iLCJuYXYiLCJkb3RzIiwicmVzcG9uc2l2ZSIsIjAiLCJsb29wIiwiaXRlbXMiLCIxMDAwIiwiYWNjb3VudFBhZ2VDb250ZW50IiwiY29uc29sZSIsImxvZyIsImFjY291bnRXZWxjb21lTWVzc2FnZSIsImFjY291bnRXZWxjb21lTWVzc2FnZU9wZW5lciIsIm5leHQiLCJnZnBBY2NvdW50RGV0YWlscyIsInBhcmVudCIsImFsbE9yZGVycyIsImVsZW0iLCJwYXJlbnRFbGVtZW50Iiwic2l0ZUhlYWRlciIsInNpdGVIZWFkZXJPZmZzZXQiLCJvZmZzZXRUb3AiLCJmaXhIZWFkZXIiLCJ0b2dnbGVNZW51IiwidG9nZ2xlTWVudUFjY29yZGlhbiIsImhhc2giLCJ0b2dnbGVDaGF0V2luZG93IiwicHJldmVudERlZmF1bHQiLCJwYXNzd29yZEZpZWxkIiwidHlwZSIsIlNlYXJjaFBhcmFtcyIsImFsbFN1YkNhdExpbmtzIiwiY2xlYW5TdWJDYXRMaW5rcyIsIm1vZGVsTGluayIsIm1vZGVsTnVtYmVyIiwicmVwbGFjZSIsImNsb3Nlc3QiLCJjYXRJRCIsInN1YnN0cmluZyIsInJlQ2FsY0J1dHRvbiIsImNhcnRUb3RhbENvbnRhaW5lciIsImNhcnRUb3RhbFZhbHVlIiwidGV4dCIsInRyaW0iLCJzaG9wcGluZ0NhcnRGb3JtIiwiY2FydFJvd3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xlYW5DYXJ0Um93cyIsInJlbW92ZUxpbmsiLCJxdWFudGl0eUlucHV0Iiwic3VtUHJpY2UiLCJvdXRlckhUTUwiLCJjYXJ0VGFibGUiLCJjaGVja291dENvbnRhaW5lciIsImJpbGxpbmdIZWFkZXIiLCJodG1sIiwiYmlsbGluZ0NvbnRlbnQiLCJzaGlwcGluZ0hlYWRlciIsInNoaXBwaW5nQ29udGVudCIsImFkZGl0aW9uYWxJbmZvSGVhZGVyIiwiYWRkaXRpb25hbEluZm9Db250ZW50Iiwic2hpcHBpbmdDb3N0SGVhZGVyIiwic2hpcHBpbmdDb3N0Q29udGVudCIsInNoaXBwaW5nVG90YWxzIiwib3JkZXJTdW1tYXJ5SXRlbXMiLCJyZWdpc3RyYXRpb25QYXNzd29yZCIsImF0dHIiLCJyZWdpc3RyYXRpb25QYXNzd29yZENvbmZpcm0iLCJzdWJtaXRPcmRlciIsInBsYWNlT3JkZXIiLCJvcmRlckNvbW1lbnRzRWxlbSIsInBheW1lbnRDb250ZW50IiwiYWZ0ZXIiLCJyZXNwQ2hlY2tvdXQiLCJjaGVja291dFdyYXAiLCJzZXRVcFJlc3BvbnNpdmVDaGVja291dCIsInRlcm1zTGluayIsInRlcm1zSW5wdXQiLCJ0ZXJtc1N0YXRlbWVudCIsInJldHVybnNMaW5rIiwicmV0dXJuc0lucHV0IiwicmV0dXJuc1N0YXRlbWVudCIsIm9yZGVyVG90YWxzQ29udGFpbmVyIiwib3JkZXJPZmZzZXRUb3AiLCJjaGVja291dFdyYXBUb3AiLCJvZmZzZXQiLCJ0b3AiLCJjaGVja291dENvbnRhaW5lcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJzdGlja3lDaGVja291dCIsImdsb2JhbF9DdXJyZW50X1Byb2R1Y3RDb2RlIiwicGFnZVRpdGxlIiwicHJvZHVjdERlc2NyaXB0aW9uV3JhcCIsImNzcyIsInJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lciIsImdldFJlbGF0ZWRQcm9kdWN0cyIsImZpdG1lbnRTdHJpbmciLCJmaXRtZW50QXJyYXkiLCJzb3J0IiwiZml0bWVudExpc3QiLCJmb3JtYXRSZWxhdGVkUHJvZHVjdHMiLCJwcm9kdWN0RmVhdHVyZUltYWdlIiwiZml4UHJvZHVjdEZlYXR1cmVJbWFnZSIsIm1pbiIsIm1heCIsIk1hdGgiLCJjZWlsIiwiZmxvb3IiLCJyYW5kb20iLCJ0b2dnbGUiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiZmNXaWRnZXQiLCJpc09wZW4iLCJvcGVuIiwiY2xvc2UiLCJoZXJvQ29udGFpbmVyIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJoZXJvSGVhZGluZyIsIm9wYWNpdHkiLCJzY3JvbGxZIiwicGFkZGluZ1RvcCIsIm9mZnNldEhlaWdodCIsInZhbCIsImlucHV0Iiwic2hpcEVsZW0iLCJyZWxhdGVkUHJvZHVjdHMiLCJyZWxhdGVkUHJvZHVjdFRpdGxlIiwicmVsYXRlZFByb2R1Y3RQcmljZSIsInJlbGF0ZWRQcm9kdWN0SW1nIiwiaW1hZ2VQYXRoIiwiY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzIiwicHJvZHVjdFRpdGxlIiwicHJvZHVjdEltZyIsImNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1RhYmxlIiwiY2xlYW5SZWxhdGVkUHJvZHVjdHMiLCJwcm9kdWN0VGl0bGVzIiwicmVsYXRlZFByb2R1Y3RMaW5rIiwiYmVmb3JlIiwic2xpZGVyUmVsYXRlZFByb2R1Y3RzIiwiZmVhdHVyZWRJbWFnZVBhcmVudCIsImZlYXR1cmVkQ29udGVudENvbnRhaW5lciIsImVsZW1XaWR0aCIsInByb2R1Y3RPZmZzZXQiLCJmZWF0dXJlZENvbnRlbnRIZWlnaHQiLCJmZWF0dXJlZEltYWdlSGVpZ2h0IiwidHJhbnNmb3JtIiwibWF4V2lkdGgiLCJwYWRkaW5nTGVmdCIsIm5lZ1Njcm9sbCIsIm9yZGVyRGV0YWlsc0hlaWdodCIsIm9yZGVyVG90YWxzIiwib3JkZXJUb3RhbHNIZWlnaHQiLCJyZXNwQ2hlY2tvdXREZXRhaWxzIiwicmVzcE9yZGVyVG90YWxzQ29udGFpbmVyIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRSwrQkFBK0JDLFFBRWpDLElBQUlDLGlCQUFtQkYsRUFBRSxnQkFBZ0JHLGNBRWtCLElBQS9DSCxFQUFFLGlCQUFpQkksS0FBSyxnQkFBZ0IsSUFDaERDLFdBQVcsV0FDUCxHQUFJQyxTQUFTQyxLQUFLQyxVQUFVQyxTQUFTLGNBQWUsQ0FFaEQsSUFBSUMsRUFBU1YsRUFBRSxpQkFBaUJJLEtBQUssZ0JBQWdCLEdBQUdPLEdBQUdD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aUIsY0FFdEZFLGFBQWE1RixPQUFPLHlHQUVwQixJQUFJOEssRUFBMkI3TyxFQUFFLDJCQUVqQzZPLEVBQXlCOUssT0FBT21GLGtCQUFtQkYscUJBQ25ENkYsRUFBeUI5SyxPQUFPLHlFQUEwRXlGLG1CQUMxR3FGLEVBQXlCOUssT0FBTyxxREFBdUQrRSxzQkFBd0Isd0JBQXlCUyIsImZpbGUiOiJnbG9iYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCcuc2VhcmNoLWJhci1jb250YWluZXIgaW5wdXQnKS5mb2N1cygpO1xuXG52YXIgc2l0ZUhlYWRlckhlaWdodCA9ICQoJy5zaXRlLWhlYWRlcicpLmhlaWdodCgpO1xuXG5pZiAoKHR5cGVvZiAkKCcjY29udGVudF9hcmVhJykuZmluZCgnLnZjYi1hcnRpY2xlJylbMF0gIT09ICd1bmRlZmluZWQnKSkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndmNiLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAvLyBodHRwOi8va3lyZXAuZmNjbXouc2VydmVydHJ1c3QuY29tL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD9UYWJsZT1BcnRpY2xlcyZJRD0xMTBcbiAgICAgICAgICAgIHZhciBwYWdlSUQgPSAkKCcjY29udGVudF9hcmVhJykuZmluZCgnLnZjYi1hcnRpY2xlJylbMF0uaWQuc3BsaXQoJ18nKVsyXTtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmtVUkwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/VGFibGU9QXJ0aWNsZXMmSUQ9JyArIHBhZ2VJRDtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaHJlZiA9IGFkbWluTGlua1VSTDtcbiAgICAgICAgICAgIGFkbWluTGluay5pbm5lclRleHQgPSAnRWRpdCBQYWdlJztcbiAgICAgICAgICAgIGFkbWluTGluay5jbGFzc0xpc3QuYWRkKCdlZGl0U2VhcmNoTGluaycsJ2J0bi1zb2xpZC0tYnJhbmQtdHdvJyk7XG4gICAgICAgICAgICAkKCdib2R5JykucHJlcGVuZChhZG1pbkxpbmspO1xuICAgICAgICB9XG4gICAgfSwgMzAwMCk7XG59XG5cbmlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDEwODApIHtcbiAgICAkKCcubWVudS1pdGVtLS10b3AtbGV2ZWwgLnN1Yi1tZW51LS1sZXZlbC1vbmUgPiBsaTpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCdhY3RpdmUnKS5maW5kKCcuc3ViLW1lbnUtLWxldmVsLXR3bycpLmFkZENsYXNzKCdhY2NvcmRpYW4tb3BlbicpO1xufVxuXG52YXIgcGFnZVBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG5cbnZhciBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLWdlbmVyaWMtJyArIGdldFJhbmRvbUludCgxLCA1KSArICcuanBnKSc7XG52YXIgaGVyb1RleHQgPSAnR3JlZW4gRmFybSBQYXJ0cyc7XG5cbnZhciBicmVhZGNydW1icyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYXRjaGluZ19yZXN1bHRzX3RleHQnKTtcblxuaWYgKGJyZWFkY3J1bWJzKSB7XG4gICAgdmFyIGJyZWFkY3J1bWJBcnJheSA9IGJyZWFkY3J1bWJzLnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQuc3BsaXQoJz4nKTtcbiAgICBoZXJvVGV4dCA9IGJyZWFkY3J1bWJBcnJheVticmVhZGNydW1iQXJyYXkubGVuZ3RoIC0gMV07ICAgIFxufVxuXG5cbmlmIChwYWdlUGF0aC5tYXRjaCgvRmlsdGVycy9pKSkge1xuICAgIGhlcm9JbWcgPSAndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tZmlsdGVycy5qcGcpJztcbiAgICAvLyBoZXJvVGV4dCA9ICdPaWwgRmlsdGVycyc7XG59XG5cbmlmIChwYWdlUGF0aC5tYXRjaCgvTWFpbnRlbmFuY2UtS2l0cy9pKSkge1xuICAgIGhlcm9JbWcgPSAndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tbWFpbnRlbmFuY2Uta2l0cy5qcGcpJztcbiAgICAvLyBoZXJvVGV4dCA9ICdNYWludGVuYW5jZSBLaXRzJztcbn1cblxuaWYgKHBhZ2VQYXRoLm1hdGNoKC9Ub3lzL2kpKSB7XG4gICAgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS10b3lzLmpwZyknO1xuICAgIC8vIGhlcm9UZXh0ID0gJ1RveXMnO1xufVxuXG5pZiAocGFnZVBhdGggPT09ICcvc2VhcmNocmVzdWx0cy5hc3AnKSB7XG4gICAgc2VhcmNoU3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICBzZWFyY2hTdHJpbmdBcnJheSA9IHNlYXJjaFN0cmluZy5zcGxpdCgnJicpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGZpbHRlckl0ZW1zKHF1ZXJ5KSB7XG4gICAgICByZXR1cm4gc2VhcmNoU3RyaW5nQXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxdWVyeS50b0xvd2VyQ2FzZSgpKSA+IC0xO1xuICAgICAgfSlcbiAgICB9XG5cbiAgICB2YXIgc2VhcmNoU3RyaW5nVGVybSA9IGZpbHRlckl0ZW1zKCdzZWFyY2g9JykudG9TdHJpbmcoKS5zcGxpdCgnPScpWzFdO1xuICAgIHNlYXJjaFN0cmluZ1Rlcm0gPSBzZWFyY2hTdHJpbmdUZXJtLnNwbGl0KCcrJykuam9pbignICcpLnNwbGl0KCclMjAnKS5qb2luKCcgJyk7XG4gICAgaGVyb1RleHQgPSAnU2VhcmNoIGZvcjogJyArIHNlYXJjaFN0cmluZ1Rlcm07XG5cbiAgICAvKiBTRVQgVVAgUkVTUE9OU0lWRSBTRUFSQ0ggUkVTVUxUUyovXG4gICAgdmFyIHByb2R1Y3RSb3dzID0gJCgnI01haW5Gb3JtIC52NjUtcHJvZHVjdERpc3BsYXkgLnY2NS1wcm9kdWN0RGlzcGxheSB0cicpO1xuICAgIHZhciBwcm9kdWN0c0FycmF5ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0Um93cy5sZW5ndGg7IGkgKz0gNSkge1xuICAgICAgICBwcm9kdWN0c0FycmF5LnB1c2goe1xuICAgICAgICAgICAgcHJvZHVjdExpbms6IHByb2R1Y3RSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5ocmVmLFxuICAgICAgICAgICAgcHJvZHVjdEltYWdlOiBwcm9kdWN0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmMsXG4gICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJ2Egc3BhbicpLmlubmVyVGV4dCxcbiAgICAgICAgICAgIHByb2R1Y3RQcmljZTogcHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X3Byb2R1Y3RwcmljZScpLmlubmVyVGV4dC5zcGxpdCgnICcpWzFdLFxuICAgICAgICAgICAgLy8gcHJvZHVjdFJhdGluZzogcHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy52Q1NTX2ltZ19zdGFyX2F2Z19yYXRpbmcnKS5zcmMgfHwgJycsXG4gICAgICAgICAgICBwcm9kdWN0RGVzY3JpcHRpb246IHByb2R1Y3RSb3dzW2ldLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLmlubmVyVGV4dFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcm9kdWN0Um93cy5yZW1vdmUoKTtcbiAgICBcbiAgICB2YXIgZmlyc3RQcm9kdWN0Um93ID0gJCgnI01haW5Gb3JtIC52NjUtcHJvZHVjdERpc3BsYXkgLnY2NS1wcm9kdWN0RGlzcGxheScpLmZpbmQoJ3Rib2R5Jyk7XG5cbiAgICBmaXJzdFByb2R1Y3RSb3cucHJlcGVuZCgnPHRyPjx0ZCBpZD1cImdmcC1yZXNwb25zaXZlLWxpc3RpbmdcIj48L3RkPjwvdHI+Jyk7XG4gICAgdmFyIGdmcFJlc3BvbnNpdmVMaXN0aW5nID0gJCgnI2dmcC1yZXNwb25zaXZlLWxpc3RpbmcnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdHNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBnZnBSZXNwb25zaXZlTGlzdGluZy5hcHBlbmQoJzxhIGhyZWY9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TGluayArICdcIiBjbGFzcz1cImNhcmRcIj48aW1nIHNyYz1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RJbWFnZSArICdcIiBhbHQ9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICdcIj48aDY+JyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdE5hbWUgKyAnPC9oNj48cD4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0UHJpY2UgKyAnPC9wPjwvYT4nKTtcbiAgICB9XG5cbn1cblxuaWYgKChwYWdlUGF0aCA9PT0gJy9TaG9wcGluZ0NhcnQuYXNwJykgfHwgcGFnZVBhdGggPT09ICcvc2hvcHBpbmdjYXJ0LmFzcCcpIHtcbiAgICBoZXJvVGV4dCA9ICdTaG9wcGluZyBDYXJ0JztcbiAgICB2YXIgaXRlbURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Y2NS1jYXJ0LWhlYWRlci1pdGVtZGVzY3JpcHRpb24gZm9udCcpO1xuICAgIGlmIChpdGVtRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgICB2YXIgaXRlbURlc2NyaXB0aW9uQXJyYXkgPSBpdGVtRGVzY3JpcHRpb24uaW5uZXJIVE1MLnNwbGl0KCcmbmJzcDsnKTtcbiAgICAgICAgaXRlbURlc2NyaXB0aW9uLmlubmVySFRNTCA9IGl0ZW1EZXNjcmlwdGlvbkFycmF5WzBdICsgJyAnICsgaXRlbURlc2NyaXB0aW9uQXJyYXlbMl07XG4gICAgfVxuICAgIHZhciBlbXB0eUNhcnRSb3cgPSAkKCcudjY1LWNhcnQtc2hpcHBpbmctZGV0YWlscy1yb3cnKS5jaGlsZHJlbigpLmZpcnN0KCk7XG4gICAgaWYgKGVtcHR5Q2FydFJvdy5sZW5ndGggPCAwKSB7XG4gICAgICAgIGVtcHR5Q2FydFJvdy5zaWJsaW5ncygpLnJlbW92ZSgpO1xuICAgICAgICBlbXB0eUNhcnRSb3dbMF0uY29sU3BhbiA9IDEyOyAgICBcbiAgICB9XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy9sb2dpbi5hc3AnKSB7XG4gICAgaGVyb1RleHQgPSAnTG9naW4nO1xufVxuXG5pZiAocGFnZVBhdGggPT09ICcvdGVybXMuYXNwJykge1xuICAgIGhlcm9UZXh0ID0gJ1Rlcm1zIGFuZCBDb25kaXRpb25zJztcbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL29uZS1wYWdlLWNoZWNrb3V0LmFzcCcpIHtcbiAgICBoZXJvVGV4dCA9ICdDaGVja291dCc7XG5cbiAgICB2YXIgYmlsbElucHV0cyA9IFtcbiAgICAgICAgXCJ2NjUtb25lcGFnZS1iaWxsZmlyc3RuYW1lXCIsXG4gICAgICAgIFwidjY1LW9uZXBhZ2UtYmlsbGxhc3RuYW1lXCIsXG4gICAgICAgIFwidjY1LW9uZXBhZ2UtYmlsbGNvbXBhbnluYW1lXCIsXG4gICAgICAgIFwidjY1LW9uZXBhZ2UtYmlsbGFkZHIxXCIsXG4gICAgICAgIFwidjY1LW9uZXBhZ2UtYmlsbGFkZHIyXCIsXG4gICAgICAgIFwidjY1LW9uZXBhZ2UtYmlsbGNpdHlcIixcbiAgICAgICAgXCJ2NjUtb25lcGFnZS1iaWxscG9zdGFsY29kZVwiLFxuICAgICAgICBcInY2NS1vbmVwYWdlLWJpbGxwaG9uZVwiLFxuICAgICAgICBcInY2NS1vbmVwYWdlLWJpbGxmYXhcIixcbiAgICAgICAgXCJ2NjUtY2FydC1iaWxsZW1haWxcIlxuICAgIF07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGJpbGxJbnB1dHMuaW5jbHVkZXMoZS50YXJnZXQuaWQpKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgdmFyIHZhbCA9IHNlbGYudmFsdWU7XG4gICAgICAgICAgICBtYXRjaENoZWNrb3V0SW5wdXQoc2VsZiwgdmFsKTtcbiAgICAgICAgfSBcbiAgICB9KTtcblxufVxuXG5pZiAocGFnZVBhdGggIT0gJy8nKSB7XG4gICAgdXBkYXRlSGVybyhoZXJvSW1nLCBoZXJvVGV4dCk7XG59IGVsc2Uge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndmNiLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAvLyBodHRwOi8va3lyZXAuZmNjbXouc2VydmVydHJ1c3QuY29tL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD9UYWJsZT1BcnRpY2xlcyZJRD1cbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmtVUkwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/VGFibGU9QXJ0aWNsZXMmSUQ9Mic7XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmhyZWYgPSBhZG1pbkxpbmtVUkw7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaW5uZXJUZXh0ID0gJ0VkaXQgUGFnZSc7XG4gICAgICAgICAgICBhZG1pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZWRpdFNlYXJjaExpbmsnLCdidG4tc29saWQtLWJyYW5kLXR3bycpO1xuICAgICAgICAgICAgJCgnYm9keScpLnByZXBlbmQoYWRtaW5MaW5rKTtcbiAgICAgICAgfVxuICAgIH0sIDMwMDApO1xuICAgICQoJy5jdXJyZW50LXNwZWNpYWwtb2ZmZXJzLWxpc3QnKS5vd2xDYXJvdXNlbCh7XG4gICAgICAgIC8vIGxvb3A6dHJ1ZSxcbiAgICAgICAgbWFyZ2luOiAxMCxcbiAgICAgICAgbmF2OiBmYWxzZSxcbiAgICAgICAgZG90czogdHJ1ZSxcbiAgICAgICAgcmVzcG9uc2l2ZToge1xuICAgICAgICAgICAgMDoge1xuICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICAgICAgaXRlbXM6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAxMDAwOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IDNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5BQ0NPVU5UIExJTktTIFBBR0Vcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAocGFnZVBhdGggPT09ICcvbXlhY2NvdW50LmFzcCcpIHtcblxuICAgIHZhciBhY2NvdW50UGFnZUNvbnRlbnQgPSAkKCcjY29udGVudF9hcmVhIHRkJyk7XG4gICAgY29uc29sZS5sb2coYWNjb3VudFBhZ2VDb250ZW50WzBdKTtcbiAgICB2YXIgYWNjb3VudFdlbGNvbWVNZXNzYWdlID0gYWNjb3VudFBhZ2VDb250ZW50WzBdLmlubmVySFRNTDtcbiAgICB2YXIgYWNjb3VudFdlbGNvbWVNZXNzYWdlT3BlbmVyID0gYWNjb3VudFBhZ2VDb250ZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ2InKS5pbm5lckhUTUw7XG4gICAgdXBkYXRlSGVybyhoZXJvSW1nLCBhY2NvdW50V2VsY29tZU1lc3NhZ2VPcGVuZXIpO1xuXG4gICAgJCgnLmhlcm8nKS5uZXh0KCkuZmluZCgnLnNpdGUtd2lkdGgnKS5wcmVwZW5kKCc8ZGl2IGlkPVwiZ2ZwLWFjY291bnQtZGV0YWlsc1wiPjwvZGl2PicpO1xuICAgIHZhciBnZnBBY2NvdW50RGV0YWlscyA9ICQoJyNnZnAtYWNjb3VudC1kZXRhaWxzJyk7XG5cbiAgICAkKCcjY29udGVudF9hcmVhJykucmVtb3ZlKCk7XG5cbiAgICBnZnBBY2NvdW50RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uIGNsYXNzPVwiYm94LS1oZWFkaW5nLWJyYW5kXCI+PGgyIGNsYXNzPVwiYm94LWhlYWRsaW5lXCI+TXkgT3JkZXJzPC9oMj48dWw+PGxpPjxhIGhyZWY9XCIvb3JkZXJzLmFzcFwiPlJldmlldyBPcmRlcnM8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9vcmRlcnMuYXNwXCI+Q2hhbmdlL0NhbmNlbCBPcmRlcjwvYT48L2xpPjxsaT48YSBocmVmPVwiL29yZGVycy5hc3BcIj5DaGFuZ2UgU2hpcHBpbmcgQWRkcmVzczwvYT48L2xpPjxsaT48YSBocmVmPVwiL29yZGVycy5hc3BcIj5QcmludCBJbnZvaWNlczwvYT48L2xpPjxsaT48YSBocmVmPVwiL29yZGVycy5hc3BcIj5DaGFuZ2UgQmlsbGluZyBBZGRyZXNzPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvcmV0dXJucy5hc3BcIj5SZXR1cm4gSXRlbXM8L2E+PC9saT48L3VsPjwvc2VjdGlvbj4nKTtcbiAgICBnZnBBY2NvdW50RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uIGNsYXNzPVwiYm94LS1oZWFkaW5nLWJyYW5kXCI+PGgyIGNsYXNzPVwiYm94LWhlYWRsaW5lXCI+UGVyc29uYWwgSW5mb3JtYXRpb248L2gyPjx1bD48bGk+PGEgaHJlZj1cIi9BY2NvdW50U2V0dGluZ3MuYXNwP21vZHdoYXQ9Y2hhbmdlX2FcIj5DaGFuZ2UgZS1tYWlsIGFkZHJlc3MsIG9yIHBhc3N3b3JkPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvQWNjb3VudFNldHRpbmdzLmFzcD9tb2R3aGF0PWNoYW5nZV9iXCI+TWFuYWdlIHlvdXIgYmlsbGluZyBhZGRyZXNzZXM8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9NYWlsaW5nTGlzdF91bnN1YnNjcmliZS5hc3BcIj5DaGFuZ2UgbXkgZS1tYWlsIHByZWZlcmVuY2VzPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvQWNjb3VudFNldHRpbmdzLmFzcD9tb2R3aGF0PWNoYW5nZV9zXCI+TWFuYWdlIHlvdXIgc2hpcHBpbmcgYWRkcmVzc2VzPC9hPjwvbGk+PC91bD48L3NlY3Rpb24+Jyk7XG4gICAgZ2ZwQWNjb3VudERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbiBjbGFzcz1cImJveC0taGVhZGluZy1icmFuZFwiPjxoMiBjbGFzcz1cImJveC1oZWFkbGluZVwiPlBheW1lbnQgU2V0dGluZ3M8L2gyPjx1bD48bGk+PGEgaHJlZj1cIi9BY2NvdW50U2V0dGluZ3MuYXNwP21vZHdoYXQ9Y2hhbmdlX2MmbXlhY2NvdW50PVlcIj5FZGl0IG9yIGRlbGV0ZSBhIGNyZWRpdC9kZWJpdCBjYXJkPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvTXlBY2NvdW50X0dpZnRCYWxhbmNlLmFzcFwiPlZpZXcgZ2lmdCBjZXJ0aWZpY2F0ZSBiYWxhbmNlPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvTXlBY2NvdW50X0FwcGx5R2lmdC5hc3BcIj5BcHBseSBhIGdpZnQgY2VydGlmaWNhdGUgdG8geW91ciBhY2NvdW50PC9hPjwvbGk+PC91bD48L3NlY3Rpb24+Jyk7XG4gICAgZ2ZwQWNjb3VudERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbiBjbGFzcz1cImJveC0taGVhZGluZy1icmFuZFwiPjxoMiBjbGFzcz1cImJveC1oZWFkbGluZVwiPk90aGVyIEZlYXR1cmVzPC9oMj48dWw+PGxpPjxhIGhyZWY9XCIvbXlhY2NvdW50X215cmV2aWV3cy5hc3BcIj5FZGl0IGEgcmV2aWV3IHRoYXQgSSB3cm90ZTwvYT48L2xpPjxsaT48YSBocmVmPVwiL1dpc2hMaXN0LmFzcFwiPlZpZXcgbXkgV2lzaCBMaXN0PC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvTXlSZXdhcmRzLmFzcFwiPk15IFJld2FyZHM8L2E+PC9saT48L3VsPjwvc2VjdGlvbj4nKTtcbiAgICBnZnBBY2NvdW50RGV0YWlscy5wYXJlbnQoKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJoYXMtdGV4dC1jZW50ZXIgbWFyLXQtLW1vcmVcIj48YSBocmVmPVwiL2xvZ2luLmFzcD9sb2dvdXQ9eWVzXCIgY2xhc3M9XCJidG4tb3V0bGluZS0tYnJhbmQtdHdvXCI+TG9nb3V0PC9hPjwvZGl2PicpO1xufVxuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbk9SREVSUyBQQUdFXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKHBhZ2VQYXRoID09PSAnL29yZGVycy5hc3AnKSB7XG5cbiAgICBoZXJvVGV4dCA9ICdZb3VyIE9yZGVycydcblxuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgaGVyb1RleHQpO1xuXG4gICAgdmFyIGFsbE9yZGVycyA9ICQoJyNjb250ZW50X2FyZWEgZm9ybSAuY29sb3JzX2xpbmVzX2xpZ2h0IHRib2R5ID4gLmNvbG9yc19iYWNrZ3JvdW5kbmV1dHJhbCA+IHRkOmxhc3QtY2hpbGQgYScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxPcmRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVsZW0gPSBhbGxPcmRlcnNbaV07XG4gICAgICAgIGVsZW0uaW5uZXJIVE1MID0gJ1ZpZXcgT3JkZXInO1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoXCJidG4tc29saWQtLWJyYW5kLXR3b1wiKTtcbiAgICB9XG5cbiAgICAvLyB2YXIgY2xlYW5BbGxPcmRlcnMgPSBbXTtcbiAgICBcbiAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGFsbE9yZGVycy5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgICB2YXIgYWxsSXRlbXNJbk9yZGVyID0gYWxsT3JkZXJzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkOm50aC1jaGlsZCgyKSB0cicpO1xuICAgIC8vICAgICB2YXIgaXRlbVJvd3MgPSBbXTtcblxuICAgIC8vICAgICBmb3IgKHZhciBjID0gMTsgYyA8IGFsbEl0ZW1zSW5PcmRlci5sZW5ndGg7IGMrKykge1xuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coYWxsSXRlbXNJbk9yZGVyW2NdLnF1ZXJ5U2VsZWN0b3IoJ2EnKSk7XG4gICAgLy8gICAgICAgICAvLyBpdGVtUm93cy5wdXNoKHtcbiAgICAvLyAgICAgICAgIC8vICAgICBcIml0ZW1MaW5rXCI6IGFsbEl0ZW1zSW5PcmRlcltjXS5xdWVyeVNlbGVjdG9yKCdhJykuaHJlZlxuICAgIC8vICAgICAgICAgLy8gfSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgLy8gY29uc29sZS5sb2coaXRlbVJvd3NbaV0pO1xuICAgICAgICBcbiAgICAvLyAgICAgY2xlYW5BbGxPcmRlcnMucHVzaCh7XG4gICAgLy8gICAgICAgICBcIm9yZGVyTWV0YURldGFpbHNcIjogYWxsT3JkZXJzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3RkJykuaW5uZXJIVE1MLFxuICAgIC8vICAgICAgICAgXCJvcmRlckxpbmtcIjogYWxsT3JkZXJzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3RkOmxhc3QtY2hpbGQgYScpLmhyZWYsXG4gICAgLy8gICAgICAgICBcIm9yZGVySXRlbXNcIjogaXRlbVJvd3NbaV1cbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfVxuXG4gICAgLy8gJCgnI2NvbnRlbnRfYXJlYSBmb3JtJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ2ZwLW9yZGVyLWxpc3RcIj48dWw+PC91bD48L2Rpdj4nKTtcbiAgICAvLyB2YXIgZ2ZwT3JkZXJMaXN0ID0gJCgnLmdmcC1vcmRlci1saXN0IHVsJyk7XG5cbiAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGNsZWFuQWxsT3JkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gICAgIGdmcE9yZGVyTGlzdC5hcHBlbmQoJzxsaSBjbGFzcz1cImdmcC1vcmRlci1pdGVtXCI+PGRpdiBjbGFzcz1cImdmcC1vcmRlci1pdGVtLS1vcmRlci1tZXRhXCI+JyArIGNsZWFuQWxsT3JkZXJzW2ldLm9yZGVyTWV0YURldGFpbHMgKyAnPGJyIC8+PGEgaHJlZj1cIicgKyBjbGVhbkFsbE9yZGVyc1tpXS5vcmRlckxpbmsgKyAnXCIgY2xhc3M9XCJtYXItdCBidG4tc29saWQtLWJyYW5kLXR3b1wiPlZpZXcgRGV0YWlsczwvYT48L2Rpdj48ZGl2IGNsYXNzPVwiZ2ZwLW9yZGVyLWl0ZW0tLW9yZGVyLWl0ZW1zXCI+JyArIGNsZWFuQWxsT3JkZXJzW2ldLm9yZGVySXRlbXMgKyAnPC9kaXY+PC9saT4nKTtcbiAgICAvLyB9XG5cbn1cblxuXG5cbmlmIChicmVhZGNydW1icykge1xuICAgIGJyZWFkY3J1bWJzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdicmVhZGNydW1icycpO1xufVxuXG52YXIgc2l0ZUhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaXRlLWhlYWRlcicpO1xudmFyIHNpdGVIZWFkZXJPZmZzZXQgPSBzaXRlSGVhZGVyLm9mZnNldFRvcDtcblxuaWYgKHNpdGVIZWFkZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZml4SGVhZGVyKTtcbn1cblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblxuICAgIGlmICgoZS50YXJnZXQuaWQgPT09ICdoYW1idXJnZXInKSB8fCAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYW1idXJnZXItYm94JykpIHx8IChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2hhbWJ1cmdlci1pbm5lcicpKSkge1xuICAgICAgICB0b2dnbGVNZW51KCk7XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaWFuLXRvZ2dsZS0tc2l0ZS1oZWFkZXInKSkge1xuICAgICAgICB0b2dnbGVNZW51QWNjb3JkaWFuKGUpO1xuICAgIH1cblxuICAgIGlmIChlLnRhcmdldC5oYXNoID09PSAnI2NoYXQnKSB7XG4gICAgICAgIHRvZ2dsZUNoYXRXaW5kb3coZSk7XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1wYXNzd29yZCcpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICAgICAgdmFyIHBhc3N3b3JkRmllbGQgPSBzZWxmLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgdmFyIHBhc3N3b3JkRmllbGRUeXBlID0gcGFzc3dvcmRGaWVsZC50eXBlO1xuICAgICAgICBpZiAocGFzc3dvcmRGaWVsZC50eXBlID09PSAncGFzc3dvcmQnKSB7XG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkLnR5cGUgPSAndGV4dCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkLnR5cGUgPSAncGFzc3dvcmQnO1xuICAgICAgICB9XG4gICAgfVxuXG59KTtcblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuQ0FURUdPUlkgTElTVElOR1xuPT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmICgodHlwZW9mIFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcpICYmIChwYWdlUGF0aCAhPSAnL3NlYXJjaHJlc3VsdHMuYXNwJykpIHtcbiAgICB2YXIgYWxsU3ViQ2F0TGlua3MgPSAkKCcuc3ViY2F0ZWdvcnlfbGluaycpO1xuICAgIGNsZWFuU3ViQ2F0TGlua3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsU3ViQ2F0TGlua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2xlYW5TdWJDYXRMaW5rcy5wdXNoKHtcbiAgICAgICAgICAgIFwibW9kZWxMaW5rXCI6IGFsbFN1YkNhdExpbmtzW2ldLmhyZWYsXG4gICAgICAgICAgICBcIm1vZGVsTnVtYmVyXCI6IGFsbFN1YkNhdExpbmtzW2ldLmlubmVyVGV4dC5yZXBsYWNlKCdKb2huIERlZXJlJywgJycpLnNwbGl0KCcgJylbMV1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWxsU3ViQ2F0TGlua3MuZmlyc3QoKS5jbG9zZXN0KCcuY29sb3JzX2JhY2tncm91bmRuZXV0cmFsJykucGFyZW50KCkucHJlcGVuZCgnPHRkIGNsYXNzPVwiZ2ZwLWNsZWFuLXN1YmNhdGVnb3JpZXNcIj48aDI+Q2hvb3NlIHlvdXIgbW9kZWwgdG8gc2VlIHBhcnRzIHRoYXQgZml0IHlvdXIgbW9kZWw8L2gyPjwvdGQ+Jyk7XG4gICAgLy8gJCgnLmdmcC1jbGVhbi1zdWJjYXRlZ29yaWVzJykuc2libGluZ3MoKS5yZW1vdmUoKTtcblxuXG4gICAgXG4gICAgLyogU0VUIFVQIFJFU1BPTlNJVkUgU0VBUkNIIFJFU1VMVFMqL1xuICAgIHZhciBwcm9kdWN0Um93cyA9ICQoJyNNYWluRm9ybSAudjY1LXByb2R1Y3REaXNwbGF5IC52NjUtcHJvZHVjdERpc3BsYXkgPiB0Ym9keSA+IHRyJyk7XG4gICAgdmFyIHByb2R1Y3RzQXJyYXkgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RSb3dzLmxlbmd0aDsgaSArPSA2KSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCk7XG4gICAgICAgIHByb2R1Y3RzQXJyYXkucHVzaCh7XG4gICAgICAgICAgICBwcm9kdWN0TGluazogcHJvZHVjdFJvd3NbaV0ucXVlcnlTZWxlY3RvcignYScpLmhyZWYsXG4gICAgICAgICAgICBwcm9kdWN0SW1hZ2U6IHByb2R1Y3RSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYyxcbiAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0Um93c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignYScpLmlubmVyVGV4dCxcbiAgICAgICAgICAgIHByb2R1Y3RQcmljZTogcHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9wcm9kdWN0cHJpY2UnKS5pbm5lclRleHQuc3BsaXQoJyAnKVsxXSxcbiAgICAgICAgLy8gICAgIHByb2R1Y3REZXNjcmlwdGlvbjogcHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcuaW5uZXJUZXh0XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb2R1Y3RSb3dzLnJlbW92ZSgpO1xuICAgIFxuICAgIHZhciBmaXJzdFByb2R1Y3RSb3cgPSAkKCcjTWFpbkZvcm0gLnY2NS1wcm9kdWN0RGlzcGxheSAudjY1LXByb2R1Y3REaXNwbGF5JykuZmluZCgndGJvZHknKTtcblxuICAgIGZpcnN0UHJvZHVjdFJvdy5wcmVwZW5kKCc8dHI+PHRkIGlkPVwiZ2ZwLXJlc3BvbnNpdmUtbGlzdGluZ1wiPjwvdGQ+PC90cj4nKTtcbiAgICB2YXIgZ2ZwUmVzcG9uc2l2ZUxpc3RpbmcgPSAkKCcjZ2ZwLXJlc3BvbnNpdmUtbGlzdGluZycpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGdmcFJlc3BvbnNpdmVMaXN0aW5nLmFwcGVuZCgnPGEgaHJlZj1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RMaW5rICsgJ1wiIGNsYXNzPVwiY2FyZFwiPjxpbWcgc3JjPVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdEltYWdlICsgJ1wiIGFsdD1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3ROYW1lICsgJ1wiPjxoNj4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICc8L2g2PjxwPicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RQcmljZSArICc8L3A+PC9hPicpO1xuICAgIH1cblxuICAgIC8vIERZTkFNSUMgQURNSU4gTElOS1xuICAgIC8vIGh0dHA6Ly9reXJlcC5mY2Ntei5zZXJ2ZXJ0cnVzdC5jb20vYWRtaW4vQWRtaW5EZXRhaWxzX0dlbmVyaWMuYXNwP3RhYmxlPUNhdGVnb3JpZXMmUGFnZT0xJklEPVxuICAgIHZhciBjYXRJRCA9IFNlYXJjaFBhcmFtcy5zcGxpdCgnJicpWzJdLnN1YnN0cmluZyg0KTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3ZjYi1hY3RpdmUnKSkge1xuICAgICAgICAgICAgdmFyIGFkbWluTGlua1VSTCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD90YWJsZT1DYXRlZ29yaWVzJlBhZ2U9MSZJRD0nICsgY2F0SUQ7XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmhyZWYgPSBhZG1pbkxpbmtVUkw7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaW5uZXJUZXh0ID0gJ0VkaXQgQ2F0ZWdvcnknO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmNsYXNzTGlzdC5hZGQoJ2VkaXRTZWFyY2hMaW5rJywnYnRuLXNvbGlkLS1icmFuZC10d28nKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5wcmVwZW5kKGFkbWluTGluayk7XG4gICAgICAgIH1cbiAgICB9LCAzMDAwKTtcbn1cblxuXG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuUkVTUE9OU0lWRSBTSE9QUElORyBDQVJUXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKChwYWdlUGF0aCA9PT0gJy9TaG9wcGluZ0NhcnQuYXNwJykgfHwgcGFnZVBhdGggPT09ICcvc2hvcHBpbmdjYXJ0LmFzcCcpIHtcbiAgICB2YXIgcmVDYWxjQnV0dG9uID0gJCgnI2J0blJlY2FsY3VsYXRlJyk7XG4gICAgdmFyIGNhcnRUb3RhbENvbnRhaW5lciA9ICQoJyN2NjUtY2FydC10b3RhbC1lc3RpbWF0ZSB0ZDpmaXJzdC1jaGlsZCcpO1xuICAgIHZhciBjYXJ0VG90YWxWYWx1ZSA9IGNhcnRUb3RhbENvbnRhaW5lci50ZXh0KCkudHJpbSgpO1xuXG4gICAgJCgnI3Y2NS1jYXJ0LXNoaXBwaW5nLWRldGFpbHMtd3JhcHBlcicpLnJlbW92ZSgpO1xuICAgIHZhciBzaG9wcGluZ0NhcnRGb3JtID0gJCgnI3Y2NS1jYXJ0LXRhYmxlJykucGFyZW50KCdmb3JtJyk7XG4gICAgdmFyIGNhcnRSb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Y2NS1jYXJ0LXRhYmxlIC52NjUtY2FydC1kZXRhaWxzLXJvdycpO1xuICAgIHZhciBjbGVhbkNhcnRSb3dzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcnRSb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByZW1vdmVMaW5rID0gY2FydFJvd3NbaV0ucXVlcnlTZWxlY3RvcignLnY2NS1jYXJ0LWl0ZW0tcmVtb3ZlLWxpbmsnKTtcbiAgICAgICAgdmFyIHByb2R1Y3RJbWFnZSA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJy52NjUtY2FydC1kZXRhaWwtcHJvZHVjdGltYWdlJykuaW5uZXJIVE1MO1xuICAgICAgICB2YXIgcHJvZHVjdE5hbWUgPSBjYXJ0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCcudjY1LWNhcnQtZGV0YWlscy10ZXh0IC5jYXJ0LWl0ZW0tbmFtZScpO1xuICAgICAgICB2YXIgcXVhbnRpdHlJbnB1dCA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWUqPVwiUXVhbnRpdHlcIl0nKTtcbiAgICAgICAgdmFyIHByb2R1Y3RQcmljZSA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3RkOm50aC1jaGlsZCg5KSAuY2FydHRleHQnKS5pbm5lclRleHQ7XG4gICAgICAgIHZhciBzdW1QcmljZSA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3RkOm50aC1jaGlsZCgxMSkgLmNhcnR0ZXh0JykuaW5uZXJUZXh0O1xuICAgICAgICBjbGVhbkNhcnRSb3dzLnB1c2goe1xuICAgICAgICAgICAgcmVtb3ZlTGluazogcmVtb3ZlTGluayxcbiAgICAgICAgICAgIHByb2R1Y3RJbWFnZTogcHJvZHVjdEltYWdlLFxuICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLFxuICAgICAgICAgICAgcXVhbnRpdHlJbnB1dDogcXVhbnRpdHlJbnB1dCxcbiAgICAgICAgICAgIHByb2R1Y3RQcmljZTogcHJvZHVjdFByaWNlLFxuICAgICAgICAgICAgc3VtUHJpY2U6IHN1bVByaWNlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNob3BwaW5nQ2FydEZvcm0ucHJlcGVuZCgnPGRpdiBpZD1cImdmcC1yZXNwb25zaXZlLWNhcnRcIj48dGFibGU+PHRoZWFkPjx0cj48dGggY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1wcm9kdWN0LWltYWdlXCI+PC90aD48dGggY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1wcm9kdWN0LWRlc2NyaXB0aW9uXCI+SXRlbTwvdGg+PHRoIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tdW5pdC1wcmljZVwiPlVuaXQgUHJpY2U8L3RoPjx0aCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXF1YW50aXR5XCI+UXVhbnRpdHk8L3RoPjx0aCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXVuaXQtdG90YWxcIj5Ub3RhbDwvdGg+PHRoIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcmVtb3ZlLWl0ZW1cIj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PC90Ym9keT48L3RhYmxlPicgKyAnPHAgY2xhc3M9XCJjYXJ0LXN1YnRvdGFsXCI+PHN0cm9uZz5PcmRlciBTdWJ0b3RhbDogJyArIGNhcnRUb3RhbFZhbHVlICsgJzwvc3Ryb25nPjwvcD4nICsgcmVDYWxjQnV0dG9uWzBdLm91dGVySFRNTCArICc8L2Rpdj4nKTtcblxuICAgICQoJyN2NjUtY2FydC10YWJsZScpLnJlbW92ZSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGVhbkNhcnRSb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjYXJ0VGFibGUgPSAkKCcjZ2ZwLXJlc3BvbnNpdmUtY2FydCB0Ym9keScpO1xuICAgICAgICBjYXJ0VGFibGUuYXBwZW5kKCc8dHI+PHRkIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcHJvZHVjdC1pbWFnZVwiPicgKyBjbGVhbkNhcnRSb3dzW2ldLnByb2R1Y3RJbWFnZSArICc8L3RkPjx0ZCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXByb2R1Y3QtZGVzY3JpcHRpb25cIj4nICsgY2xlYW5DYXJ0Um93c1tpXS5wcm9kdWN0TmFtZS5pbm5lclRleHQgKyAnPC90ZD48dGQgY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS11bml0LXByaWNlXCI+JyArIGNsZWFuQ2FydFJvd3NbaV0ucHJvZHVjdFByaWNlICsgJzwvdGQ+PHRkIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcXVhbnRpdHlcIj4nICsgY2xlYW5DYXJ0Um93c1tpXS5xdWFudGl0eUlucHV0Lm91dGVySFRNTCArICc8L3RkPjx0ZCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXVuaXQtdG90YWxcIj4nICsgY2xlYW5DYXJ0Um93c1tpXS5zdW1QcmljZSArICc8L3RkPjx0ZCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXJlbW92ZS1pdGVtXCI+JyArIGNsZWFuQ2FydFJvd3NbaV0ucmVtb3ZlTGluay5vdXRlckhUTUwgKyAnPC90ZD48L3RyPicpO1xuICAgIH1cbn1cblxuXG5cblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5SRVNQT05TSVZFIENIRUNLT1VUXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xudmFyIGNoZWNrb3V0Q29udGFpbmVyID0gJCgnI3Y2NS1vbmVwYWdlLURldGFpbCcpO1xuaWYgKGNoZWNrb3V0Q29udGFpbmVyLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgYmlsbGluZ0hlYWRlciA9ICQoJyNiaWxsaW5nLWhlYWRlcicpLmh0bWwoKTtcbiAgICB2YXIgYmlsbGluZ0NvbnRlbnQgPSAkKCcjdjY1LW9uZXBhZ2UtQmlsbGluZ1BhcmVudCcpLmh0bWwoKTtcbiAgICB2YXIgc2hpcHBpbmdIZWFkZXIgPSAkKCcjc2hpcHBpbmctaGVhZGVyJykuaHRtbCgpO1xuICAgIHZhciBzaGlwcGluZ0NvbnRlbnQgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdQYXJlbnQnKS5odG1sKCk7XG4gICAgdmFyIGFkZGl0aW9uYWxJbmZvSGVhZGVyID0gJCgnLnY2NS1vbmVwYWdlLWN1c3RvbS1oZWFkZXItcm93JykuaHRtbCgpO1xuICAgIHZhciBhZGRpdGlvbmFsSW5mb0NvbnRlbnQgPSAkKCcudjY1LW9uZXBhZ2UtY3VzdG9tLWRldGFpbHMtcm93JykuaHRtbCgpO1xuICAgIHZhciBzaGlwcGluZ0Nvc3RIZWFkZXIgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdDb3N0SGVhZGVyJykuaHRtbCgpO1xuICAgIHZhciBzaGlwcGluZ0Nvc3RDb250ZW50ID0gJCgnI3Y2NS1vbmVwYWdlLVNoaXBwaW5nQ29zdCcpWzBdLm91dGVySFRNTDtcbiAgICB2YXIgc2hpcHBpbmdUb3RhbHMgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdDb3N0UGFyZW50JykucGFyZW50KCkuaHRtbCgpO1xuICAgIHZhciBvcmRlclN1bW1hcnlJdGVtcyA9ICQoJyN2NjUtb25lcGFnZS1vcmRlcnN1bW1hcnktaXRlbXMnKS5wYXJlbnQoKS5odG1sKCk7XG4gICAgaWYgKCQoJyN2NjUtb25lcGFnZS1SZWdpc3RyYXRpb25Gb3JtRmllbGRzJykubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uUGFzc3dvcmQgPSAkKCcjdjY1LW9uZXBhZ2UtUmVnaXN0cmF0aW9uRm9ybUZpZWxkcyBpbnB1dFtuYW1lPVwicGFzc3dvcmRcIl0nKS5maXJzdCgpLmF0dHIoJ2lkJywgJ3Bhc3N3b3JkJyk7XG4gICAgICAgIHJlZ2lzdHJhdGlvblBhc3N3b3JkID0gJCgnI3Y2NS1vbmVwYWdlLVJlZ2lzdHJhdGlvbkZvcm1GaWVsZHMgaW5wdXRbbmFtZT1cInBhc3N3b3JkXCJdJylbMF0ub3V0ZXJIVE1MO1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uUGFzc3dvcmRDb25maXJtID0gJCgnI3Y2NS1vbmVwYWdlLVJlZ2lzdHJhdGlvbkZvcm1GaWVsZHMgaW5wdXRbbmFtZT1cInBhc3N3b3JkYWdhaW5cIl0nKS5maXJzdCgpLmF0dHIoJ2lkJywgJ3Bhc3N3b3JkLWNvbmZpcm0nKTtcbiAgICAgICAgcmVnaXN0cmF0aW9uUGFzc3dvcmRDb25maXJtID0gJCgnI3Y2NS1vbmVwYWdlLVJlZ2lzdHJhdGlvbkZvcm1GaWVsZHMgaW5wdXRbbmFtZT1cInBhc3N3b3JkYWdhaW5cIl0nKVswXS5vdXRlckhUTUw7XG4gICAgfVxuICAgICQoJyNzcGFuX3BheW1lbnRmaWVsZHNfY3JlZGl0X2NhcmQgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDYpIHRkOmZpcnN0LWNoaWxkJykucmVtb3ZlKCk7XG4gICAgJCgnI3NwYW5fcGF5bWVudGZpZWxkc19jcmVkaXRfY2FyZCA+IHRhYmxlID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoNikgdGQ6bGFzdC1jaGlsZCcpLmF0dHIoJ2NvbHNwYW4nLCAnMScpO1xuICAgIFxuICAgICQoJyN2NjUtY2hlY2tvdXQtcGF5bWVudC1oZWFkZXInKS5wYXJlbnQoKS5yZW1vdmUoKTtcbiAgICB2YXIgc3VibWl0T3JkZXIgPSAkKCcjZGl2YnRuU3VibWl0T3JkZXInKTtcbiAgICBzdWJtaXRPcmRlci5maW5kKCdpbWcnKS5yZW1vdmUoKTtcbiAgICBzdWJtaXRPcmRlci5maW5kKCdidXR0b24nKS50ZXh0KCdQbGFjZSBPcmRlcicpLmFkZENsYXNzKCdidG4tc29saWQtLWJyYW5kLXR3bycpO1xuICAgIHZhciBwbGFjZU9yZGVyID0gc3VibWl0T3JkZXIuaHRtbCgpO1xuICAgIHN1Ym1pdE9yZGVyLnJlbW92ZSgpO1xuICAgIFxuXG4gICAgdmFyIG9yZGVyQ29tbWVudHNFbGVtID0gJCgnI3Y2NS1vbmVwYWdlLW9yZGVyY29tbWVudHMtaW5wdXQnKTtcbiAgICBvcmRlckNvbW1lbnRzRWxlbS5yZW1vdmUoKTtcbiAgICAkKCcjdjY1LW9uZXBhZ2Utb3JkZXJjb21tZW50cy1yb3cnKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKTtcblxuICAgIHZhciBwYXltZW50Q29udGVudCA9ICQoJyN2NjUtb25lcGFnZS1wYXltZW50LWRldGFpbHMtcGFyZW50LXRhYmxlJylbMF0ub3V0ZXJIVE1MO1xuICAgIFxuXG4gICAgY2hlY2tvdXRDb250YWluZXIucmVtb3ZlKCk7XG4gICAgJCgnI3RhYmxlX2NoZWNrb3V0X2NhcnQwJykucmVtb3ZlKCk7XG5cbiAgICAkKCcjRm9ybWF0TGlzdG9mRXJyb3JzRGl2JykuYWZ0ZXIoJzxkaXYgaWQ9XCJnZnAtcmVzcG9uc2l2ZS1jaGVja291dFwiPjwvZGl2PicpO1xuXG5cbiAgICBcbiAgICB2YXIgcmVzcENoZWNrb3V0ID0gJCgnI2dmcC1yZXNwb25zaXZlLWNoZWNrb3V0Jyk7XG4gICAgdmFyIGNoZWNrb3V0V3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZnAtcmVzcG9uc2l2ZS1jaGVja291dCcpO1xuXG5cbiAgICBcbiAgICBzZXRVcFJlc3BvbnNpdmVDaGVja291dCgpO1xuXG4gICAgdmFyIHRlcm1zTGluayA9ICQoJyNhcnRpY2xlQm9keV8xMTInKS5zaWJsaW5ncygndGFibGUnKS5maW5kKCd0cjpmaXJzdC1jaGlsZCB0ZDpsYXN0LWNoaWxkIGEnKTtcbiAgICB2YXIgdGVybXNJbnB1dCA9ICQoJ2lucHV0W25hbWU9XCJPcmRlcnMuQ3VzdG9tX0ZpZWxkX1Rlcm1zb2ZVc2VcIl0nKTtcbiAgICB0ZXJtc0lucHV0LnBhcmVudCgpLnJlbW92ZSgpO1xuICAgIFxuICAgIHZhciB0ZXJtc1N0YXRlbWVudCA9ICQoJyNhcnRpY2xlQm9keV8xMTInKS5zaWJsaW5ncygndGFibGUnKS5maW5kKCd0cjpmaXJzdC1jaGlsZCB0ZDpmaXJzdC1jaGlsZCcpLmh0bWwodGVybXNJbnB1dFswXS5vdXRlckhUTUwgKyAnSSBhZ3JlZSB0byB0aGUgPGEgaHJlZj1cIicgKyB0ZXJtc0xpbmsuYXR0cignaHJlZicpICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj5UZXJtcyBhbmQgQ29uZGl0aW9uczwvYT4nKTtcblxuICAgIHRlcm1zTGluay5yZW1vdmUoKTtcblxuICAgIHZhciByZXR1cm5zTGluayA9ICQoJyNhcnRpY2xlQm9keV8xMTInKS5zaWJsaW5ncygndGFibGUnKS5maW5kKCd0cjpsYXN0LWNoaWxkIHRkOmxhc3QtY2hpbGQgYScpO1xuICAgIHZhciByZXR1cm5zSW5wdXQgPSAkKCdpbnB1dFtuYW1lPVwiT3JkZXJzLkN1c3RvbV9GaWVsZF9BZ3JlZVJldHVybnNcIl0nKTtcbiAgICByZXR1cm5zSW5wdXQucGFyZW50KCkucmVtb3ZlKCk7XG5cbiAgICB2YXIgcmV0dXJuc1N0YXRlbWVudCA9ICQoJyNhcnRpY2xlQm9keV8xMTInKS5zaWJsaW5ncygndGFibGUnKS5maW5kKCd0cjpsYXN0LWNoaWxkIHRkOmZpcnN0LWNoaWxkJykuaHRtbChyZXR1cm5zSW5wdXRbMF0ub3V0ZXJIVE1MICsgJ0kgYWNjZXB0IHRoZSA8YSBocmVmPVwiJyArIHJldHVybnNMaW5rLmF0dHIoJ2hyZWYnKSArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+UmV0dXJucyBhbmQgU2hpcHBpbmcgUG9saWNpZXM8L2E+Jyk7XG4gICAgXG4gICAgdmFyIG9yZGVyVG90YWxzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9yZGVyLXRvdGFscy1jb250YWluZXInKTtcbiAgICB2YXIgb3JkZXJPZmZzZXRUb3AgPSBvcmRlclRvdGFsc0NvbnRhaW5lci5vZmZzZXRUb3A7XG4gICAgdmFyIGNoZWNrb3V0V3JhcFRvcCA9ICQoJyN2NjUtb25lcGFnZS1Db250ZW50VGFibGUnKS5vZmZzZXQoKS50b3AgKyBjaGVja291dFdyYXAub2Zmc2V0VG9wO1xuICAgIHZhciBjaGVja291dENvbnRhaW5lcldpZHRoID0gY2hlY2tvdXRXcmFwLnF1ZXJ5U2VsZWN0b3IoJy5vcmRlci10b3RhbHMtY29udGFpbmVyJykub2Zmc2V0V2lkdGg7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNoZWNrb3V0Q29udGFpbmVyV2lkdGggPSBjaGVja291dFdyYXAucXVlcnlTZWxlY3RvcignLm9yZGVyLXRvdGFscy1jb250YWluZXInKS5vZmZzZXRXaWR0aDtcbiAgICAgICAgY2hlY2tvdXRXcmFwVG9wID0gJCgnI3Y2NS1vbmVwYWdlLUNvbnRlbnRUYWJsZScpLm9mZnNldCgpLnRvcCArIGNoZWNrb3V0V3JhcC5vZmZzZXRUb3A7XG4gICAgfSk7XG4gICAgXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3RpY2t5Q2hlY2tvdXQpO1xufVxuXG5cblxuXG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuS0lMTFNIRUVUXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuJCgnaW1nW3NyYz1cIi92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvY2xlYXIxeDEuZ2lmXCJdJykucmVtb3ZlKCk7XG4kKCcuY29sb3JzX3ByaWNlYm94IGltZ1tzcmM9XCIvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1hZ2VzL1BCb3hfQm9yZGVyX0xlZnRfVG9wLmdpZlwiXScpLnBhcmVudCgndHInKS5yZW1vdmUoKTtcbmlmICgkKCcjdjY1LW9uZXBhZ2UtYnJlYWRjcnVtYicpKSB7XG4gICAgJCgnI3Y2NS1vbmVwYWdlLWJyZWFkY3J1bWInKS5yZW1vdmUoKTtcbn1cbiQoJyN2NjUtb25lcGFnZS1Db3B5QmlsbGluZ1RvU2hpcHBpbmdMaW5rJykucmVtb3ZlKCk7XG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuU0lOR0xFIFBST0RVQ1Rcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3NpbmdsZS1wcm9kdWN0JykpIHtcbiAgICAvLyBTRVRVUCBBRE1JTiBMSU5LXG4gICAgLy8gaHR0cDovL2t5cmVwLmZjY216LnNlcnZlcnRydXN0LmNvbS9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/dGFibGU9Q2F0ZWdvcmllcyZQYWdlPTEmSUQ9XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd2Y2ItYWN0aXZlJykpIHtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmtVUkwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/dGFibGU9UHJvZHVjdHNfSm9pbmVkJlBhZ2U9MSZJRD0nICsgZ2xvYmFsX0N1cnJlbnRfUHJvZHVjdENvZGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaHJlZiA9IGFkbWluTGlua1VSTDtcbiAgICAgICAgICAgIGFkbWluTGluay5pbm5lclRleHQgPSAnRWRpdCBQcm9kdWN0JztcbiAgICAgICAgICAgIGFkbWluTGluay5jbGFzc0xpc3QuYWRkKCdlZGl0UHJvZHVjdExpbmsnLCdidG4tc29saWQtLWJyYW5kLXR3bycpO1xuICAgICAgICAgICAgJCgnYm9keScpLnByZXBlbmQoYWRtaW5MaW5rKTtcbiAgICAgICAgfVxuICAgIH0sIDMwMDApO1xuXG4gICAgdmFyIHBhZ2VUaXRsZSA9ICQoJy52cC1wcm9kdWN0LXRpdGxlJylbMF0uaW5uZXJUZXh0O1xuXG4gICAgdmFyIHByb2R1Y3REZXNjcmlwdGlvbldyYXAgPSAkKCcjdjY1LXByb2R1Y3RkZXRhaWwtYWN0aW9uLXdyYXBwZXInKTtcbiAgICBwcm9kdWN0RGVzY3JpcHRpb25XcmFwLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKS5hdHRyKCdhbGlnbicsICdsZWZ0Jyk7XG4gICAgcHJvZHVjdERlc2NyaXB0aW9uV3JhcC5zaWJsaW5ncygpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcblxuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgcGFnZVRpdGxlKTtcblxuICAgIC8vIEdFVCBUSEUgQ09OVEFJTkVSIEFORCBEUk9QIElOIE5FVyBDT05UQUlORVIgQkVGT1JFIFRIRSBFTEVNRU5UIFRPIEJFIERFTEVURURcbiAgICB2YXIgcmVsYXRlZFByb2R1Y3RzQ29udGFpbmVyID0gJCgnI3Y2NS1wcm9kdWN0LXBhcmVudCcpLm5leHQoKS5maW5kKCcuY29sb3JzX2xpbmVzX2xpZ2h0JykuZmlyc3QoKTtcbiAgICBpZiAocmVsYXRlZFByb2R1Y3RzQ29udGFpbmVyWzBdLmlkICE9PSAndjY1LXByb2R1Y3QtcmVsYXRlZCcpIHtcbiAgICAgICAgZ2V0UmVsYXRlZFByb2R1Y3RzKCk7XG4gICAgfVxuICAgIFxuXG4gICAgJCgnc3BhbltpdGVtcHJvcD1cImRlc2NyaXB0aW9uXCJdJykucHJlcGVuZCgnPHAgY2xhc3M9XCJoMVwiPicgKyBwYWdlVGl0bGUgKyAnPC9wPicpO1xuXG5cbiAgICB2YXIgZml0bWVudFN0cmluZyA9ICQoJyNQcm9kdWN0RGV0YWlsX1Byb2R1Y3REZXRhaWxzX2RpdjIgbGknKTtcbiAgICBpZiAoZml0bWVudFN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBmaXRtZW50QXJyYXkgPSBmaXRtZW50U3RyaW5nWzBdLmlubmVyVGV4dC5zcGxpdCgnfCcpLnNvcnQoKTtcbiAgICAgICAgJCgnI1Byb2R1Y3REZXRhaWxfUHJvZHVjdERldGFpbHNfZGl2MicpLnJlbW92ZSgpO1xuICAgICAgICAkKCcjdjY1LXByb2R1Y3QtcGFyZW50ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMikgPiB0ZDpudGgtY2hpbGQoMikgPiB0YWJsZSA+IHRib2R5ID4gdHIgPiB0ZCA+IHRhYmxlID4gdGJvZHknKS5hcHBlbmQoJzx0cj48dGQgY29sc3Bhbj1cIjJcIj48aDMgY2xhc3M9XCJtYXItdC0tbW9yZVwiPicgKyBwYWdlVGl0bGUgKyAnIGZpdHMgdGhlIGZvbGxvd2luZyBtb2RlbHM6PC9oMz48aHI+PHVsIGlkPVwiZ2ZwLWZpdG1lbnRcIj48L3VsPjwvdHI+PC90ZD4nKTtcbiAgICAgICAgdmFyIGZpdG1lbnRMaXN0ID0gJCgnI2dmcC1maXRtZW50Jyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZml0bWVudEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmaXRtZW50TGlzdC5hcHBlbmQoJzxsaT4nICsgZml0bWVudEFycmF5W2ldICsgJzwvbGk+Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoJCgnI3JlbGF0ZWRfcHJvZHVjdHNfY29udGVudCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9ybWF0UmVsYXRlZFByb2R1Y3RzKCk7XG4gICAgICAgIHZhciBwcm9kdWN0RmVhdHVyZUltYWdlID0gJCgnI3Byb2R1Y3RfcGhvdG9fem9vbV91cmwnKS5wYXJlbnQoJ3RkJyk7XG4gICAgICAgIHByb2R1Y3RGZWF0dXJlSW1hZ2UuYWRkQ2xhc3MoJ2ZlYXR1cmVkLWltYWdlLWNvbnRhaW5lcicpO1xuICAgICAgICAkKCcjdjY1LXByb2R1Y3QtcGFyZW50ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMikgPiB0ZDpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCdmZWF0dXJlZC1pbWFnZS1wYXJlbnQnKS5zaWJsaW5ncygpLmFkZENsYXNzKCdmZWF0dXJlZC1jb250ZW50LWNvbnRhaW5lcicpO1xuICAgICAgICBpZiAocHJvZHVjdEZlYXR1cmVJbWFnZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZml4UHJvZHVjdEZlYXR1cmVJbWFnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG5cblxuXG5cbmZ1bmN0aW9uIGdldFJhbmRvbUludChtaW4sIG1heCkge1xuICBtaW4gPSBNYXRoLmNlaWwobWluKTtcbiAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgLy9UaGUgbWF4aW11bSBpcyBpbmNsdXNpdmUgYW5kIHRoZSBtaW5pbXVtIGlzIGluY2x1c2l2ZSBcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTWVudSgpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ21lbnUtb3BlbicpO1xuICAgIHZhciBtZW51QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hhbWJ1cmdlcicpO1xuICAgIG1lbnVCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZU1lbnVBY2NvcmRpYW4oZSkge1xuICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgaWYgKCQoc2VsZikucGFyZW50KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICQoc2VsZikucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKHNlbGYpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjY29yZGlhbi1vcGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJChzZWxmKS5wYXJlbnQoJy5tZW51LWl0ZW0taGFzLWNoaWxkcmVuJykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmZpbmQoJy5zdWItbWVudS0tbGV2ZWwtdHdvJykucmVtb3ZlQ2xhc3MoJ2FjY29yZGlhbi1vcGVuJyk7XG4gICAgJChzZWxmKS5zaWJsaW5ncygpLmFkZENsYXNzKCdhY2NvcmRpYW4tb3BlbicpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVDaGF0V2luZG93KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHdpbmRvdy5mY1dpZGdldC5pc09wZW4oKSAhPSB0cnVlKSB7XG4gICAgICAgIHdpbmRvdy5mY1dpZGdldC5vcGVuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmZjV2lkZ2V0LmNsb3NlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVIZXJvKGhlcm9JbWcsIGhlcm9UZXh0KSB7XG4gICAgdmFyIGhlcm9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyby0tbm90LWhvbWUnKTtcbiAgICBoZXJvQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGhlcm9JbWc7XG4gICAgdmFyIGhlcm9IZWFkaW5nID0gaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdoMScpO1xuICAgIGhlcm9IZWFkaW5nLmlubmVySFRNTCA9IGhlcm9UZXh0O1xuICAgIGhlcm9IZWFkaW5nLnN0eWxlLm9wYWNpdHkgPSAxO1xufVxuXG5mdW5jdGlvbiBmaXhIZWFkZXIoKSB7XG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gc2l0ZUhlYWRlck9mZnNldCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSBzaXRlSGVhZGVyLm9mZnNldEhlaWdodCArICdweCc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnc2l0ZS1oZWFkZXItZml4ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAwO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3NpdGUtaGVhZGVyLWZpeGVkJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtYXRjaENoZWNrb3V0SW5wdXQoZWxlbSwgdmFsKSB7XG4gICAgdmFyIGlucHV0ID0gZWxlbS5pZC5zcGxpdCgnLScpWzJdLnN1YnN0cmluZyg0KTtcbiAgICB2YXIgc2hpcEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdjY1LW9uZXBhZ2Utc2hpcCcgKyBpbnB1dCk7XG4gICAgaWYgKCFzaGlwRWxlbSkgeyByZXR1cm47IH1cbiAgICBzaGlwRWxlbS52YWx1ZSA9IHZhbDtcbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRlZFByb2R1Y3RzKCkge1xuICAgICQoJyN2NjUtcHJvZHVjdC1wYXJlbnQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSA+IHRkOm50aC1jaGlsZCgyKSA+IHRhYmxlID4gdGJvZHkgPiB0ciA+IHRkID4gdGFibGUgPiB0Ym9keScpLmFwcGVuZCgnPHRyPjx0ZCBjb2xzcGFuPVwiMlwiPjxkaXYgaWQ9XCJnZnAtcmVsYXRlZC1wcm9kdWN0c1wiPjwvZGl2PjwvdHI+PC90ZD4nKTtcblxuICAgIC8vIEdFVCBBTEwgVEhFIERBVEFcbiAgICB2YXIgcmVsYXRlZFByb2R1Y3RzID0gcmVsYXRlZFByb2R1Y3RzQ29udGFpbmVyLmZpbmQoJy52NjUtcHJvZHVjdERpc3BsYXknKTtcbiAgICB2YXIgcmVsYXRlZFByb2R1Y3RUaXRsZSA9IHJlbGF0ZWRQcm9kdWN0cy5maW5kKCd0cjpmaXJzdC1jaGlsZCAudjY1LXByb2R1Y3ROYW1lJyk7XG5cbiAgICB2YXIgcmVsYXRlZFByb2R1Y3RQcmljZSA9IHJlbGF0ZWRQcm9kdWN0cy5maW5kKCd0cjpudGgtY2hpbGQoMikgLnByb2R1Y3RfcHJvZHVjdHByaWNlJyk7XG5cbiAgICAvLyBDTEVBTiBUSEUgSU1BR0UgUEFUSCBUTyBHRVQgQkVUVEVSIFJFU1xuICAgIHZhciByZWxhdGVkUHJvZHVjdEltZyA9IHJlbGF0ZWRQcm9kdWN0cy5maW5kKCd0cjpsYXN0LWNoaWxkIC52NjUtcHJvZHVjdFBob3RvJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWxhdGVkUHJvZHVjdEltZy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaW1hZ2VQYXRoID0gcmVsYXRlZFByb2R1Y3RJbWdbaV0ucXVlcnlTZWxlY3RvcignaW1nJykuc3JjO1xuICAgICAgICBpZiAoIWltYWdlUGF0aC5tYXRjaCgvbm9waG90by8pKSB7XG4gICAgICAgICAgICByZWxhdGVkUHJvZHVjdEltZ1tpXS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmMgPSBpbWFnZVBhdGguc3Vic3RyaW5nKDAsIGltYWdlUGF0aC5sZW5ndGggLSA2KSArICctMlQnICsgaW1hZ2VQYXRoLnN1YnN0cmluZyhpbWFnZVBhdGgubGVuZ3RoIC0gNCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXSVBFIFRIRSBPTEQgTElTVFxuICAgIHJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICBcbiAgICAvLyBDUkVBVEUgUkVMQVRFRCBQUk9EVUNUIEFSUkFZXG4gICAgdmFyIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVsYXRlZFByb2R1Y3RUaXRsZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHMucHVzaCh7XG4gICAgICAgICAgICBwcm9kdWN0VGl0bGU6IHJlbGF0ZWRQcm9kdWN0VGl0bGVbaV0ucXVlcnlTZWxlY3RvcignYScpLmlubmVySFRNTC50cmltKCksXG4gICAgICAgICAgICBwcm9kdWN0TGluazogcmVsYXRlZFByb2R1Y3RUaXRsZVtpXS5xdWVyeVNlbGVjdG9yKCdhJykuaHJlZixcbiAgICAgICAgICAgIHByb2R1Y3RJbWc6IHJlbGF0ZWRQcm9kdWN0SW1nW2ldLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLm91dGVySFRNTCxcbiAgICAgICAgICAgIHByb2R1Y3RQcmljZTogcmVsYXRlZFByb2R1Y3RQcmljZVtpXS5pbm5lclRleHQudHJpbSgpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICQoJyNnZnAtcmVsYXRlZC1wcm9kdWN0cycpLmh0bWwoJzxoMz5BbHRlcm5hdGl2ZXMgdG8gJyArIHBhZ2VUaXRsZSArICc8L2gzPjx1bCBjbGFzcz1cImNvc3QtYWx0ZXJuYXRpdmVzLWxpc3RcIj48L3VsPicpO1xuXG5cbiAgICB2YXIgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzVGFibGUgPSAkKCcjZ2ZwLXJlbGF0ZWQtcHJvZHVjdHMgLmNvc3QtYWx0ZXJuYXRpdmVzLWxpc3QnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBodG1sID0gJzxsaT48YSBocmVmPVwiJyArIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1tpXS5wcm9kdWN0TGluayArICdcIj48ZGl2IGNsYXNzPVwiY29zdC1hbHRlcm5hdGl2ZXMtbGlzdC0taW1hZ2VcIj4nICsgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzW2ldLnByb2R1Y3RJbWcgKyAnPC9kaXY+PGRpdiBjbGFzcz1cImNvc3QtYWx0ZXJuYXRpdmVzLWxpc3QtLWNvbnRlbnRcIj48cD48c3Ryb25nPicgKyBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHNbaV0ucHJvZHVjdFRpdGxlICsgJzwvc3Ryb25nPjwvcD48cD4nICsgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzW2ldLnByb2R1Y3RQcmljZSArICc8L3A+PC9kaXY+PC9hPjwvbGk+JztcbiAgICAgICAgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzVGFibGUuYXBwZW5kKGh0bWwpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0UmVsYXRlZFByb2R1Y3RzKCkge1xuICAgIHZhciBjbGVhblJlbGF0ZWRQcm9kdWN0cyA9IFtdOztcbiAgICB2YXIgcHJvZHVjdFRpdGxlcyA9ICQoJyNyZWxhdGVkX3Byb2R1Y3RzX2NvbnRlbnQgLnY2NS1wcm9kdWN0TmFtZScpO1xuICAgIHZhciBwcm9kdWN0UHJpY2UgPSAkKCcjcmVsYXRlZF9wcm9kdWN0c19jb250ZW50IC52NjUtcHJvZHVjdEF2YWlsYWJpbGl0eSAucHJvZHVjdF9wcm9kdWN0cHJpY2UnKTtcbiAgICB2YXIgcHJvZHVjdEltZyA9ICQoJyNyZWxhdGVkX3Byb2R1Y3RzX2NvbnRlbnQgLnY2NS1wcm9kdWN0UGhvdG8nKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdFRpdGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjbGVhblJlbGF0ZWRQcm9kdWN0cy5wdXNoKHtcbiAgICAgICAgICAgIHJlbGF0ZWRQcm9kdWN0VGl0bGU6IHByb2R1Y3RUaXRsZXNbaV0uaW5uZXJUZXh0LFxuICAgICAgICAgICAgcmVsYXRlZFByb2R1Y3RQcmljZTogcHJvZHVjdFByaWNlW2ldLmlubmVyVGV4dCxcbiAgICAgICAgICAgIHJlbGF0ZWRQcm9kdWN0SW1nOiBwcm9kdWN0SW1nW2ldLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYyxcbiAgICAgICAgICAgIHJlbGF0ZWRQcm9kdWN0TGluazogcHJvZHVjdEltZ1tpXS5xdWVyeVNlbGVjdG9yKCdhJykuaHJlZlxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKCcjdjY1LXByb2R1Y3QtcmVsYXRlZCcpLmJlZm9yZSgnPGRpdiBjbGFzcz1cInNsaWRlci0tcmVsYXRlZC1wcm9kdWN0c1wiPjxoMyBjbGFzcz1cImhhcy10ZXh0LWNlbnRlciBtYXItYlwiPlByb2R1Y3RzIHJlbGF0ZWQgdG8gJyArIHBhZ2VUaXRsZSArICc8L2gzPjxkaXYgY2xhc3M9XCJzaXRlLXdpZHRoXCI+PGRpdiBjbGFzcz1cInNsaWRlclwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xuICAgICQoJyN2NjUtcHJvZHVjdC1yZWxhdGVkJykucmVtb3ZlKCk7XG5cbiAgICB2YXIgc2xpZGVyUmVsYXRlZFByb2R1Y3RzID0gJCgnLnNsaWRlci0tcmVsYXRlZC1wcm9kdWN0cyAuc2l0ZS13aWR0aCA+IGRpdicpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGVhblJlbGF0ZWRQcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzbGlkZXJSZWxhdGVkUHJvZHVjdHMuYXBwZW5kKCc8ZGl2PjxhIGhyZWY9XCInICsgY2xlYW5SZWxhdGVkUHJvZHVjdHNbaV0ucmVsYXRlZFByb2R1Y3RMaW5rICsgJ1wiPjxpbWcgc3JjPVwiJyArIGNsZWFuUmVsYXRlZFByb2R1Y3RzW2ldLnJlbGF0ZWRQcm9kdWN0SW1nICsgJ1wiIC8+JyArIGNsZWFuUmVsYXRlZFByb2R1Y3RzW2ldLnJlbGF0ZWRQcm9kdWN0VGl0bGUgKyAnPC9hPjwvZGl2PicpO1xuICAgIH0gICBcblxufVxuXG5mdW5jdGlvbiBmaXhQcm9kdWN0RmVhdHVyZUltYWdlKCkge1xuICAgIC8vIElGIFNNQUxMRVIgU0NSRUVOUyBHRVQgT1VUVEEgSEVSRVxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwODApIHsgcmV0dXJuOyB9XG4gICAgXG4gICAgLy8gR1JBQkJJTkcgRUxFTUVOVFMgQU5EIERJTUVOU0lPTlNcbiAgICB2YXIgZmVhdHVyZWRJbWFnZVBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWF0dXJlZC1pbWFnZS1wYXJlbnQnKTtcbiAgICB2YXIgZmVhdHVyZWRDb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlYXR1cmVkLWNvbnRlbnQtY29udGFpbmVyJyk7XG4gICAgdmFyIGVsZW1XaWR0aCA9IGZlYXR1cmVkSW1hZ2VQYXJlbnQub2Zmc2V0V2lkdGg7XG4gICAgdmFyIHByb2R1Y3RPZmZzZXQgPSBwcm9kdWN0RmVhdHVyZUltYWdlLm9mZnNldCgpLnRvcDtcbiAgICB2YXIgZmVhdHVyZWRDb250ZW50SGVpZ2h0ID0gZmVhdHVyZWRDb250ZW50Q29udGFpbmVyLm9mZnNldEhlaWdodDtcbiAgICB2YXIgZmVhdHVyZWRJbWFnZUhlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWF0dXJlZC1pbWFnZS1jb250YWluZXInKS5vZmZzZXRIZWlnaHQ7XG5cblxuICAgIC8vIExFVCdTIFNDUk9PTFxuICAgIGlmICgod2luZG93LnNjcm9sbFkgPiAocHJvZHVjdE9mZnNldCAtIHNpdGVIZWFkZXJIZWlnaHQpKSAmJiAod2luZG93LnNjcm9sbFkgPCAoc2l0ZUhlYWRlckhlaWdodCArIChmZWF0dXJlZENvbnRlbnRIZWlnaHQgLSBmZWF0dXJlZEltYWdlSGVpZ2h0KSkpKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZmVhdHVyZWQtaW1hZ2UtZml4ZWQnKTtcbiAgICAgICAgZmVhdHVyZWRJbWFnZVBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWShjYWxjKCcgKyBzaXRlSGVhZGVySGVpZ2h0ICsgJ3B4JyArICcgLSAxcmVtKSc7XG4gICAgICAgIGZlYXR1cmVkSW1hZ2VQYXJlbnQuc3R5bGUubWF4V2lkdGggPSBlbGVtV2lkdGggKyAncHgnO1xuICAgICAgICBmZWF0dXJlZENvbnRlbnRDb250YWluZXIuc3R5bGUucGFkZGluZ0xlZnQgPSBlbGVtV2lkdGggKyAncHgnO1xuICAgIH0gZWxzZSBpZiAod2luZG93LnNjcm9sbFkgPCBzaXRlSGVhZGVySGVpZ2h0KSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZmVhdHVyZWQtaW1hZ2UtZml4ZWQnKTtcbiAgICAgICAgZmVhdHVyZWRJbWFnZVBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgZmVhdHVyZWRJbWFnZVBhcmVudC5zdHlsZS5tYXhXaWR0aCA9ICdhdXRvJztcbiAgICAgICAgZmVhdHVyZWRDb250ZW50Q29udGFpbmVyLnN0eWxlLnBhZGRpbmdMZWZ0ID0gMDtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5zY3JvbGxZID4gKHNpdGVIZWFkZXJIZWlnaHQgKyAoZmVhdHVyZWRDb250ZW50SGVpZ2h0IC0gZmVhdHVyZWRJbWFnZUhlaWdodCkpKSB7XG4gICAgICAgIHZhciBuZWdTY3JvbGwgPSAod2luZG93LnNjcm9sbFkgLSAoZmVhdHVyZWRDb250ZW50SGVpZ2h0IC0gZmVhdHVyZWRJbWFnZUhlaWdodCkgLSBzaXRlSGVhZGVySGVpZ2h0KTtcbiAgICAgICAgZmVhdHVyZWRJbWFnZVBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWShjYWxjKC0nICsgbmVnU2Nyb2xsICsgJ3B4ICsgJyArIHNpdGVIZWFkZXJIZWlnaHQgKyAncHgpKSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzdGlja3lDaGVja291dCgpIHtcbiAgICAvLyBJRiBTTUFMTEVSIFNDUkVFTlMgR0VUIE9VVFRBIEhFUkVcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCA2MDApIHsgcmV0dXJuOyB9XG5cbiAgICB2YXIgb3JkZXJEZXRhaWxzID0gJCgnLm9yZGVyLWRldGFpbHMnKTtcbiAgICB2YXIgb3JkZXJEZXRhaWxzSGVpZ2h0ID0gb3JkZXJEZXRhaWxzWzBdLm9mZnNldEhlaWdodDtcbiAgICBcbiAgICB2YXIgb3JkZXJUb3RhbHMgPSAgJCgnLm9yZGVyLXRvdGFscy1jb250YWluZXInKTtcbiAgICB2YXIgb3JkZXJUb3RhbHNIZWlnaHQgPSAgb3JkZXJUb3RhbHNbMF0ub2Zmc2V0SGVpZ2h0O1xuXG4gICAgaWYgKCh3aW5kb3cuc2Nyb2xsWSA+IChjaGVja291dFdyYXBUb3AgLSAoc2l0ZUhlYWRlckhlaWdodCArICgxOCAqIDMpKSkpICYmICh3aW5kb3cuc2Nyb2xsWSA8IChvcmRlckRldGFpbHNIZWlnaHQgKyBvcmRlck9mZnNldFRvcCAtIG9yZGVyVG90YWxzSGVpZ2h0IC0gc2l0ZUhlYWRlckhlaWdodCAtICgxOCAqIDMpKSkpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdjYXJ0LXRvdGFscy1maXhlZCcpO1xuICAgICAgICBvcmRlclRvdGFsc0NvbnRhaW5lci5zdHlsZS5tYXhXaWR0aCA9IGNoZWNrb3V0Q29udGFpbmVyV2lkdGggKyAncHgnO1xuICAgICAgICBvcmRlclRvdGFsc0NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgnICsgKHNpdGVIZWFkZXJIZWlnaHQgKyAoMTggKyAxMSkpICsgJ3B4KSc7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuc2Nyb2xsWSA+ICgob3JkZXJEZXRhaWxzSGVpZ2h0ICsgb3JkZXJPZmZzZXRUb3ApIC0gb3JkZXJUb3RhbHNIZWlnaHQgLSBzaXRlSGVhZGVySGVpZ2h0IC0gKDE4ICogMykpKSB7XG4gICAgICAgIHZhciBuZWdTY3JvbGwgPSAod2luZG93LnNjcm9sbFkgLSBvcmRlclRvdGFsc0hlaWdodCAtIG9yZGVyVG90YWxzSGVpZ2h0IC0gc2l0ZUhlYWRlckhlaWdodCAtICgxOCAqIDMpKTtcbiAgICAgICAgb3JkZXJUb3RhbHNbMF0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoY2FsYygtJyArIG5lZ1Njcm9sbCArICdweCArICcgKyBvcmRlck9mZnNldFRvcCArICdweCkpJztcbiAgICB9IGVsc2Uge1xuICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnY2FydC10b3RhbHMtZml4ZWQnKTsgXG4gICAgICAgb3JkZXJUb3RhbHNDb250YWluZXIuc3R5bGUubWF4V2lkdGggPSAnYXV0byc7XG4gICAgICAgb3JkZXJUb3RhbHNDb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgfSBcbn1cblxuZnVuY3Rpb24gc2V0VXBSZXNwb25zaXZlQ2hlY2tvdXQoKSB7XG4gICAgcmVzcENoZWNrb3V0Lmh0bWwoJzxkaXYgY2xhc3M9XCJvcmRlci1kZXRhaWxzXCI+PHNlY3Rpb24+PGgyPkJpbGxpbmcgSW5mb3JtYXRpb248L2gyPicgKyBiaWxsaW5nQ29udGVudCArICc8L3NlY3Rpb24+PC9kaXY+Jyk7XG5cbiAgICB2YXIgcmVzcENoZWNrb3V0RGV0YWlscyA9ICQoJy5vcmRlci1kZXRhaWxzJyk7XG4gICAgcmVzcENoZWNrb3V0RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uPjxoMj5TaGlwcGluZyBJbmZvcm1hdGlvbjwvaDI+JyArIHNoaXBwaW5nQ29udGVudCArICc8L3NlY3Rpb24+Jyk7XG4gICAgaWYgKHJlZ2lzdHJhdGlvblBhc3N3b3JkKSB7XG4gICAgICAgIHJlc3BDaGVja291dERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbj48aDI+Q3JlYXRlIEEgR3JlZW4gRmFybSBQYXJ0cyBBY2NvdW50PC9oMj48cCBjbGFzcz1cImhhcy10ZXh0LWNlbnRlciBtYXItYiBmb250LXNocmlua1wiPkNyZWF0ZSBhbiBhY2NvdW50IHRvZGF5IGZvciBxdWlja2VyIGNoZWNrb3V0IG9uIGZ1dHVyZSBvcmRlcnMsIGNoZWNraW5nIG9yZGVyIHN0YXR1cyAmIHRyYWNraW5nLCBhbmQgc3BlY2lhbCBvZmZlcnMgc2VudCB2aWEgZW1haWw8L3A+PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj48bGFiZWwgZm9yPVwicGFzc3dvcmRcIj5QYXNzd29yZDwvbGFiZWw+JyArIHJlZ2lzdHJhdGlvblBhc3N3b3JkICsgJzxidXR0b24gY2xhc3M9XCJzaG93LXBhc3N3b3JkXCI+U2hvdzwvYnV0dG9uPjwvZGl2PjxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PGxhYmVsIGZvcj1cInBhc3N3b3JkLWNvbmZpcm1cIj5Db25maXJtIFBhc3N3b3JkPC9sYWJlbD4nICsgcmVnaXN0cmF0aW9uUGFzc3dvcmRDb25maXJtICsgJzxidXR0b24gY2xhc3M9XCJzaG93LXBhc3N3b3JkXCI+U2hvdzwvYnV0dG9uPjwvZGl2Pjwvc2VjdGlvbj4nKTtcbiAgICB9XG4gICAgcmVzcENoZWNrb3V0RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uPjxoMj5QYXltZW50IEluZm9ybWF0aW9uPC9oMj4nICsgcGF5bWVudENvbnRlbnQgKyAnPC9zZWN0aW9uPicpO1xuXG4gICAgcmVzcENoZWNrb3V0LmFwcGVuZCgnPGRpdiBjbGFzcz1cIm9yZGVyLXRvdGFsc1wiPjxzZWN0aW9uIGNsYXNzPVwib3JkZXItdG90YWxzLWNvbnRhaW5lclwiPjxoMj5Zb3VyIE9yZGVyPC9oMj48L3NlY3Rpb24+PC9kaXY+Jyk7XG5cbiAgICB2YXIgcmVzcE9yZGVyVG90YWxzQ29udGFpbmVyID0gJCgnLm9yZGVyLXRvdGFscy1jb250YWluZXInKTtcblxuICAgIHJlc3BPcmRlclRvdGFsc0NvbnRhaW5lci5hcHBlbmQob3JkZXJTdW1tYXJ5SXRlbXMsIHNoaXBwaW5nQ29zdENvbnRlbnQpO1xuICAgIHJlc3BPcmRlclRvdGFsc0NvbnRhaW5lci5hcHBlbmQoJzxwIHN0eWxlPVwiZm9udC1zaXplOiAwLjg1cmVtO1wiPk9yZGVyIENvbW1lbnRzOiA8ZW0+KG9wdGlvbmFsKTwvZW0+PC9wPicsIG9yZGVyQ29tbWVudHNFbGVtKTtcbiAgICByZXNwT3JkZXJUb3RhbHNDb250YWluZXIuYXBwZW5kKCc8dGFibGUgd2lkdGg9XCIxMDAlXCIgY2xhc3M9XCJhZ3JlZW1lbnRzXCI+PHRib2R5Pjx0cj4nICsgYWRkaXRpb25hbEluZm9Db250ZW50ICsgJzwvdHI+PC90Ym9keT48L3RhYmxlPicsIHBsYWNlT3JkZXIpO1xufSJdfQ==
