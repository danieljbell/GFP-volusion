var siteHeaderHeight=$(".site-header").height();void 0!==$("#content_area").find(".vcb-article")[0]&&setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=$("#content_area").find(".vcb-article")[0].id.split("_")[2],t=window.location.origin+"/admin/AdminDetails_Generic.asp?Table=Articles&ID="+e,r=document.createElement("a");r.href=t,r.innerText="Edit Page",r.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(r)}},3e3),window.innerWidth>1080&&$(".menu-item--top-level .sub-menu--level-one > li:first-child").addClass("active").find(".sub-menu--level-two").addClass("accordian-open");var pagePath=window.location.pathname,heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--generic-"+getRandomInt(1,5)+".jpg)",heroText="Green Farm Parts",breadcrumbs=document.querySelector(".matching_results_text");if(breadcrumbs){var breadcrumbArray=breadcrumbs.previousElementSibling.textContent.split(">");heroText=breadcrumbArray[breadcrumbArray.length-1]}if(pagePath.match(/articles/i)&&window.location.search.includes("ID=305")&&(heroText='Quick Parts Order Form<span style="display: block; font-size: 1.2rem;">Already know the parts you need and need to get more than one?<br/>You\'re in the right place.</span>'),pagePath.match(/articles/i)&&window.location.search.includes("ID=287")&&(heroText="Parts Diagram Explorer"),pagePath.match(/Filters/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--filters.jpg)"),pagePath.match(/Clearance/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--clearance.jpg)"),pagePath.match(/Maintenance-Kits/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--maintenance-kits.jpg)"),pagePath.match(/Toys/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--toys.jpg)"),"/Articles.asp"===pagePath&&"?ID=305"===window.location.search&&(heroText="Quick Parts Order"),"/searchresults.asp"===pagePath){function filterItems(e){return searchStringArray.filter(function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1})}searchString=window.location.search,searchStringArray=searchString.split("&");var searchStringTerm=filterItems("search=").toString().split("=")[1];heroText="Search for: "+(searchStringTerm=searchStringTerm.split("+").join(" ").split("%20").join(" "));for(var productRows=$("#MainForm .v65-productDisplay .v65-productDisplay tr"),productsArray=[],i=0;i<productRows.length;i+=5){if(productRows[i].nextElementSibling.querySelector('div[itemprop="aggregateRating"]'))var productRating=productRows[i].nextElementSibling.querySelector('div[itemprop="aggregateRating"]').outerHTML;productsArray.push({productLink:productRows[i].querySelector("a").href,productImage:productRows[i].querySelector("img").src,productName:productRows[i].nextElementSibling.querySelector("a span").innerText,productPrice:productRows[i].nextElementSibling.querySelector(".product_productprice").innerText.split(" ")[1],productRating:productRating,productDescription:productRows[i].nextElementSibling.nextElementSibling.nextElementSibling.innerText})}productRows.remove(),(firstProductRow=$("#MainForm .v65-productDisplay .v65-productDisplay").find("tbody")).prepend('<tr><td id="gfp-responsive-listing"></td></tr>');var gfpResponsiveListing=$("#gfp-responsive-listing");for(i=0;i<productsArray.length;i++){void 0===(rating=productsArray[i].productRating)&&(rating=""),gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+"</h6><p>"+productsArray[i].productPrice+"</p>"+rating+"</a>")}}if("/ShoppingCart.asp"===pagePath||"/shoppingcart.asp"===pagePath){heroText="Shopping Cart";var itemDescription=document.querySelector("#v65-cart-header-itemdescription font");if(null!=itemDescription){var itemDescriptionArray=itemDescription.innerHTML.split("&nbsp;");itemDescription.innerHTML=itemDescriptionArray[0]+" "+itemDescriptionArray[2]}var emptyCartRow=$(".v65-cart-shipping-details-row").children().first();emptyCartRow.length<0&&(emptyCartRow.siblings().remove(),emptyCartRow[0].colSpan=12)}if("/login.asp"===pagePath&&(heroText="Login"),"/terms.asp"===pagePath&&(heroText="Terms and Conditions"),"/one-page-checkout.asp"===pagePath&&(heroText="Checkout",getCookie("Session%5FToken4Checkout")&&$("#div_articleid_116").remove()),"/"!=pagePath?updateHero(heroImg,heroText):setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?Table=Articles&ID=2",t=document.createElement("a");t.href=e,t.innerText="Edit Page",t.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3),"/myaccount.asp"===pagePath){var accountPageContent=$("#content_area td"),accountWelcomeMessage=accountPageContent[0].innerHTML,accountWelcomeMessageOpener=accountPageContent[0].querySelector("b").innerHTML;updateHero(heroImg,accountWelcomeMessageOpener),$(".hero").next().find(".site-width").prepend('<div id="gfp-account-details"></div>');var gfpAccountDetails=$("#gfp-account-details");$("#content_area").remove(),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">My Orders</h2><ul><li><a href="/orders.asp">Review Orders</a></li><li><a href="/orders.asp">Change/Cancel Order</a></li><li><a href="/orders.asp">Change Shipping Address</a></li><li><a href="/orders.asp">Print Invoices</a></li><li><a href="/orders.asp">Change Billing Address</a></li><li><a href="/returns.asp">Return Items</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Personal Information</h2><ul><li><a href="/AccountSettings.asp?modwhat=change_a">Change e-mail address, or password</a></li><li><a href="/AccountSettings.asp?modwhat=change_b">Manage your billing addresses</a></li><li><a href="/MailingList_unsubscribe.asp">Change my e-mail preferences</a></li><li><a href="/AccountSettings.asp?modwhat=change_s">Manage your shipping addresses</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Payment Settings</h2><ul><li><a href="/AccountSettings.asp?modwhat=change_c&myaccount=Y">Edit or delete a credit/debit card</a></li><li><a href="/MyAccount_GiftBalance.asp">View gift certificate balance</a></li><li><a href="/MyAccount_ApplyGift.asp">Apply a gift certificate to your account</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Other Features</h2><ul><li><a href="/myaccount_myreviews.asp">Edit a review that I wrote</a></li><li><a href="/WishList.asp">View my Wish List</a></li><li><a href="/MyRewards.asp">My Rewards</a></li></ul></section>'),gfpAccountDetails.parent().append('<div class="has-text-center mar-t--more"><a href="/login.asp?logout=yes" class="btn-outline--brand-two">Logout</a></div>')}if("/orders.asp"===pagePath){updateHero(heroImg,heroText="Your Orders");var allOrders=$("#content_area form .colors_lines_light tbody > .colors_backgroundneutral > td:last-child a");for(i=0;i<allOrders.length;i++){var elem=allOrders[i];elem.innerHTML="View Order",elem.classList.add("btn-solid--brand-two")}}breadcrumbs&&breadcrumbs.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("breadcrumbs");var siteHeader=document.querySelector(".site-header"),siteHeaderOffset=siteHeader.offsetTop;if(siteHeader&&window.addEventListener("scroll",fixHeader),document.addEventListener("click",function(e){if(("hamburger"===e.target.id||e.target.classList.contains("hamburger-box")||e.target.classList.contains("hamburger-inner"))&&toggleMenu(),e.target.classList.contains("accordian-toggle--site-header")&&toggleMenuAccordian(e),"#chat"===e.target.hash&&toggleChatWindow(e),e.target.classList.contains("show-password")){e.preventDefault();var t=e.target.parentElement.querySelector("input");t.type;"password"===t.type?t.type="text":t.type="password"}}),"undefined"!=typeof SearchParams&&"/searchresults.asp"!=pagePath){updateHero(heroImg,heroText=document.title),$("#content_area > table").first().hide();var allSubCatLinks=$(".subcategory_link");cleanSubCatLinks=[];for(i=0;i<allSubCatLinks.length;i++)cleanSubCatLinks.push({modelLink:allSubCatLinks[i].href,modelNumber:allSubCatLinks[i].innerText.replace("John Deere","").split(" ")[1]});var sortByContainer=$("#jmenuhide");$("#SortBy")[0].addEventListener("change",function(e){var t=e.target.value;window.location.href=window.location.pathname+"?searching=Y&sort="+t+"&cat=2&show=15&page=1"}),$('img[src="/v/vspfiles/templates/gfp-test/images/SearchResults_SubCat_Angle.gif"]').length>0&&($('img[src="/v/vspfiles/templates/gfp-test/images/SearchResults_SubCat_Angle.gif"]').parents(".colors_backgroundlight").addClass("remove-featured-cats-table"),$(".remove-featured-cats-table").parent().remove());var firstProductRow;productRows=$("#MainForm .v65-productDisplay .v65-productDisplay > tbody > tr"),productsArray=[];tileProducts(productRows),productRows.remove(),(firstProductRow=$("#MainForm .v65-productDisplay .v65-productDisplay").find("tbody")).prepend('<tr><td id="gfp-responsive-listing"></td></tr>');gfpResponsiveListing=$("#gfp-responsive-listing");var catID=window.location.pathname.split(".htm")[0].split("/")[2];for(i=0;i<productsArray.length;i++){var rating;void 0===(rating=productsArray[i].productRating)&&(rating=""),"2436"===catID?gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+'</h6><del style="font-size: 0.9em;">'+productsArray[i].productPrice+'</del><p style="color: red; font-weight: bold;">See Price in Cart</p>'+rating+"</a>"):gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+"</h6><p>"+productsArray[i].productPrice+"</p>"+rating+"</a>")}var offsetProducts=$(".results_per_page_select").val();catID=SearchParams.split("&")[2].substring(4);setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?table=Categories&Page=1&ID="+catID,t=document.createElement("a");t.href=e,t.innerText="Edit Category",t.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3)}if($('img[src="/v/vspfiles/templates/gfp-test/images/clear1x1.gif"]').remove(),$('.colors_pricebox img[src="/v/vspfiles/templates/gfp-test/images/PBox_Border_Left_Top.gif"]').parent("tr").remove(),$("#v65-onepage-breadcrumb")&&$("#v65-onepage-breadcrumb").remove(),$("#v65-onepage-CopyBillingToShippingLink").remove(),document.body.classList.contains("single-product")){setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?table=Products_Joined&Page=1&ID="+global_Current_ProductCode.toLowerCase(),t=document.createElement("a");t.href=e,t.innerText="Edit Product",t.classList.add("editProductLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3);var pageTitle=$(".vp-product-title")[0].innerText,productDescriptionWrap=$("#v65-productdetail-action-wrapper");productDescriptionWrap.css("display","block").attr("align","left"),productDescriptionWrap.siblings().css("display","block"),updateHero(heroImg,pageTitle);var relatedProductsContainer=$("#v65-product-parent").next().find(".colors_lines_light").first();relatedProductsContainer[0]&&"v65-product-related"!==relatedProductsContainer[0].id&&getRelatedProducts(),$('span[itemprop="description"]').prepend('<p class="h1">'+pageTitle+"</p>"),$("#v65-product-parent > tbody > tr:nth-child(2) > td:first-child").addClass("featured-image-parent").siblings().addClass("featured-content-container");var fitmentString=$("#ProductDetail_ProductDetails_div2 li");if(fitmentString.length>0){var fitmentArray=fitmentString[0].innerText.split("|").sort();$("#ProductDetail_ProductDetails_div2").remove(),$("#v65-product-parent > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr > td > table > tbody").append('<tr><td colspan="2"><h3 class="mar-t--more">'+pageTitle+' fits the following models:</h3><hr><ul id="gfp-fitment"></ul></tr></td>');var fitmentList=$("#gfp-fitment");for(i=0;i<fitmentArray.length;i++)fitmentList.append("<li>"+fitmentArray[i]+"</li>")}if($("#related_products_content").length>0){formatRelatedProducts();var productFeatureImage=$("#product_photo_zoom_url").parent("td");productFeatureImage.addClass("featured-image-container"),productFeatureImage.length>0&&window.addEventListener("scroll",fixProductFeatureImage)}var productDescription=$("#product_description");productDescription.length>0&&$(".featured-content-container").append('<div class="gfp-product-description">'+productDescription.html()+"</div>");var productTechSpecs=$("#ProductDetail_TechSpecs_div");if(productTechSpecs.length>0&&""!==productTechSpecs.text().trim()){var replacedBy=productTechSpecs.text().trim().split("This John Deere Part has been replaced by part number ")[1].split("--\x3e");if(""!==productTechSpecs[0].textContent.trim()){$(".featured-content-container").append('<div class="gfp-product-tech-specs"><h3>This John Deere Part has been replaced by part(s):</h3><hr><ul></ul></div>');var replacedByList=$(".gfp-product-tech-specs ul");for(i=0;i<replacedBy.length;i++)replacedByList.append('<li><a href="/-p/'+replacedBy[i]+'.htm">'+replacedBy[i]+"</a></li>")}}var productExtInfo=$("#ProductDetail_ExtInfo_div");if(productExtInfo.length>0&&""!==productExtInfo.html().trim()){var partSubs=productExtInfo.html().split("This John Deere Part replaces part number(s) ")[1].split("|"),cleanPartSubs=[];for(i=0;i<partSubs.length;i++)cleanPartSubs.push(partSubs[i].trim());$(".featured-content-container").append('<div class="gfp-product-extinfo"><h3>This John Deere Part replaces part number(s):</h3><hr><ul></ul></div>');var partSubsList=$(".gfp-product-extinfo ul");for(i=0;i<cleanPartSubs.length;i++)partSubsList.append("<li>"+cleanPartSubs[i]+"</li>")}var volustionTab=$("#ProductDetail_ProductDetails_div").parents(".colors_descriptionbox");volustionTab.prev().remove(),volustionTab.remove()}function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}function toggleMenuAccordian(e){var t=e.target;if($(t).parent().hasClass("active"))return $(t).parent().removeClass("active"),void $(t).siblings().removeClass("accordian-open");$(t).parent(".menu-item-has-children").addClass("active").siblings().removeClass("active").find(".sub-menu--level-two").removeClass("accordian-open"),$(t).siblings().addClass("accordian-open")}function toggleChatWindow(e){e.preventDefault(),1!=window.fcWidget.isOpen()?window.fcWidget.open():window.fcWidget.close()}function updateHero(e,t){if("/"!==window.location.pathname&&"/Default.asp"!==window.location.pathname){var r=document.querySelector(".hero--not-home");if(r.style.backgroundImage=e,!pagePath.match(/Clearance/i)){var a=r.querySelector("h1");return a.style.opacity=1,void(a.innerHTML=t)}r.style.textAlign="left",r.querySelector(".site-width").innerHTML='<div class="current-special-offers-item--tag"><p>25% - 50% Off</p></div><div class="current-special-offers-item--title"><h4>Clearance Savings</h4><p class="mar-t--more" style="font-size: 1.3rem; max-width: 390px; text-shadow: 3px 3px 5px rgba(0,0,0,0.7);">Everything is priced too low to show! Add to your cart to see your savings.</p></div>',r.querySelector(".current-special-offers-item--tag").style.position="static",r.querySelector(".current-special-offers-item--title").style.position="static",r.querySelector(".current-special-offers-item--tag p").style.fontSize="2em",r.querySelector(".current-special-offers-item--tag p").style.textTransform="uppercase",r.querySelector(".current-special-offers-item--title h4").style.fontSize="2.5em",r.querySelector(".current-special-offers-item--title h4").style.textTransform="uppercase"}}function fixHeader(){window.scrollY>siteHeaderOffset?(document.body.style.paddingTop=siteHeader.offsetHeight+"px",document.body.classList.add("site-header-fixed")):(document.body.style.paddingTop=0,document.body.classList.remove("site-header-fixed"))}function matchCheckoutInput(e,t){var r=e.id.split("-")[2].substring(4),a=document.querySelector("#v65-onepage-ship"+r);a&&(a.value=t)}function getRelatedProducts(){$("#v65-product-parent > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr > td > table > tbody").append('<tr><td colspan="2"><div id="gfp-related-products"></div></tr></td>');for(var e=relatedProductsContainer.find(".v65-productDisplay"),t=e.find("tr:first-child .v65-productName"),r=e.find("tr:nth-child(2) .product_productprice"),a=e.find("tr:last-child .v65-productPhoto"),i=0;i<a.length;i++){var o=a[i].querySelector("img").src;o.match(/nophoto/)||(a[i].querySelector("img").src=o.substring(0,o.length-6)+"-2T"+o.substring(o.length-4))}relatedProductsContainer.remove();var n=[];for(i=0;i<t.length;i++){var s="";r[i]&&(s=r[i].innerText.trim()),n.push({productTitle:t[i].querySelector("a").innerHTML.trim(),productLink:t[i].querySelector("a").href,productImg:a[i].querySelector("img").outerHTML,productPrice:s})}$("#gfp-related-products").html("<h3>Alternatives to "+pageTitle+'</h3><ul class="cost-alternatives-list"></ul>');var c=$("#gfp-related-products .cost-alternatives-list");for(i=0;i<n.length;i++){var d='<li><a href="'+n[i].productLink+'"><div class="cost-alternatives-list--image">'+n[i].productImg+'</div><div class="cost-alternatives-list--content"><p><strong>'+n[i].productTitle+"</strong></p><p>"+n[i].productPrice+"</p></div></a></li>";c.append(d)}}function formatRelatedProducts(){for(var e=[],t=$("#related_products_content .v65-productName"),r=$("#related_products_content .v65-productAvailability .product_productprice"),a=$("#related_products_content .v65-productPhoto"),i=0;i<t.length;i++){var o=a[i].querySelector("img").src;o=o.substring(0,o.length-6)+"-2T"+o.substring(o.length-4);var n="";if(r[i])n=r[i].innerText;e.push({relatedProductTitle:t[i].innerText,relatedProductPrice:n,relatedProductImg:o,relatedProductLink:a[i].querySelector("a").href})}$("#v65-product-related").before('<div class="slider--related-products"><h3 class="has-text-center mar-b">Products related to '+pageTitle+'</h3><div class="slider"></div></div>'),$("#v65-product-related").remove();var s=$(".slider--related-products > div");for(i=0;i<e.length;i++)s.append('<div><a href="'+e[i].relatedProductLink+'"><img src="'+e[i].relatedProductImg+'" />'+e[i].relatedProductTitle+"</a></div>")}function fixProductFeatureImage(){if(!(window.innerWidth<1080)){var e=document.querySelector(".featured-image-parent"),t=document.querySelector(".featured-content-container"),r=productFeatureImage.offset().top,a=t.offsetHeight,i=document.querySelector(".featured-image-container").offsetHeight;if(window.scrollY>r-siteHeaderHeight&&window.scrollY<siteHeaderHeight+(a-i))document.body.classList.add("featured-image-fixed"),e.style.transform="translateY(calc("+siteHeaderHeight+"px - 1rem)",e.style.maxWidth="350px",t.style.paddingLeft="calc(350px + 1rem)";else if(window.scrollY<siteHeaderHeight)document.body.classList.remove("featured-image-fixed"),e.style.transform="",e.style.maxWidth="auto",t.style.paddingLeft="1rem";else if(window.scrollY>siteHeaderHeight+(a-i)){var o=window.scrollY-(a-i)-siteHeaderHeight;e.style.transform="translateY(calc(-"+o+"px + "+siteHeaderHeight+"px))"}}}function stickyCheckout(){if(!(window.innerWidth<600)){var e=$(".order-details")[0].offsetHeight,t=$(".order-totals-container"),r=t[0].offsetHeight;if(window.scrollY>checkoutWrapTop-(siteHeaderHeight+54)&&window.scrollY<e+orderOffsetTop-r-siteHeaderHeight-54)document.body.classList.add("cart-totals-fixed"),orderTotalsContainer.style.maxWidth=checkoutContainerWidth+"px",orderTotalsContainer.style.transform="translateY("+(siteHeaderHeight+29)+"px)";else if(window.scrollY>e+orderOffsetTop-r-siteHeaderHeight-54){var a=window.scrollY-r-r-siteHeaderHeight-54;t[0].style.transform="translateY(calc(-"+a+"px + "+orderOffsetTop+"px))"}else document.body.classList.remove("cart-totals-fixed"),orderTotalsContainer.style.maxWidth="auto",orderTotalsContainer.style.transform=""}}function setUpResponsiveCheckout(){respCheckout.html('<div class="order-details"><section><h2>Billing Information</h2>'+billingContent+"</section></div>");var e=$(".order-details");e.append("<section><h2>Shipping Information</h2>"+shippingContent+"</section>"),registrationPassword&&e.append('<section><h2>Create A Green Farm Parts Account</h2><p class="has-text-center mar-b font-shrink">Create an account today for quicker checkout on future orders, checking order status & tracking, and special offers sent via email</p><div class="form-group"><label for="password">Password</label>'+registrationPassword+'<button class="show-password">Show</button></div><div class="form-group"><label for="password-confirm">Confirm Password</label>'+registrationPasswordConfirm+'<button class="show-password">Show</button></div></section>'),e.append("<section><h2>Payment Information</h2>"+paymentOptions.html()+"</section>"),respCheckout.append('<div class="order-totals"><section class="order-totals-container"><h2>Your Order</h2></section></div>');var t=$(".order-totals-container");t.append(orderSummaryItems,shippingCostContent),t.append('<p style="font-size: 0.85rem;">Order Comments: <em>(optional)</em></p>',orderCommentsElem),t.append('<table width="100%" class="agreements"><tbody><tr>'+additionalInfoContent+"</tr></tbody></table>",placeOrder)}function tileProducts(e){for(var t=0;t<e.length;t+=6){if(e[t].nextElementSibling.nextElementSibling.querySelector('div[itemprop="aggregateRating"]'))var r=e[t].nextElementSibling.nextElementSibling.querySelector('div[itemprop="aggregateRating"]').outerHTML;var a="";e[t].nextElementSibling.nextElementSibling.querySelector(".product_productprice")&&(a=e[t].nextElementSibling.nextElementSibling.querySelector(".product_productprice").innerText.split(" ")[1]),productsArray.push({productLink:e[t].querySelector("a").href,productImage:e[t].querySelector("img").src,productName:e[t].nextElementSibling.querySelector("a").innerText,productPrice:a,productRating:r})}}function getCookie(e){var t=document.cookie,r=e+"=",a=t.indexOf("; "+r);if(-1==a){if(0!=(a=t.indexOf(r)))return null}else{a+=2;var i=document.cookie.indexOf(";",a);-1==i&&(i=t.length)}return decodeURI(t.substring(a+r.length,i))}document.body.classList.contains("article--talk-with-a-tech")&&updateHero("url(/v/vspfiles/templates/gfp-test/img/hero--talk-with-a-tech.jpg)",document.title);var alertBox=document.querySelector(".alert");if(alertBox){setTimeout(function(){document.cookie.split(";").filter(function(e){return e.indexOf("alert=dismissed")>=0}).length||(alertBox.querySelector("#timeLeftRed").innerHTML=moment("Sat Jun 30 2018 23:59:00 GMT-0400 (EDT)").endOf().fromNow(),alertBox.classList.remove("alert--is-not-active"))},2e3);var closeAlertBox=alertBox.querySelector(".alert--close");closeAlertBox.addEventListener("click",function(e){e.preventDefault();var t=new Date,r="expires=";t.setDate(t.getDate()+1),r+=t.toGMTString(),document.cookie="alert=dismissed;"+r,alertBox.classList.add("alert--is-not-active")})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyJzaXRlSGVhZGVySGVpZ2h0IiwiJCIsImhlaWdodCIsImZpbmQiLCJzZXRUaW1lb3V0IiwiZG9jdW1lbnQiLCJib2R5IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJwYWdlSUQiLCJpZCIsInNwbGl0IiwiYWRtaW5MaW5rVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJhZG1pbkxpbmsiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImlubmVyVGV4dCIsImFkZCIsInByZXBlbmQiLCJpbm5lcldpZHRoIiwiYWRkQ2xhc3MiLCJwYWdlUGF0aCIsInBhdGhuYW1lIiwiaGVyb0ltZyIsImdldFJhbmRvbUludCIsImhlcm9UZXh0IiwiYnJlYWRjcnVtYnMiLCJxdWVyeVNlbGVjdG9yIiwiYnJlYWRjcnVtYkFycmF5IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInRleHRDb250ZW50IiwibGVuZ3RoIiwibWF0Y2giLCJzZWFyY2giLCJpbmNsdWRlcyIsImZpbHRlckl0ZW1zIiwicXVlcnkiLCJzZWFyY2hTdHJpbmdBcnJheSIsImZpbHRlciIsImVsIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwic2VhcmNoU3RyaW5nIiwic2VhcmNoU3RyaW5nVGVybSIsInRvU3RyaW5nIiwiam9pbiIsInByb2R1Y3RSb3dzIiwicHJvZHVjdHNBcnJheSIsImkiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJwcm9kdWN0UmF0aW5nIiwib3V0ZXJIVE1MIiwicHVzaCIsInByb2R1Y3RMaW5rIiwicHJvZHVjdEltYWdlIiwic3JjIiwicHJvZHVjdE5hbWUiLCJwcm9kdWN0UHJpY2UiLCJwcm9kdWN0RGVzY3JpcHRpb24iLCJyZW1vdmUiLCJmaXJzdFByb2R1Y3RSb3ciLCJnZnBSZXNwb25zaXZlTGlzdGluZyIsInJhdGluZyIsImFwcGVuZCIsIml0ZW1EZXNjcmlwdGlvbiIsIml0ZW1EZXNjcmlwdGlvbkFycmF5IiwiaW5uZXJIVE1MIiwiZW1wdHlDYXJ0Um93IiwiY2hpbGRyZW4iLCJmaXJzdCIsInNpYmxpbmdzIiwiY29sU3BhbiIsImdldENvb2tpZSIsInVwZGF0ZUhlcm8iLCJhY2NvdW50UGFnZUNvbnRlbnQiLCJhY2NvdW50V2VsY29tZU1lc3NhZ2UiLCJhY2NvdW50V2VsY29tZU1lc3NhZ2VPcGVuZXIiLCJuZXh0IiwiZ2ZwQWNjb3VudERldGFpbHMiLCJwYXJlbnQiLCJhbGxPcmRlcnMiLCJlbGVtIiwicGFyZW50RWxlbWVudCIsInNpdGVIZWFkZXIiLCJzaXRlSGVhZGVyT2Zmc2V0Iiwib2Zmc2V0VG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZpeEhlYWRlciIsImUiLCJ0YXJnZXQiLCJ0b2dnbGVNZW51IiwidG9nZ2xlTWVudUFjY29yZGlhbiIsImhhc2giLCJ0b2dnbGVDaGF0V2luZG93IiwicHJldmVudERlZmF1bHQiLCJwYXNzd29yZEZpZWxkIiwidHlwZSIsIlNlYXJjaFBhcmFtcyIsInRpdGxlIiwiaGlkZSIsImFsbFN1YkNhdExpbmtzIiwiY2xlYW5TdWJDYXRMaW5rcyIsIm1vZGVsTGluayIsIm1vZGVsTnVtYmVyIiwicmVwbGFjZSIsInNvcnRCeUNvbnRhaW5lciIsInNvcnRWYWwiLCJ2YWx1ZSIsInBhcmVudHMiLCJ0aWxlUHJvZHVjdHMiLCJjYXRJRCIsIm9mZnNldFByb2R1Y3RzIiwidmFsIiwic3Vic3RyaW5nIiwiZ2xvYmFsX0N1cnJlbnRfUHJvZHVjdENvZGUiLCJwYWdlVGl0bGUiLCJwcm9kdWN0RGVzY3JpcHRpb25XcmFwIiwiY3NzIiwiYXR0ciIsInJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lciIsImdldFJlbGF0ZWRQcm9kdWN0cyIsImZpdG1lbnRTdHJpbmciLCJmaXRtZW50QXJyYXkiLCJzb3J0IiwiZml0bWVudExpc3QiLCJmb3JtYXRSZWxhdGVkUHJvZHVjdHMiLCJwcm9kdWN0RmVhdHVyZUltYWdlIiwiZml4UHJvZHVjdEZlYXR1cmVJbWFnZSIsImh0bWwiLCJwcm9kdWN0VGVjaFNwZWNzIiwidGV4dCIsInRyaW0iLCJyZXBsYWNlZEJ5IiwicmVwbGFjZWRCeUxpc3QiLCJwcm9kdWN0RXh0SW5mbyIsInBhcnRTdWJzIiwiY2xlYW5QYXJ0U3VicyIsInBhcnRTdWJzTGlzdCIsInZvbHVzdGlvblRhYiIsInByZXYiLCJtaW4iLCJtYXgiLCJNYXRoIiwiY2VpbCIsImZsb29yIiwicmFuZG9tIiwidG9nZ2xlIiwic2VsZiIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJmY1dpZGdldCIsImlzT3BlbiIsIm9wZW4iLCJjbG9zZSIsImhlcm9Db250YWluZXIiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImhlcm9IZWFkaW5nIiwib3BhY2l0eSIsInRleHRBbGlnbiIsInBvc2l0aW9uIiwiZm9udFNpemUiLCJ0ZXh0VHJhbnNmb3JtIiwic2Nyb2xsWSIsInBhZGRpbmdUb3AiLCJvZmZzZXRIZWlnaHQiLCJtYXRjaENoZWNrb3V0SW5wdXQiLCJpbnB1dCIsInNoaXBFbGVtIiwicmVsYXRlZFByb2R1Y3RzIiwicmVsYXRlZFByb2R1Y3RUaXRsZSIsInJlbGF0ZWRQcm9kdWN0UHJpY2UiLCJyZWxhdGVkUHJvZHVjdEltZyIsImltYWdlUGF0aCIsImNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0cyIsImhhc1ByaWNlIiwicHJvZHVjdFRpdGxlIiwicHJvZHVjdEltZyIsImNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1RhYmxlIiwiY2xlYW5SZWxhdGVkUHJvZHVjdHMiLCJwcm9kdWN0VGl0bGVzIiwiaW1nUGF0aCIsInJlbGF0ZWRQcm9kdWN0TGluayIsImJlZm9yZSIsInNsaWRlclJlbGF0ZWRQcm9kdWN0cyIsImZlYXR1cmVkSW1hZ2VQYXJlbnQiLCJmZWF0dXJlZENvbnRlbnRDb250YWluZXIiLCJwcm9kdWN0T2Zmc2V0Iiwib2Zmc2V0IiwidG9wIiwiZmVhdHVyZWRDb250ZW50SGVpZ2h0IiwiZmVhdHVyZWRJbWFnZUhlaWdodCIsInRyYW5zZm9ybSIsIm1heFdpZHRoIiwiZWxlbVdpZHRoIiwicGFkZGluZ0xlZnQiLCJuZWdTY3JvbGwiLCJzdGlja3lDaGVja291dCIsIm9yZGVyRGV0YWlsc0hlaWdodCIsIm9yZGVyVG90YWxzIiwib3JkZXJUb3RhbHNIZWlnaHQiLCJjaGVja291dFdyYXBUb3AiLCJvcmRlck9mZnNldFRvcCIsIm9yZGVyVG90YWxzQ29udGFpbmVyIiwiY2hlY2tvdXRDb250YWluZXJXaWR0aCIsInNldFVwUmVzcG9uc2l2ZUNoZWNrb3V0IiwicmVzcENoZWNrb3V0IiwiYmlsbGluZ0NvbnRlbnQiLCJyZXNwQ2hlY2tvdXREZXRhaWxzIiwic2hpcHBpbmdDb250ZW50IiwicmVnaXN0cmF0aW9uUGFzc3dvcmQiLCJyZWdpc3RyYXRpb25QYXNzd29yZENvbmZpcm0iLCJwYXltZW50T3B0aW9ucyIsInJlc3BPcmRlclRvdGFsc0NvbnRhaW5lciIsIm9yZGVyU3VtbWFyeUl0ZW1zIiwic2hpcHBpbmdDb3N0Q29udGVudCIsIm9yZGVyQ29tbWVudHNFbGVtIiwiYWRkaXRpb25hbEluZm9Db250ZW50IiwicGxhY2VPcmRlciIsInByb2R1Y3RzIiwibmFtZSIsImRjIiwiY29va2llIiwicHJlZml4IiwiYmVnaW4iLCJlbmQiLCJkZWNvZGVVUkkiLCJhbGVydEJveCIsIml0ZW0iLCJtb21lbnQiLCJlbmRPZiIsImZyb21Ob3ciLCJjbG9zZUFsZXJ0Qm94IiwiZGF0ZSIsIkRhdGUiLCJleHBpcmVzIiwic2V0RGF0ZSIsImdldERhdGUiLCJ0b0dNVFN0cmluZyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsaUJBQW1CQyxFQUFFLGdCQUFnQkMsY0FFa0IsSUFBL0NELEVBQUUsaUJBQWlCRSxLQUFLLGdCQUFnQixJQUNoREMsV0FBVyxXQUNQLEdBQUlDLFNBQVNDLEtBQUtDLFVBQVVDLFNBQVMsY0FBZSxDQUVoRCxJQUFJQyxFQUFTUixFQUFFLGlCQUFpQkUsS0FBSyxnQkFBZ0IsR0FBR08sR0FBR0MsTUFBTSxLQUFLLEdBQ2xFQyxFQUFlQyxPQUFPQyxTQUFTQyxPQUFTLHFEQUF1RE4sRUFDL0ZPLEVB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QixPQUFPbU0sVUFBVUwsRUFBRzVHLFVBQVUrRyxFQUFRRCxFQUFPaE0sT0FBUWtNLElBbFJuRC9OLFNBQVNDLEtBQUtDLFVBQVVDLFNBQVMsOEJBQ2pDb0UsV0FBVyxxRUFBc0V2RSxTQUFTZ0csT0FxUjlGLElBQUlpSSxTQUFXak8sU0FBU3lCLGNBQWMsVUFFdEMsR0FBSXdNLFNBQVUsQ0FDVmxPLFdBQVksV0FDSEMsU0FBUzROLE9BQU90TixNQUFNLEtBQUs4QixPQUFPLFNBQVM4TCxHQUM1QyxPQUFPQSxFQUFLM0wsUUFBUSxvQkFBc0IsSUFDM0NWLFNBQ2dCb00sU0FBU3hNLGNBQWMsZ0JBQzdCdUMsVUFBWW1LLE9BQU8sMkNBQTJDQyxRQUFRQyxVQUMvRUosU0FBUy9OLFVBQVV1RCxPQUFPLDBCQUUvQixLQUNILElBQUk2SyxjQUFnQkwsU0FBU3hNLGNBQWMsaUJBQzNDNk0sY0FBY2xKLGlCQUFpQixRQUFTLFNBQVNFLEdBQzdDQSxFQUFFTSxpQkFDRixJQUFJMkksRUFBTyxJQUFJQyxLQUNYQyxFQUFVLFdBQ2RGLEVBQUtHLFFBQVFILEVBQUtJLFVBQVksR0FDOUJGLEdBQVdGLEVBQUtLLGNBQ2hCNU8sU0FBUzROLE9BQVMsbUJBQXFCYSxFQUN2Q1IsU0FBUy9OLFVBQVVhLElBQUkiLCJmaWxlIjoiZ2xvYmFsLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHNpdGVIZWFkZXJIZWlnaHQgPSAkKCcuc2l0ZS1oZWFkZXInKS5oZWlnaHQoKTtcblxuaWYgKCh0eXBlb2YgJCgnI2NvbnRlbnRfYXJlYScpLmZpbmQoJy52Y2ItYXJ0aWNsZScpWzBdICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3ZjYi1hY3RpdmUnKSkge1xuICAgICAgICAgICAgLy8gaHR0cDovL2t5cmVwLmZjY216LnNlcnZlcnRydXN0LmNvbS9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/VGFibGU9QXJ0aWNsZXMmSUQ9MTEwXG4gICAgICAgICAgICB2YXIgcGFnZUlEID0gJCgnI2NvbnRlbnRfYXJlYScpLmZpbmQoJy52Y2ItYXJ0aWNsZScpWzBdLmlkLnNwbGl0KCdfJylbMl07XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rVVJMID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvYWRtaW4vQWRtaW5EZXRhaWxzX0dlbmVyaWMuYXNwP1RhYmxlPUFydGljbGVzJklEPScgKyBwYWdlSUQ7XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmhyZWYgPSBhZG1pbkxpbmtVUkw7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaW5uZXJUZXh0ID0gJ0VkaXQgUGFnZSc7XG4gICAgICAgICAgICBhZG1pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZWRpdFNlYXJjaExpbmsnLCdidG4tc29saWQtLWJyYW5kLXR3bycpO1xuICAgICAgICAgICAgJCgnYm9keScpLnByZXBlbmQoYWRtaW5MaW5rKTtcbiAgICAgICAgfVxuICAgIH0sIDMwMDApO1xufVxuXG5pZiAod2luZG93LmlubmVyV2lkdGggPiAxMDgwKSB7XG4gICAgJCgnLm1lbnUtaXRlbS0tdG9wLWxldmVsIC5zdWItbWVudS0tbGV2ZWwtb25lID4gbGk6Zmlyc3QtY2hpbGQnKS5hZGRDbGFzcygnYWN0aXZlJykuZmluZCgnLnN1Yi1tZW51LS1sZXZlbC10d28nKS5hZGRDbGFzcygnYWNjb3JkaWFuLW9wZW4nKTtcbn1cblxudmFyIHBhZ2VQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuXG52YXIgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1nZW5lcmljLScgKyBnZXRSYW5kb21JbnQoMSwgNSkgKyAnLmpwZyknO1xudmFyIGhlcm9UZXh0ID0gJ0dyZWVuIEZhcm0gUGFydHMnO1xuXG52YXIgYnJlYWRjcnVtYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWF0Y2hpbmdfcmVzdWx0c190ZXh0Jyk7XG5cbmlmIChicmVhZGNydW1icykge1xuICAgIHZhciBicmVhZGNydW1iQXJyYXkgPSBicmVhZGNydW1icy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50LnNwbGl0KCc+Jyk7XG4gICAgaGVyb1RleHQgPSBicmVhZGNydW1iQXJyYXlbYnJlYWRjcnVtYkFycmF5Lmxlbmd0aCAtIDFdOyAgICBcbn1cblxuXG5pZiAocGFnZVBhdGgubWF0Y2goL2FydGljbGVzL2kpICYmIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoJ0lEPTMwNScpKSB7XG4gICAgLy8gaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1maWx0ZXJzLmpwZyknO1xuICAgIGhlcm9UZXh0ID0gJ1F1aWNrIFBhcnRzIE9yZGVyIEZvcm08c3BhbiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDEuMnJlbTtcIj5BbHJlYWR5IGtub3cgdGhlIHBhcnRzIHlvdSBuZWVkIGFuZCBuZWVkIHRvIGdldCBtb3JlIHRoYW4gb25lPzxici8+WW91XFwncmUgaW4gdGhlIHJpZ2h0IHBsYWNlLjwvc3Bhbj4nO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL2FydGljbGVzL2kpICYmIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoJ0lEPTI4NycpKSB7XG4gICAgLy8gaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1maWx0ZXJzLmpwZyknO1xuICAgIGhlcm9UZXh0ID0gJ1BhcnRzIERpYWdyYW0gRXhwbG9yZXInO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL0ZpbHRlcnMvaSkpIHtcbiAgICBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLWZpbHRlcnMuanBnKSc7XG4gICAgLy8gaGVyb1RleHQgPSAnT2lsIEZpbHRlcnMnO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL0NsZWFyYW5jZS9pKSkge1xuICAgIGhlcm9JbWcgPSAndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tY2xlYXJhbmNlLmpwZyknO1xuICAgIC8vIGhlcm9UZXh0ID0gJ09pbCBGaWx0ZXJzJztcbn1cblxuaWYgKHBhZ2VQYXRoLm1hdGNoKC9NYWludGVuYW5jZS1LaXRzL2kpKSB7XG4gICAgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1tYWludGVuYW5jZS1raXRzLmpwZyknO1xuICAgIC8vIGhlcm9UZXh0ID0gJ01haW50ZW5hbmNlIEtpdHMnO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL1RveXMvaSkpIHtcbiAgICBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLXRveXMuanBnKSc7XG4gICAgLy8gaGVyb1RleHQgPSAnVG95cyc7XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy9BcnRpY2xlcy5hc3AnICYmIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPT09ICc/SUQ9MzA1Jykge1xuICAgIGhlcm9UZXh0ID0gJ1F1aWNrIFBhcnRzIE9yZGVyJztcbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL3NlYXJjaHJlc3VsdHMuYXNwJykge1xuICAgIHNlYXJjaFN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgc2VhcmNoU3RyaW5nQXJyYXkgPSBzZWFyY2hTdHJpbmcuc3BsaXQoJyYnKTtcbiAgICBcbiAgICBmdW5jdGlvbiBmaWx0ZXJJdGVtcyhxdWVyeSkge1xuICAgICAgcmV0dXJuIHNlYXJjaFN0cmluZ0FycmF5LmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAgIHJldHVybiBlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnkudG9Mb3dlckNhc2UoKSkgPiAtMTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdmFyIHNlYXJjaFN0cmluZ1Rlcm0gPSBmaWx0ZXJJdGVtcygnc2VhcmNoPScpLnRvU3RyaW5nKCkuc3BsaXQoJz0nKVsxXTtcbiAgICBzZWFyY2hTdHJpbmdUZXJtID0gc2VhcmNoU3RyaW5nVGVybS5zcGxpdCgnKycpLmpvaW4oJyAnKS5zcGxpdCgnJTIwJykuam9pbignICcpO1xuICAgIGhlcm9UZXh0ID0gJ1NlYXJjaCBmb3I6ICcgKyBzZWFyY2hTdHJpbmdUZXJtO1xuXG4gICAgLyogU0VUIFVQIFJFU1BPTlNJVkUgU0VBUkNIIFJFU1VMVFMqL1xuICAgIHZhciBwcm9kdWN0Um93cyA9ICQoJyNNYWluRm9ybSAudjY1LXByb2R1Y3REaXNwbGF5IC52NjUtcHJvZHVjdERpc3BsYXkgdHInKTtcbiAgICB2YXIgcHJvZHVjdHNBcnJheSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0Um93cy5sZW5ndGg7IGkgKz0gNSkge1xuICAgICAgICBpZiAocHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJ2RpdltpdGVtcHJvcD1cImFnZ3JlZ2F0ZVJhdGluZ1wiXScpKSB7XG4gICAgICAgICAgICB2YXIgcHJvZHVjdFJhdGluZyA9IHByb2R1Y3RSb3dzW2ldLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCdkaXZbaXRlbXByb3A9XCJhZ2dyZWdhdGVSYXRpbmdcIl0nKS5vdXRlckhUTUw7XG4gICAgICAgIH1cbiAgICAgICAgcHJvZHVjdHNBcnJheS5wdXNoKHtcbiAgICAgICAgICAgIHByb2R1Y3RMaW5rOiBwcm9kdWN0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCdhJykuaHJlZixcbiAgICAgICAgICAgIHByb2R1Y3RJbWFnZTogcHJvZHVjdFJvd3NbaV0ucXVlcnlTZWxlY3RvcignaW1nJykuc3JjLFxuICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3RSb3dzW2ldLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCdhIHNwYW4nKS5pbm5lclRleHQsXG4gICAgICAgICAgICBwcm9kdWN0UHJpY2U6IHByb2R1Y3RSb3dzW2ldLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9wcm9kdWN0cHJpY2UnKS5pbm5lclRleHQuc3BsaXQoJyAnKVsxXSxcbiAgICAgICAgICAgIHByb2R1Y3RSYXRpbmc6IHByb2R1Y3RSYXRpbmcsXG4gICAgICAgICAgICBwcm9kdWN0RGVzY3JpcHRpb246IHByb2R1Y3RSb3dzW2ldLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLmlubmVyVGV4dFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcm9kdWN0Um93cy5yZW1vdmUoKTtcbiAgICBcbiAgICB2YXIgZmlyc3RQcm9kdWN0Um93ID0gJCgnI01haW5Gb3JtIC52NjUtcHJvZHVjdERpc3BsYXkgLnY2NS1wcm9kdWN0RGlzcGxheScpLmZpbmQoJ3Rib2R5Jyk7XG5cbiAgICBmaXJzdFByb2R1Y3RSb3cucHJlcGVuZCgnPHRyPjx0ZCBpZD1cImdmcC1yZXNwb25zaXZlLWxpc3RpbmdcIj48L3RkPjwvdHI+Jyk7XG4gICAgdmFyIGdmcFJlc3BvbnNpdmVMaXN0aW5nID0gJCgnI2dmcC1yZXNwb25zaXZlLWxpc3RpbmcnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdHNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmF0aW5nID0gcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0UmF0aW5nO1xuICAgICAgICBpZiAodHlwZW9mIHJhdGluZyA9PT0gJ3VuZGVmaW5lZCcpIHsgcmF0aW5nID0gJyc7IH1cbiAgICAgICAgZ2ZwUmVzcG9uc2l2ZUxpc3RpbmcuYXBwZW5kKCc8YSBocmVmPVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdExpbmsgKyAnXCIgY2xhc3M9XCJjYXJkXCI+PGltZyBzcmM9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0SW1hZ2UgKyAnXCIgYWx0PVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdE5hbWUgKyAnXCI+PGg2PicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3ROYW1lICsgJzwvaDY+PHA+JyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdFByaWNlICsgJzwvcD4nICsgcmF0aW5nICsgJzwvYT4nKTtcbiAgICB9XG5cbn1cblxuaWYgKChwYWdlUGF0aCA9PT0gJy9TaG9wcGluZ0NhcnQuYXNwJykgfHwgcGFnZVBhdGggPT09ICcvc2hvcHBpbmdjYXJ0LmFzcCcpIHtcbiAgICBoZXJvVGV4dCA9ICdTaG9wcGluZyBDYXJ0JztcbiAgICB2YXIgaXRlbURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Y2NS1jYXJ0LWhlYWRlci1pdGVtZGVzY3JpcHRpb24gZm9udCcpO1xuICAgIGlmIChpdGVtRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgICB2YXIgaXRlbURlc2NyaXB0aW9uQXJyYXkgPSBpdGVtRGVzY3JpcHRpb24uaW5uZXJIVE1MLnNwbGl0KCcmbmJzcDsnKTtcbiAgICAgICAgaXRlbURlc2NyaXB0aW9uLmlubmVySFRNTCA9IGl0ZW1EZXNjcmlwdGlvbkFycmF5WzBdICsgJyAnICsgaXRlbURlc2NyaXB0aW9uQXJyYXlbMl07XG4gICAgfVxuICAgIHZhciBlbXB0eUNhcnRSb3cgPSAkKCcudjY1LWNhcnQtc2hpcHBpbmctZGV0YWlscy1yb3cnKS5jaGlsZHJlbigpLmZpcnN0KCk7XG4gICAgaWYgKGVtcHR5Q2FydFJvdy5sZW5ndGggPCAwKSB7XG4gICAgICAgIGVtcHR5Q2FydFJvdy5zaWJsaW5ncygpLnJlbW92ZSgpO1xuICAgICAgICBlbXB0eUNhcnRSb3dbMF0uY29sU3BhbiA9IDEyOyAgICBcbiAgICB9XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy9sb2dpbi5hc3AnKSB7XG4gICAgaGVyb1RleHQgPSAnTG9naW4nO1xufVxuXG5pZiAocGFnZVBhdGggPT09ICcvdGVybXMuYXNwJykge1xuICAgIGhlcm9UZXh0ID0gJ1Rlcm1zIGFuZCBDb25kaXRpb25zJztcbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL29uZS1wYWdlLWNoZWNrb3V0LmFzcCcpIHtcbiAgICBoZXJvVGV4dCA9ICdDaGVja291dCc7XG5cbiAgICBpZiAoZ2V0Q29va2llKCdTZXNzaW9uJTVGVG9rZW40Q2hlY2tvdXQnKSkge1xuICAgICAgICAkKCcjZGl2X2FydGljbGVpZF8xMTYnKS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyB2YXIgYmlsbElucHV0cyA9IFtcbiAgICAvLyAgICAgXCJ2NjUtb25lcGFnZS1iaWxsZmlyc3RuYW1lXCIsXG4gICAgLy8gICAgIFwidjY1LW9uZXBhZ2UtYmlsbGxhc3RuYW1lXCIsXG4gICAgLy8gICAgIFwidjY1LW9uZXBhZ2UtYmlsbGNvbXBhbnluYW1lXCIsXG4gICAgLy8gICAgIFwidjY1LW9uZXBhZ2UtYmlsbGFkZHIxXCIsXG4gICAgLy8gICAgIFwidjY1LW9uZXBhZ2UtYmlsbGFkZHIyXCIsXG4gICAgLy8gICAgIFwidjY1LW9uZXBhZ2UtYmlsbGNpdHlcIixcbiAgICAvLyAgICAgXCJ2NjUtb25lcGFnZS1iaWxscG9zdGFsY29kZVwiLFxuICAgIC8vICAgICBcInY2NS1vbmVwYWdlLWJpbGxwaG9uZVwiLFxuICAgIC8vICAgICBcInY2NS1vbmVwYWdlLWJpbGxmYXhcIixcbiAgICAvLyAgICAgXCJ2NjUtY2FydC1iaWxsZW1haWxcIlxuICAgIC8vIF07XG5cbiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAvLyAgICAgaWYgKGJpbGxJbnB1dHMuaW5jbHVkZXMoZS50YXJnZXQuaWQpKSB7XG4gICAgLy8gICAgICAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgIC8vICAgICAgICAgdmFyIHZhbCA9IHNlbGYudmFsdWU7XG4gICAgLy8gICAgICAgICBtYXRjaENoZWNrb3V0SW5wdXQoc2VsZiwgdmFsKTtcbiAgICAvLyAgICAgfSBcbiAgICAvLyB9KTtcblxuICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIC8vICAgICBpZiAoZS50YXJnZXQuaWQgPT09ICdoZWFkZXJMb2dpbkxpbmsnKSB7XG4gICAgLy8gICAgICAgICB2YXIgbW9kYWxIVE1MID0gJCgnI2xvZ2luVGVtcGxhdGUnKTtcbiAgICAvLyAgICAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnZ2ZwLW1vZGFsLW9wZW4nKS5hcHBlbmQobW9kYWxIVE1MLmh0bWwoKSk7XG4gICAgLy8gICAgICAgICAkKCcjc2lnbkluQnV0dG9uJykuYWRkQ2xhc3MoJ2J0bi1zb2xpZC0tYnJhbmQnKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZiAoZS50YXJnZXQuaWQgPT09ICdjYW5jZWxMb2dpbkJ1dHRvbicgfHwgZS50YXJnZXQucGFyZW50RWxlbWVudC5pZCA9PT0gJ2NhbmNlbExvZ2luQnV0dG9uJykge1xuICAgIC8vICAgICAgICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKCdnZnAtbW9kYWwtb3BlbicpO1xuICAgIC8vICAgICAgICAgJCgnI2xvZ2luTW9kYWwnKS5yZW1vdmUoKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZiAoZS50YXJnZXQuaWQgPT09ICdsb2dpbkZvcmdvdFBhc3N3b3JkJyB8fCBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmlkID09PSBcImxvZ2luRm9yZ290UGFzc3dvcmRcIikge1xuICAgIC8vICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvbG9naW5fc2VuZHBhc3MuYXNwJztcbiAgICAvLyAgICAgfVxuICAgIC8vIH0pO1xuXG59XG5cbmlmIChwYWdlUGF0aCAhPSAnLycpIHtcbiAgICB1cGRhdGVIZXJvKGhlcm9JbWcsIGhlcm9UZXh0KTtcbn0gZWxzZSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd2Y2ItYWN0aXZlJykpIHtcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9reXJlcC5mY2Ntei5zZXJ2ZXJ0cnVzdC5jb20vYWRtaW4vQWRtaW5EZXRhaWxzX0dlbmVyaWMuYXNwP1RhYmxlPUFydGljbGVzJklEPVxuICAgICAgICAgICAgdmFyIGFkbWluTGlua1VSTCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD9UYWJsZT1BcnRpY2xlcyZJRD0yJztcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaHJlZiA9IGFkbWluTGlua1VSTDtcbiAgICAgICAgICAgIGFkbWluTGluay5pbm5lclRleHQgPSAnRWRpdCBQYWdlJztcbiAgICAgICAgICAgIGFkbWluTGluay5jbGFzc0xpc3QuYWRkKCdlZGl0U2VhcmNoTGluaycsJ2J0bi1zb2xpZC0tYnJhbmQtdHdvJyk7XG4gICAgICAgICAgICAkKCdib2R5JykucHJlcGVuZChhZG1pbkxpbmspO1xuICAgICAgICB9XG4gICAgfSwgMzAwMCk7XG59XG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbkFDQ09VTlQgTElOS1MgUEFHRVxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmIChwYWdlUGF0aCA9PT0gJy9teWFjY291bnQuYXNwJykgeyBcblxuICAgIHZhciBhY2NvdW50UGFnZUNvbnRlbnQgPSAkKCcjY29udGVudF9hcmVhIHRkJyk7XG4gICAgdmFyIGFjY291bnRXZWxjb21lTWVzc2FnZSA9IGFjY291bnRQYWdlQ29udGVudFswXS5pbm5lckhUTUw7XG4gICAgdmFyIGFjY291bnRXZWxjb21lTWVzc2FnZU9wZW5lciA9IGFjY291bnRQYWdlQ29udGVudFswXS5xdWVyeVNlbGVjdG9yKCdiJykuaW5uZXJIVE1MO1xuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgYWNjb3VudFdlbGNvbWVNZXNzYWdlT3BlbmVyKTtcblxuICAgICQoJy5oZXJvJykubmV4dCgpLmZpbmQoJy5zaXRlLXdpZHRoJykucHJlcGVuZCgnPGRpdiBpZD1cImdmcC1hY2NvdW50LWRldGFpbHNcIj48L2Rpdj4nKTtcbiAgICB2YXIgZ2ZwQWNjb3VudERldGFpbHMgPSAkKCcjZ2ZwLWFjY291bnQtZGV0YWlscycpO1xuXG4gICAgJCgnI2NvbnRlbnRfYXJlYScpLnJlbW92ZSgpO1xuXG4gICAgZ2ZwQWNjb3VudERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbiBjbGFzcz1cImJveC0taGVhZGluZy1icmFuZFwiPjxoMiBjbGFzcz1cImJveC1oZWFkbGluZVwiPk15IE9yZGVyczwvaDI+PHVsPjxsaT48YSBocmVmPVwiL29yZGVycy5hc3BcIj5SZXZpZXcgT3JkZXJzPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvb3JkZXJzLmFzcFwiPkNoYW5nZS9DYW5jZWwgT3JkZXI8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9vcmRlcnMuYXNwXCI+Q2hhbmdlIFNoaXBwaW5nIEFkZHJlc3M8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9vcmRlcnMuYXNwXCI+UHJpbnQgSW52b2ljZXM8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9vcmRlcnMuYXNwXCI+Q2hhbmdlIEJpbGxpbmcgQWRkcmVzczwvYT48L2xpPjxsaT48YSBocmVmPVwiL3JldHVybnMuYXNwXCI+UmV0dXJuIEl0ZW1zPC9hPjwvbGk+PC91bD48L3NlY3Rpb24+Jyk7XG4gICAgZ2ZwQWNjb3VudERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbiBjbGFzcz1cImJveC0taGVhZGluZy1icmFuZFwiPjxoMiBjbGFzcz1cImJveC1oZWFkbGluZVwiPlBlcnNvbmFsIEluZm9ybWF0aW9uPC9oMj48dWw+PGxpPjxhIGhyZWY9XCIvQWNjb3VudFNldHRpbmdzLmFzcD9tb2R3aGF0PWNoYW5nZV9hXCI+Q2hhbmdlIGUtbWFpbCBhZGRyZXNzLCBvciBwYXNzd29yZDwvYT48L2xpPjxsaT48YSBocmVmPVwiL0FjY291bnRTZXR0aW5ncy5hc3A/bW9kd2hhdD1jaGFuZ2VfYlwiPk1hbmFnZSB5b3VyIGJpbGxpbmcgYWRkcmVzc2VzPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvTWFpbGluZ0xpc3RfdW5zdWJzY3JpYmUuYXNwXCI+Q2hhbmdlIG15IGUtbWFpbCBwcmVmZXJlbmNlczwvYT48L2xpPjxsaT48YSBocmVmPVwiL0FjY291bnRTZXR0aW5ncy5hc3A/bW9kd2hhdD1jaGFuZ2Vfc1wiPk1hbmFnZSB5b3VyIHNoaXBwaW5nIGFkZHJlc3NlczwvYT48L2xpPjwvdWw+PC9zZWN0aW9uPicpO1xuICAgIGdmcEFjY291bnREZXRhaWxzLmFwcGVuZCgnPHNlY3Rpb24gY2xhc3M9XCJib3gtLWhlYWRpbmctYnJhbmRcIj48aDIgY2xhc3M9XCJib3gtaGVhZGxpbmVcIj5QYXltZW50IFNldHRpbmdzPC9oMj48dWw+PGxpPjxhIGhyZWY9XCIvQWNjb3VudFNldHRpbmdzLmFzcD9tb2R3aGF0PWNoYW5nZV9jJm15YWNjb3VudD1ZXCI+RWRpdCBvciBkZWxldGUgYSBjcmVkaXQvZGViaXQgY2FyZDwvYT48L2xpPjxsaT48YSBocmVmPVwiL015QWNjb3VudF9HaWZ0QmFsYW5jZS5hc3BcIj5WaWV3IGdpZnQgY2VydGlmaWNhdGUgYmFsYW5jZTwvYT48L2xpPjxsaT48YSBocmVmPVwiL015QWNjb3VudF9BcHBseUdpZnQuYXNwXCI+QXBwbHkgYSBnaWZ0IGNlcnRpZmljYXRlIHRvIHlvdXIgYWNjb3VudDwvYT48L2xpPjwvdWw+PC9zZWN0aW9uPicpO1xuICAgIGdmcEFjY291bnREZXRhaWxzLmFwcGVuZCgnPHNlY3Rpb24gY2xhc3M9XCJib3gtLWhlYWRpbmctYnJhbmRcIj48aDIgY2xhc3M9XCJib3gtaGVhZGxpbmVcIj5PdGhlciBGZWF0dXJlczwvaDI+PHVsPjxsaT48YSBocmVmPVwiL215YWNjb3VudF9teXJldmlld3MuYXNwXCI+RWRpdCBhIHJldmlldyB0aGF0IEkgd3JvdGU8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9XaXNoTGlzdC5hc3BcIj5WaWV3IG15IFdpc2ggTGlzdDwvYT48L2xpPjxsaT48YSBocmVmPVwiL015UmV3YXJkcy5hc3BcIj5NeSBSZXdhcmRzPC9hPjwvbGk+PC91bD48L3NlY3Rpb24+Jyk7XG4gICAgZ2ZwQWNjb3VudERldGFpbHMucGFyZW50KCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiaGFzLXRleHQtY2VudGVyIG1hci10LS1tb3JlXCI+PGEgaHJlZj1cIi9sb2dpbi5hc3A/bG9nb3V0PXllc1wiIGNsYXNzPVwiYnRuLW91dGxpbmUtLWJyYW5kLXR3b1wiPkxvZ291dDwvYT48L2Rpdj4nKTtcbn1cblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5PUkRFUlMgUEFHRVxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmIChwYWdlUGF0aCA9PT0gJy9vcmRlcnMuYXNwJykge1xuXG4gICAgaGVyb1RleHQgPSAnWW91ciBPcmRlcnMnXG5cbiAgICB1cGRhdGVIZXJvKGhlcm9JbWcsIGhlcm9UZXh0KTtcblxuICAgIHZhciBhbGxPcmRlcnMgPSAkKCcjY29udGVudF9hcmVhIGZvcm0gLmNvbG9yc19saW5lc19saWdodCB0Ym9keSA+IC5jb2xvcnNfYmFja2dyb3VuZG5ldXRyYWwgPiB0ZDpsYXN0LWNoaWxkIGEnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsT3JkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlbGVtID0gYWxsT3JkZXJzW2ldO1xuICAgICAgICBlbGVtLmlubmVySFRNTCA9ICdWaWV3IE9yZGVyJztcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKFwiYnRuLXNvbGlkLS1icmFuZC10d29cIik7XG4gICAgfVxuXG4gICAgLy8gdmFyIGNsZWFuQWxsT3JkZXJzID0gW107XG4gICAgXG4gICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxPcmRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgICAgdmFyIGFsbEl0ZW1zSW5PcmRlciA9IGFsbE9yZGVyc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCd0ZDpudGgtY2hpbGQoMikgdHInKTtcbiAgICAvLyAgICAgdmFyIGl0ZW1Sb3dzID0gW107XG5cbiAgICAvLyAgICAgZm9yICh2YXIgYyA9IDE7IGMgPCBhbGxJdGVtc0luT3JkZXIubGVuZ3RoOyBjKyspIHtcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGFsbEl0ZW1zSW5PcmRlcltjXS5xdWVyeVNlbGVjdG9yKCdhJykpO1xuICAgIC8vICAgICAgICAgLy8gaXRlbVJvd3MucHVzaCh7XG4gICAgLy8gICAgICAgICAvLyAgICAgXCJpdGVtTGlua1wiOiBhbGxJdGVtc0luT3JkZXJbY10ucXVlcnlTZWxlY3RvcignYScpLmhyZWZcbiAgICAvLyAgICAgICAgIC8vIH0pO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKGl0ZW1Sb3dzW2ldKTtcbiAgICAgICAgXG4gICAgLy8gICAgIGNsZWFuQWxsT3JkZXJzLnB1c2goe1xuICAgIC8vICAgICAgICAgXCJvcmRlck1ldGFEZXRhaWxzXCI6IGFsbE9yZGVyc1tpXS5xdWVyeVNlbGVjdG9yKCd0ZCcpLmlubmVySFRNTCxcbiAgICAvLyAgICAgICAgIFwib3JkZXJMaW5rXCI6IGFsbE9yZGVyc1tpXS5xdWVyeVNlbGVjdG9yKCd0ZDpsYXN0LWNoaWxkIGEnKS5ocmVmLFxuICAgIC8vICAgICAgICAgXCJvcmRlckl0ZW1zXCI6IGl0ZW1Sb3dzW2ldXG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH1cblxuICAgIC8vICQoJyNjb250ZW50X2FyZWEgZm9ybScpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImdmcC1vcmRlci1saXN0XCI+PHVsPjwvdWw+PC9kaXY+Jyk7XG4gICAgLy8gdmFyIGdmcE9yZGVyTGlzdCA9ICQoJy5nZnAtb3JkZXItbGlzdCB1bCcpO1xuXG4gICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBjbGVhbkFsbE9yZGVycy5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgICBnZnBPcmRlckxpc3QuYXBwZW5kKCc8bGkgY2xhc3M9XCJnZnAtb3JkZXItaXRlbVwiPjxkaXYgY2xhc3M9XCJnZnAtb3JkZXItaXRlbS0tb3JkZXItbWV0YVwiPicgKyBjbGVhbkFsbE9yZGVyc1tpXS5vcmRlck1ldGFEZXRhaWxzICsgJzxiciAvPjxhIGhyZWY9XCInICsgY2xlYW5BbGxPcmRlcnNbaV0ub3JkZXJMaW5rICsgJ1wiIGNsYXNzPVwibWFyLXQgYnRuLXNvbGlkLS1icmFuZC10d29cIj5WaWV3IERldGFpbHM8L2E+PC9kaXY+PGRpdiBjbGFzcz1cImdmcC1vcmRlci1pdGVtLS1vcmRlci1pdGVtc1wiPicgKyBjbGVhbkFsbE9yZGVyc1tpXS5vcmRlckl0ZW1zICsgJzwvZGl2PjwvbGk+Jyk7XG4gICAgLy8gfVxuXG59XG5cblxuXG5pZiAoYnJlYWRjcnVtYnMpIHtcbiAgICBicmVhZGNydW1icy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYnJlYWRjcnVtYnMnKTtcbn1cblxudmFyIHNpdGVIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1oZWFkZXInKTtcbnZhciBzaXRlSGVhZGVyT2Zmc2V0ID0gc2l0ZUhlYWRlci5vZmZzZXRUb3A7XG5cbmlmIChzaXRlSGVhZGVyKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZpeEhlYWRlcik7XG59XG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cbiAgICBpZiAoKGUudGFyZ2V0LmlkID09PSAnaGFtYnVyZ2VyJykgfHwgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaGFtYnVyZ2VyLWJveCcpKSB8fCAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYW1idXJnZXItaW5uZXInKSkpIHtcbiAgICAgICAgdG9nZ2xlTWVudSgpO1xuICAgIH1cblxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY29yZGlhbi10b2dnbGUtLXNpdGUtaGVhZGVyJykpIHtcbiAgICAgICAgdG9nZ2xlTWVudUFjY29yZGlhbihlKTtcbiAgICB9XG5cbiAgICBpZiAoZS50YXJnZXQuaGFzaCA9PT0gJyNjaGF0Jykge1xuICAgICAgICB0b2dnbGVDaGF0V2luZG93KGUpO1xuICAgIH1cblxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctcGFzc3dvcmQnKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgICAgIHZhciBwYXNzd29yZEZpZWxkID0gc2VsZi5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgIHZhciBwYXNzd29yZEZpZWxkVHlwZSA9IHBhc3N3b3JkRmllbGQudHlwZTtcbiAgICAgICAgaWYgKHBhc3N3b3JkRmllbGQudHlwZSA9PT0gJ3Bhc3N3b3JkJykge1xuICAgICAgICAgICAgcGFzc3dvcmRGaWVsZC50eXBlID0gJ3RleHQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFzc3dvcmRGaWVsZC50eXBlID0gJ3Bhc3N3b3JkJztcbiAgICAgICAgfVxuICAgIH1cblxufSk7XG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbkNBVEVHT1JZIExJU1RJTkdcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAoKHR5cGVvZiBTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnKSAmJiAocGFnZVBhdGggIT0gJy9zZWFyY2hyZXN1bHRzLmFzcCcpKSB7XG4gICAgaGVyb1RleHQgPSBkb2N1bWVudC50aXRsZTtcblxuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgaGVyb1RleHQpO1xuXG5cbiAgICAkKCcjY29udGVudF9hcmVhID4gdGFibGUnKS5maXJzdCgpLmhpZGUoKTtcblxuICAgIHZhciBhbGxTdWJDYXRMaW5rcyA9ICQoJy5zdWJjYXRlZ29yeV9saW5rJyk7XG4gICAgY2xlYW5TdWJDYXRMaW5rcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxTdWJDYXRMaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjbGVhblN1YkNhdExpbmtzLnB1c2goe1xuICAgICAgICAgICAgXCJtb2RlbExpbmtcIjogYWxsU3ViQ2F0TGlua3NbaV0uaHJlZixcbiAgICAgICAgICAgIFwibW9kZWxOdW1iZXJcIjogYWxsU3ViQ2F0TGlua3NbaV0uaW5uZXJUZXh0LnJlcGxhY2UoJ0pvaG4gRGVlcmUnLCAnJykuc3BsaXQoJyAnKVsxXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgc29ydEJ5Q29udGFpbmVyID0gJCgnI2ptZW51aGlkZScpO1xuXG4gICAgJCgnI1NvcnRCeScpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHNvcnRWYWwgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnP3NlYXJjaGluZz1ZJnNvcnQ9JyArIHNvcnRWYWwgKyAnJmNhdD0yJnNob3c9MTUmcGFnZT0xJztcbiAgICB9KVxuXG4gICAgLy8gYWxsU3ViQ2F0TGlua3MuZmlyc3QoKS5jbG9zZXN0KCcuY29sb3JzX2JhY2tncm91bmRuZXV0cmFsJykucGFyZW50KCkucHJldigpLmh0bWwoJzx0ZD48ZGl2IGNsYXNzPVwiZ2ZwLWNsZWFuLXN1YmNhdGVnb3JpZXNcIj48aDI+Q2hvb3NlIHlvdXIgbW9kZWwgdG8gc2VlIHBhcnRzIHRoYXQgZml0IHlvdXIgbW9kZWw8L2gyPjxzZWxlY3QgY2xhc3M9XCJnZnAtc3ViY2F0ZWdvcmllcy1zZWxlY3RcIj48b3B0aW9uPkNob29zZSBZb3VyIE1vZGVsPC9vcHRpb24+PC9zZWxlY3Q+PC9kaXY+PC90ZD4nKTtcblxuICAgIGlmICgkKCdpbWdbc3JjPVwiL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltYWdlcy9TZWFyY2hSZXN1bHRzX1N1YkNhdF9BbmdsZS5naWZcIl0nKS5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgJCgnaW1nW3NyYz1cIi92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvU2VhcmNoUmVzdWx0c19TdWJDYXRfQW5nbGUuZ2lmXCJdJykucGFyZW50cygnLmNvbG9yc19iYWNrZ3JvdW5kbGlnaHQnKS5hZGRDbGFzcygncmVtb3ZlLWZlYXR1cmVkLWNhdHMtdGFibGUnKTtcblxuICAgICAgICAvLyAkKCdpbWdbc3JjPVwiL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltYWdlcy9TZWFyY2hSZXN1bHRzX1N1YkNhdF9BbmdsZS5naWZcIl0nKS5wYXJlbnRzKCcuY29sb3JzX2JhY2tncm91bmRsaWdodCcpLmFkZENsYXNzKCdyZW1vdmUtZmVhdHVyZWQtY2F0cy10YWJsZScpLnNpYmxpbmdzKCkuYWRkQ2xhc3MoJ2dmcC1pbml0LXN1YmNhdGVnb3JpZXMnKTtcblxuICAgICAgICAvLyB2YXIgc3ViQ2F0TGlua3MgPSAkKCcuZ2ZwLWluaXQtc3ViY2F0ZWdvcmllcyBhJyk7XG5cbiAgICAgICAgLy8gdmFyIHN1YkNhdE9wdGlvbnMgPSBbXTtcblxuICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IHN1YkNhdExpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vICAgICBzdWJDYXRPcHRpb25zLnB1c2goe1xuICAgICAgICAvLyAgICAgICAgIHN1YkNhdElEOiBzdWJDYXRMaW5rc1tpXS5ocmVmLnNwbGl0KCcvJylbNF0uc3BsaXQoJy4nKVswXSxcbiAgICAgICAgLy8gICAgICAgICBzdWJDYXRUZXh0OiBzdWJDYXRMaW5rc1tpXS50aXRsZVxuICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IHN1YkNhdE9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gICAgICQoJy5nZnAtc3ViY2F0ZWdvcmllcy1zZWxlY3QnKS5hcHBlbmQoJzxvcHRpb24gdmFsdWU9XCInICsgc3ViQ2F0T3B0aW9uc1tpXS5zdWJDYXRJRCArICdcIj4nICsgc3ViQ2F0T3B0aW9uc1tpXS5zdWJDYXRUZXh0ICsgJzwvb3B0aW9uPicpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgJCgnLnJlbW92ZS1mZWF0dXJlZC1jYXRzLXRhYmxlJykucGFyZW50KCkucmVtb3ZlKCk7XG5cbiAgICAgICAgLy8gdmFyIGNhdFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nZnAtc3ViY2F0ZWdvcmllcy1zZWxlY3QnKTtcbiAgICAgICAgLy8gY2F0U2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gICAgIHZhciBzZWxlY3RlZENhdCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAvLyAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLy1zLycgKyBzZWxlY3RlZENhdCArICcuaHRtJztcbiAgICAgICAgLy8gfSk7XG5cbiAgICB9XG5cbiAgICAvLyAkKCcuZ2ZwLWNsZWFuLXN1YmNhdGVnb3JpZXMnKS5hcHBlbmQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJyZWFkY3J1bWJzIHNlbGVjdCcpLm91dGVySFRNTCk7XG4gICAgLy8gY29uc29sZS5sb2coKTtcbiAgICAvLyAkKCcuZ2ZwLWNsZWFuLXN1YmNhdGVnb3JpZXMnKS5zaWJsaW5ncygpLnJlbW92ZSgpO1xuXG5cbiAgICBcbiAgICAvKiBTRVQgVVAgUkVTUE9OU0lWRSBTRUFSQ0ggUkVTVUxUUyovXG4gICAgdmFyIHByb2R1Y3RSb3dzID0gJCgnI01haW5Gb3JtIC52NjUtcHJvZHVjdERpc3BsYXkgLnY2NS1wcm9kdWN0RGlzcGxheSA+IHRib2R5ID4gdHInKTtcbiAgICB2YXIgcHJvZHVjdHNBcnJheSA9IFtdO1xuXG4gICAgdGlsZVByb2R1Y3RzKHByb2R1Y3RSb3dzKTtcbiAgICBcblxuICAgIHByb2R1Y3RSb3dzLnJlbW92ZSgpO1xuICAgIFxuICAgIHZhciBmaXJzdFByb2R1Y3RSb3cgPSAkKCcjTWFpbkZvcm0gLnY2NS1wcm9kdWN0RGlzcGxheSAudjY1LXByb2R1Y3REaXNwbGF5JykuZmluZCgndGJvZHknKTtcblxuICAgIGZpcnN0UHJvZHVjdFJvdy5wcmVwZW5kKCc8dHI+PHRkIGlkPVwiZ2ZwLXJlc3BvbnNpdmUtbGlzdGluZ1wiPjwvdGQ+PC90cj4nKTtcbiAgICB2YXIgZ2ZwUmVzcG9uc2l2ZUxpc3RpbmcgPSAkKCcjZ2ZwLXJlc3BvbnNpdmUtbGlzdGluZycpO1xuXG4gICAgdmFyIGNhdElEID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcuaHRtJylbMF0uc3BsaXQoJy8nKVsyXTtcbiAgICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhdGluZyA9IHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdFJhdGluZztcbiAgICAgICAgaWYgKHR5cGVvZiByYXRpbmcgPT09ICd1bmRlZmluZWQnKSB7IHJhdGluZyA9ICcnOyB9XG5cbiAgICAgICAgLy8gaWYgY2xlYXJhbmNlIGNhdGVnb3J5XG4gICAgICAgIGlmIChjYXRJRCA9PT0gJzI0MzYnKSB7XG4gICAgICAgICAgICBnZnBSZXNwb25zaXZlTGlzdGluZy5hcHBlbmQoJzxhIGhyZWY9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TGluayArICdcIiBjbGFzcz1cImNhcmRcIj48aW1nIHNyYz1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RJbWFnZSArICdcIiBhbHQ9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICdcIj48aDY+JyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdE5hbWUgKyAnPC9oNj48ZGVsIHN0eWxlPVwiZm9udC1zaXplOiAwLjllbTtcIj4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0UHJpY2UgKyAnPC9kZWw+PHAgc3R5bGU9XCJjb2xvcjogcmVkOyBmb250LXdlaWdodDogYm9sZDtcIj5TZWUgUHJpY2UgaW4gQ2FydDwvcD4nICsgcmF0aW5nICsgJzwvYT4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdmcFJlc3BvbnNpdmVMaXN0aW5nLmFwcGVuZCgnPGEgaHJlZj1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RMaW5rICsgJ1wiIGNsYXNzPVwiY2FyZFwiPjxpbWcgc3JjPVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdEltYWdlICsgJ1wiIGFsdD1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3ROYW1lICsgJ1wiPjxoNj4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICc8L2g2PjxwPicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RQcmljZSArICc8L3A+JyArIHJhdGluZyArICc8L2E+Jyk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHZhciBvZmZzZXRQcm9kdWN0cyA9ICQoJy5yZXN1bHRzX3Blcl9wYWdlX3NlbGVjdCcpLnZhbCgpO1xuXG4gICAgLy8gJC5hamF4KHtcbiAgICAvLyAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy8tcy8nICsgY2F0SUQgKyAnLmh0bT9zZWFyY2hpbmc9WSZzb3J0PTUmY2F0PTEmc2hvdz0nICsgb2Zmc2V0UHJvZHVjdHMgKyAnJnBhZ2U9MicsXG4gICAgLy8gICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgLy8gICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGh0bWwpIHtcbiAgICAvLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKGh0bWwpO1xuICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coJChodG1sKS5maW5kKCcudjY1LXByb2R1Y3REaXNwbGF5IC52NjUtcHJvZHVjdERpc3BsYXkgPiB0Ym9keSA+IHRyJykpO1xuICAgIC8vICAgICAgICAgdGlsZVByb2R1Y3RzKCQoaHRtbCkuZmluZCgnI01haW5Gb3JtIC52NjUtcHJvZHVjdERpc3BsYXkgLnY2NS1wcm9kdWN0RGlzcGxheSA+IHRib2R5ID4gdHInKSk7XG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9KTtcblxuICAgIC8vIGdmcFJlc3BvbnNpdmVMaXN0aW5nLnBhcmVudCgpLnBhcmVudCgpLmFwcGVuZCgnPHRyPjx0ZD48ZGl2IGNsYXNzPVwiaGFzLXRleHQtY2VudGVyIG1hci10XCI+PGJ1dHRvbiBpZD1cImxvYWRNb3JlUHJvZHVjdHNcIiBjbGFzcz1cImJ0bi1zb2xpZC0tYnJhbmQtdHdvXCI+TG9hZCBNb3JlPC9idXR0b24+PC9kaXY+PC90ZD48L3RyPicpO1xuICAgIC8vIHZhciBsb2FkTW9yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2FkTW9yZVByb2R1Y3RzJyk7XG4gICAgLy8gbG9hZE1vcmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsb2FkTW9yZVBvc3RzKTtcblxuICAgIC8vIGZ1bmN0aW9uIGxvYWRNb3JlUG9zdHMoZSkge1xuICAgIC8vICAgICB2YXIgbG9hZEludCA9IDA7XG4gICAgLy8gICAgIHZhciBwYWdlID0gMjtcbiAgICAvLyAgICAgcGFnZSsrO1xuICAgIC8vICAgICBsb2FkSW50Kys7XG4gICAgLy8gICAgICQuYWpheCh7XG4gICAgLy8gICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnLy1zLycgKyBjYXRJRCArICcuaHRtP3NlYXJjaGluZz1ZJnNvcnQ9NSZjYXQ9MSZzaG93PScgKyBvZmZzZXRQcm9kdWN0cyArICcmcGFnZT0nICsgcGFnZSxcbiAgICAvLyAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgLy8gICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihodG1sKSB7XG4gICAgLy8gICAgICAgICAgICAgdGlsZVByb2R1Y3RzKCQoaHRtbCkuZmluZCgnI01haW5Gb3JtIC52NjUtcHJvZHVjdERpc3BsYXkgLnY2NS1wcm9kdWN0RGlzcGxheSA+IHRib2R5ID4gdHInKSk7XG4gICAgLy8gICAgICAgICB9LFxuICAgIC8vICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gICAgIGZvciAodmFyIGkgPSAob2Zmc2V0UHJvZHVjdHMgKiBsb2FkSW50KTsgaSA8IHByb2R1Y3RzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGksIChvZmZzZXRQcm9kdWN0cyAqIGxvYWRJbnQpKTtcbiAgICAvLyAgICAgICAgIHZhciByYXRpbmcgPSBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RSYXRpbmc7XG4gICAgLy8gICAgICAgICBpZiAodHlwZW9mIHJhdGluZyA9PT0gJ3VuZGVmaW5lZCcpIHsgcmF0aW5nID0gJyc7IH1cbiAgICAvLyAgICAgICAgIGdmcFJlc3BvbnNpdmVMaXN0aW5nLmFwcGVuZCgnPGEgaHJlZj1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RMaW5rICsgJ1wiIGNsYXNzPVwiY2FyZFwiPjxpbWcgc3JjPVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdEltYWdlICsgJ1wiIGFsdD1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3ROYW1lICsgJ1wiPjxoNj4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICc8L2g2PjxwPicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RQcmljZSArICc8L3A+JyArIHJhdGluZyArICc8L2E+Jyk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyBEWU5BTUlDIEFETUlOIExJTktcbiAgICAvLyBodHRwOi8va3lyZXAuZmNjbXouc2VydmVydHJ1c3QuY29tL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD90YWJsZT1DYXRlZ29yaWVzJlBhZ2U9MSZJRD1cbiAgICB2YXIgY2F0SUQgPSBTZWFyY2hQYXJhbXMuc3BsaXQoJyYnKVsyXS5zdWJzdHJpbmcoNCk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd2Y2ItYWN0aXZlJykpIHtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmtVUkwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/dGFibGU9Q2F0ZWdvcmllcyZQYWdlPTEmSUQ9JyArIGNhdElEO1xuICAgICAgICAgICAgdmFyIGFkbWluTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgIGFkbWluTGluay5ocmVmID0gYWRtaW5MaW5rVVJMO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmlubmVyVGV4dCA9ICdFZGl0IENhdGVnb3J5JztcbiAgICAgICAgICAgIGFkbWluTGluay5jbGFzc0xpc3QuYWRkKCdlZGl0U2VhcmNoTGluaycsJ2J0bi1zb2xpZC0tYnJhbmQtdHdvJyk7XG4gICAgICAgICAgICAkKCdib2R5JykucHJlcGVuZChhZG1pbkxpbmspO1xuICAgICAgICB9XG4gICAgfSwgMzAwMCk7XG59XG5cblxuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cblJFU1BPTlNJVkUgU0hPUFBJTkcgQ0FSVFxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmICgocGFnZVBhdGggPT09ICcvU2hvcHBpbmdDYXJ0LmFzcCcpIHx8IHBhZ2VQYXRoID09PSAnL3Nob3BwaW5nY2FydC5hc3AnKSB7XG4gICAgLy8gdmFyIHJlQ2FsY0J1dHRvbiA9ICQoJyNidG5SZWNhbGN1bGF0ZScpO1xuICAgIC8vIHZhciBjb3Vwb25JbnB1dCA9ICQoJyN2NjUtY2FydC1jb3Vwb24tZW50cnktZGV0YWlscy1pbnB1dCcpO1xuICAgIC8vIHZhciBjb3Vwb25CdXR0b24gPSAkKCcjdjY1LWNhcnQtY291cG9uLWVudHJ5LWRldGFpbHMtYnV0dG9uJyk7XG4gICAgLy8gdmFyIGNhcnRUb3RhbENvbnRhaW5lciA9ICQoJyN2NjUtY2FydC10b3RhbC1lc3RpbWF0ZSB0ZDpmaXJzdC1jaGlsZCcpO1xuICAgIC8vIHZhciBjYXJ0VG90YWxWYWx1ZSA9IGNhcnRUb3RhbENvbnRhaW5lci50ZXh0KCkudHJpbSgpO1xuXG4gICAgLy8gJCgnI3Y2NS1jYXJ0LXNoaXBwaW5nLWRldGFpbHMtd3JhcHBlcicpLnJlbW92ZSgpO1xuICAgIC8vIHZhciBzaG9wcGluZ0NhcnRGb3JtID0gJCgnI3Y2NS1jYXJ0LXRhYmxlJykucGFyZW50KCdmb3JtJyk7XG4gICAgLy8gdmFyIGNhcnRSb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Y2NS1jYXJ0LXRhYmxlIC52NjUtY2FydC1kZXRhaWxzLXJvdycpO1xuICAgIC8vIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjdjY1LWNhcnQtdGFibGUgLnY2NS1jYXJ0LWdpZnRjZXJ0LWRldGFpbHMtcm93JykpIHtcbiAgICAvLyAgICAgY29uc29sZS5sb2coZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Y2NS1jYXJ0LXRhYmxlIC52NjUtY2FydC1naWZ0Y2VydC1kZXRhaWxzLXJvdycpKTtcbiAgICAvLyB9XG4gICAgLy8gdmFyIGNsZWFuQ2FydFJvd3MgPSBbXTtcblxuICAgIC8vIGNvbnNvbGUubG9nKCk7XG4gICAgLy8gY29uc29sZS5sb2coKTtcblxuICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgY2FydFJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgICAgdmFyIHJlbW92ZUxpbmsgPSBjYXJ0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCcudjY1LWNhcnQtaXRlbS1yZW1vdmUtbGluaycpO1xuICAgIC8vICAgICB2YXIgcHJvZHVjdEltYWdlID0gY2FydFJvd3NbaV0ucXVlcnlTZWxlY3RvcignLnY2NS1jYXJ0LWRldGFpbC1wcm9kdWN0aW1hZ2UnKS5pbm5lckhUTUw7XG4gICAgLy8gICAgIHZhciBwcm9kdWN0TmFtZSA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJy52NjUtY2FydC1kZXRhaWxzLXRleHQgLmNhcnQtaXRlbS1uYW1lJyk7XG4gICAgLy8gICAgIHZhciBxdWFudGl0eUlucHV0ID0gY2FydFJvd3NbaV0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZSo9XCJRdWFudGl0eVwiXScpO1xuICAgIC8vICAgICB2YXIgcHJvZHVjdFByaWNlID0gY2FydFJvd3NbaV0ucXVlcnlTZWxlY3RvcigndGQ6bnRoLWNoaWxkKDkpIC5jYXJ0dGV4dCcpLmlubmVyVGV4dDtcbiAgICAvLyAgICAgdmFyIHN1bVByaWNlID0gY2FydFJvd3NbaV0ucXVlcnlTZWxlY3RvcigndGQ6bnRoLWNoaWxkKDExKSAuY2FydHRleHQnKS5pbm5lclRleHQ7XG4gICAgLy8gICAgIGNsZWFuQ2FydFJvd3MucHVzaCh7XG4gICAgLy8gICAgICAgICByZW1vdmVMaW5rOiByZW1vdmVMaW5rLFxuICAgIC8vICAgICAgICAgcHJvZHVjdEltYWdlOiBwcm9kdWN0SW1hZ2UsXG4gICAgLy8gICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdE5hbWUsXG4gICAgLy8gICAgICAgICBxdWFudGl0eUlucHV0OiBxdWFudGl0eUlucHV0LFxuICAgIC8vICAgICAgICAgcHJvZHVjdFByaWNlOiBwcm9kdWN0UHJpY2UsXG4gICAgLy8gICAgICAgICBzdW1QcmljZTogc3VtUHJpY2VcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfVxuXG4gICAgLy8gc2hvcHBpbmdDYXJ0Rm9ybS5wcmVwZW5kKCc8ZGl2IGlkPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydFwiPjx0YWJsZT48dGhlYWQ+PHRyPjx0aCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXByb2R1Y3QtaW1hZ2VcIj48L3RoPjx0aCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXByb2R1Y3QtZGVzY3JpcHRpb25cIj5JdGVtPC90aD48dGggY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS11bml0LXByaWNlXCI+VW5pdCBQcmljZTwvdGg+PHRoIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcXVhbnRpdHlcIj5RdWFudGl0eTwvdGg+PHRoIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tdW5pdC10b3RhbFwiPlRvdGFsPC90aD48dGggY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1yZW1vdmUtaXRlbVwiPjwvdGg+PC90cj48L3RoZWFkPjx0Ym9keT48L3Rib2R5PjwvdGFibGU+JyArICc8cCBjbGFzcz1cImNhcnQtc3VidG90YWxcIj48c3Ryb25nPk9yZGVyIFN1YnRvdGFsOiAnICsgY2FydFRvdGFsVmFsdWUgKyAnPC9zdHJvbmc+PC9wPicgKyBjb3Vwb25JbnB1dFswXS5vdXRlckhUTUwgKyBjb3Vwb25CdXR0b25bMF0ub3V0ZXJIVE1MICsgcmVDYWxjQnV0dG9uWzBdLm91dGVySFRNTCArICc8L2Rpdj4nKTtcblxuICAgIC8vICQoJyN2NjUtY2FydC10YWJsZScpLnJlbW92ZSgpO1xuXG4gICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBjbGVhbkNhcnRSb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gICAgIHZhciBjYXJ0VGFibGUgPSAkKCcjZ2ZwLXJlc3BvbnNpdmUtY2FydCB0Ym9keScpO1xuICAgIC8vICAgICBjYXJ0VGFibGUuYXBwZW5kKCc8dHI+PHRkIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcHJvZHVjdC1pbWFnZVwiPicgKyBjbGVhbkNhcnRSb3dzW2ldLnByb2R1Y3RJbWFnZSArICc8L3RkPjx0ZCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXByb2R1Y3QtZGVzY3JpcHRpb25cIj4nICsgY2xlYW5DYXJ0Um93c1tpXS5wcm9kdWN0TmFtZS5pbm5lclRleHQgKyAnPC90ZD48dGQgY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS11bml0LXByaWNlXCI+JyArIGNsZWFuQ2FydFJvd3NbaV0ucHJvZHVjdFByaWNlICsgJzwvdGQ+PHRkIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcXVhbnRpdHlcIj4nICsgY2xlYW5DYXJ0Um93c1tpXS5xdWFudGl0eUlucHV0Lm91dGVySFRNTCArICc8L3RkPjx0ZCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXVuaXQtdG90YWxcIj4nICsgY2xlYW5DYXJ0Um93c1tpXS5zdW1QcmljZSArICc8L3RkPjx0ZCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXJlbW92ZS1pdGVtXCI+JyArIGNsZWFuQ2FydFJvd3NbaV0ucmVtb3ZlTGluay5vdXRlckhUTUwgKyAnPC90ZD48L3RyPicpO1xuICAgIC8vIH1cbn1cblxuXG5cblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5SRVNQT05TSVZFIENIRUNLT1VUXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuLy8gdmFyIGNoZWNrb3V0Q29udGFpbmVyID0gJCgnI3Y2NS1vbmVwYWdlLURldGFpbCcpO1xuLy8gaWYgKGNoZWNrb3V0Q29udGFpbmVyLmxlbmd0aCA+IDApIHtcbi8vICAgICB2YXIgYmlsbGluZ0hlYWRlciA9ICQoJyNiaWxsaW5nLWhlYWRlcicpLmh0bWwoKTtcbi8vICAgICB2YXIgYmlsbGluZ0NvbnRlbnQgPSAkKCcjdjY1LW9uZXBhZ2UtQmlsbGluZ1BhcmVudCcpLmh0bWwoKTtcbi8vICAgICB2YXIgc2hpcHBpbmdIZWFkZXIgPSAkKCcjc2hpcHBpbmctaGVhZGVyJykuaHRtbCgpO1xuLy8gICAgIHZhciBzaGlwcGluZ0NvbnRlbnQgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdQYXJlbnQnKS5odG1sKCk7XG4vLyAgICAgdmFyIGFkZGl0aW9uYWxJbmZvSGVhZGVyID0gJCgnLnY2NS1vbmVwYWdlLWN1c3RvbS1oZWFkZXItcm93JykuaHRtbCgpO1xuLy8gICAgIHZhciBhZGRpdGlvbmFsSW5mb0NvbnRlbnQgPSAkKCcudjY1LW9uZXBhZ2UtY3VzdG9tLWRldGFpbHMtcm93JykuaHRtbCgpO1xuLy8gICAgIHZhciBzaGlwcGluZ0Nvc3RIZWFkZXIgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdDb3N0SGVhZGVyJykuaHRtbCgpO1xuLy8gICAgIHZhciBzaGlwcGluZ0Nvc3RDb250ZW50ID0gJCgnI3Y2NS1vbmVwYWdlLVNoaXBwaW5nQ29zdCcpWzBdLm91dGVySFRNTDtcbi8vICAgICB2YXIgc2hpcHBpbmdUb3RhbHMgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdDb3N0UGFyZW50JykucGFyZW50KCkuaHRtbCgpO1xuLy8gICAgIHZhciBvcmRlclN1bW1hcnlJdGVtcyA9ICQoJyN2NjUtb25lcGFnZS1vcmRlcnN1bW1hcnktaXRlbXMnKS5wYXJlbnQoKS5odG1sKCk7XG4vLyAgICAgdmFyIHBheW1lbnRDb250ZW50ID0gJCgnI3Y2NS1vbmVwYWdlLXBheW1lbnQtZGV0YWlscy1wYXJlbnQtdGFibGUnKVswXS5vdXRlckhUTUw7XG4vLyAgICAgdmFyIHBheW1lbnRPcHRpb25zID0gJCgnI1BheW1lbnRESVYnKTtcbi8vICAgICB2YXIgbm9QYXltZW50T3B0aW9ucyA9ICQoJyNOb1BheW1lbnRESVYnKTtcbi8vICAgICB2YXIgc2hvd1BheW1lbnRGaWVsZHMgPSBub1BheW1lbnRPcHRpb25zLm5leHQoKTtcbi8vICAgICB2YXIgcGF5bWVudE1ldGhvZFR5cGUgPSBzaG93UGF5bWVudEZpZWxkcy5uZXh0KCk7XG4vLyAgICAgdmFyIHNhdmVkUGF5bWVudHNCbG9jayA9IHBheW1lbnRNZXRob2RUeXBlLm5leHQoKTtcbi8vICAgICBjb25zb2xlLmxvZyhwYXltZW50T3B0aW9ucyk7XG4vLyAgICAgY29uc29sZS5sb2cobm9QYXltZW50T3B0aW9ucyk7XG4vLyAgICAgY29uc29sZS5sb2coc2hvd1BheW1lbnRGaWVsZHMpO1xuLy8gICAgIGNvbnNvbGUubG9nKHBheW1lbnRNZXRob2RUeXBlKTtcbi8vICAgICBjb25zb2xlLmxvZyhzYXZlZFBheW1lbnRzQmxvY2spO1xuLy8gICAgIGlmICgkKCcjdjY1LW9uZXBhZ2UtUmVnaXN0cmF0aW9uRm9ybUZpZWxkcycpLmxlbmd0aCA+IDApIHtcbi8vICAgICAgICAgdmFyIHJlZ2lzdHJhdGlvblBhc3N3b3JkID0gJCgnI3Y2NS1vbmVwYWdlLVJlZ2lzdHJhdGlvbkZvcm1GaWVsZHMgaW5wdXRbbmFtZT1cInBhc3N3b3JkXCJdJykuZmlyc3QoKS5hdHRyKCdpZCcsICdwYXNzd29yZCcpO1xuLy8gICAgICAgICByZWdpc3RyYXRpb25QYXNzd29yZCA9ICQoJyN2NjUtb25lcGFnZS1SZWdpc3RyYXRpb25Gb3JtRmllbGRzIGlucHV0W25hbWU9XCJwYXNzd29yZFwiXScpWzBdLm91dGVySFRNTDtcbi8vICAgICAgICAgdmFyIHJlZ2lzdHJhdGlvblBhc3N3b3JkQ29uZmlybSA9ICQoJyN2NjUtb25lcGFnZS1SZWdpc3RyYXRpb25Gb3JtRmllbGRzIGlucHV0W25hbWU9XCJwYXNzd29yZGFnYWluXCJdJykuZmlyc3QoKS5hdHRyKCdpZCcsICdwYXNzd29yZC1jb25maXJtJyk7XG4vLyAgICAgICAgIHJlZ2lzdHJhdGlvblBhc3N3b3JkQ29uZmlybSA9ICQoJyN2NjUtb25lcGFnZS1SZWdpc3RyYXRpb25Gb3JtRmllbGRzIGlucHV0W25hbWU9XCJwYXNzd29yZGFnYWluXCJdJylbMF0ub3V0ZXJIVE1MO1xuLy8gICAgIH1cbi8vICAgICAkKCcjc3Bhbl9wYXltZW50ZmllbGRzX2NyZWRpdF9jYXJkID4gdGFibGUgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCg2KSB0ZDpmaXJzdC1jaGlsZCcpLnJlbW92ZSgpO1xuLy8gICAgICQoJyNzcGFuX3BheW1lbnRmaWVsZHNfY3JlZGl0X2NhcmQgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDYpIHRkOmxhc3QtY2hpbGQnKS5hdHRyKCdjb2xzcGFuJywgJzEnKTtcbiAgICBcbi8vICAgICAvLyAkKCcjdjY1LWNoZWNrb3V0LXBheW1lbnQtaGVhZGVyJykucGFyZW50KCkucmVtb3ZlKCk7XG4vLyAgICAgdmFyIHN1Ym1pdE9yZGVyID0gJCgnI2RpdmJ0blN1Ym1pdE9yZGVyJyk7XG4vLyAgICAgc3VibWl0T3JkZXIuZmluZCgnaW1nJykucmVtb3ZlKCk7XG4vLyAgICAgc3VibWl0T3JkZXIuZmluZCgnYnV0dG9uJykudGV4dCgnUGxhY2UgT3JkZXInKS5hZGRDbGFzcygnYnRuLXNvbGlkLS1icmFuZC10d28nKTtcbi8vICAgICB2YXIgcGxhY2VPcmRlciA9IHN1Ym1pdE9yZGVyLmh0bWwoKTtcbi8vICAgICBzdWJtaXRPcmRlci5yZW1vdmUoKTtcblxuLy8gICAgIC8vICQoJyN2NjUtb25lcGFnZS1wYXltZW50LWRldGFpbHMtcGFyZW50LXJvdyAjc3Bhbl9wYXltZW50ZmllbGRzX3B1cmNoYXNlX29yZGVyX251bWJlciAudjY1LXBheW1lbnQtZGV0YWlscy1sYWJlbC1jZWxsJykuaHRtbCgnSm9obiBEZWVyZSBGaW5hbmNpYWwvPGJyIC8+Sm9obiBEZWVyZSBDQyBOdW1iZXInKTtcbiAgICBcblxuXG5cbi8vICAgICB2YXIgb3JkZXJDb21tZW50c0VsZW0gPSAkKCcjdjY1LW9uZXBhZ2Utb3JkZXJjb21tZW50cy1pbnB1dCcpO1xuLy8gICAgIG9yZGVyQ29tbWVudHNFbGVtLnJlbW92ZSgpO1xuLy8gICAgICQoJyN2NjUtb25lcGFnZS1vcmRlcmNvbW1lbnRzLXJvdycpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpO1xuXG5cbiAgICBcblxuLy8gICAgIGNoZWNrb3V0Q29udGFpbmVyLmhpZGUoKTtcbi8vICAgICAkKCcjdGFibGVfY2hlY2tvdXRfY2FydDAnKS5yZW1vdmUoKTtcblxuLy8gICAgICQoJyNGb3JtYXRMaXN0b2ZFcnJvcnNEaXYnKS5hZnRlcignPGRpdiBpZD1cImdmcC1yZXNwb25zaXZlLWNoZWNrb3V0XCI+PC9kaXY+Jyk7XG5cblxuICAgIFxuLy8gICAgIHZhciByZXNwQ2hlY2tvdXQgPSAkKCcjZ2ZwLXJlc3BvbnNpdmUtY2hlY2tvdXQnKTtcbi8vICAgICB2YXIgY2hlY2tvdXRXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dmcC1yZXNwb25zaXZlLWNoZWNrb3V0Jyk7XG5cblxuICAgIFxuLy8gICAgIHNldFVwUmVzcG9uc2l2ZUNoZWNrb3V0KCk7XG5cbi8vICAgICB2YXIgdGVybXNMaW5rID0gJCgnI2FydGljbGVCb2R5XzExMicpLnNpYmxpbmdzKCd0YWJsZScpLmZpbmQoJ3RyOmZpcnN0LWNoaWxkIHRkOmxhc3QtY2hpbGQgYScpO1xuLy8gICAgIHZhciB0ZXJtc0lucHV0ID0gJCgnaW5wdXRbbmFtZT1cIk9yZGVycy5DdXN0b21fRmllbGRfVGVybXNvZlVzZVwiXScpO1xuLy8gICAgIHRlcm1zSW5wdXQucGFyZW50KCkucmVtb3ZlKCk7XG4gICAgXG4vLyAgICAgdmFyIHRlcm1zU3RhdGVtZW50ID0gJCgnI2FydGljbGVCb2R5XzExMicpLnNpYmxpbmdzKCd0YWJsZScpLmZpbmQoJ3RyOmZpcnN0LWNoaWxkIHRkOmZpcnN0LWNoaWxkJykuaHRtbCh0ZXJtc0lucHV0WzBdLm91dGVySFRNTCArICdJIGFncmVlIHRvIHRoZSA8YSBocmVmPVwiJyArIHRlcm1zTGluay5hdHRyKCdocmVmJykgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiPlRlcm1zIGFuZCBDb25kaXRpb25zPC9hPicpO1xuXG4vLyAgICAgdGVybXNMaW5rLnJlbW92ZSgpO1xuXG4vLyAgICAgdmFyIHJldHVybnNMaW5rID0gJCgnI2FydGljbGVCb2R5XzExMicpLnNpYmxpbmdzKCd0YWJsZScpLmZpbmQoJ3RyOmxhc3QtY2hpbGQgdGQ6bGFzdC1jaGlsZCBhJyk7XG4vLyAgICAgdmFyIHJldHVybnNJbnB1dCA9ICQoJ2lucHV0W25hbWU9XCJPcmRlcnMuQ3VzdG9tX0ZpZWxkX0FncmVlUmV0dXJuc1wiXScpO1xuLy8gICAgIHJldHVybnNJbnB1dC5wYXJlbnQoKS5yZW1vdmUoKTtcblxuLy8gICAgIHZhciByZXR1cm5zU3RhdGVtZW50ID0gJCgnI2FydGljbGVCb2R5XzExMicpLnNpYmxpbmdzKCd0YWJsZScpLmZpbmQoJ3RyOmxhc3QtY2hpbGQgdGQ6Zmlyc3QtY2hpbGQnKS5odG1sKHJldHVybnNJbnB1dFswXS5vdXRlckhUTUwgKyAnSSBhY2NlcHQgdGhlIDxhIGhyZWY9XCInICsgcmV0dXJuc0xpbmsuYXR0cignaHJlZicpICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj5SZXR1cm5zIGFuZCBTaGlwcGluZyBQb2xpY2llczwvYT4nKTtcbiAgICBcbi8vICAgICB2YXIgb3JkZXJUb3RhbHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3JkZXItdG90YWxzLWNvbnRhaW5lcicpO1xuLy8gICAgIHZhciBvcmRlck9mZnNldFRvcCA9IG9yZGVyVG90YWxzQ29udGFpbmVyLm9mZnNldFRvcDtcbi8vICAgICB2YXIgY2hlY2tvdXRXcmFwVG9wID0gJCgnI3Y2NS1vbmVwYWdlLUNvbnRlbnRUYWJsZScpLm9mZnNldCgpLnRvcCArIGNoZWNrb3V0V3JhcC5vZmZzZXRUb3A7XG4vLyAgICAgdmFyIGNoZWNrb3V0Q29udGFpbmVyV2lkdGggPSBjaGVja291dFdyYXAucXVlcnlTZWxlY3RvcignLm9yZGVyLXRvdGFscy1jb250YWluZXInKS5vZmZzZXRXaWR0aDtcblxuLy8gICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcbi8vICAgICAgICAgY2hlY2tvdXRDb250YWluZXJXaWR0aCA9IGNoZWNrb3V0V3JhcC5xdWVyeVNlbGVjdG9yKCcub3JkZXItdG90YWxzLWNvbnRhaW5lcicpLm9mZnNldFdpZHRoO1xuLy8gICAgICAgICBjaGVja291dFdyYXBUb3AgPSAkKCcjdjY1LW9uZXBhZ2UtQ29udGVudFRhYmxlJykub2Zmc2V0KCkudG9wICsgY2hlY2tvdXRXcmFwLm9mZnNldFRvcDtcbi8vICAgICB9KTtcbiAgICBcbi8vICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzdGlja3lDaGVja291dCk7XG4vLyB9XG5cblxuXG5cblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5LSUxMU0hFRVRcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG4kKCdpbWdbc3JjPVwiL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltYWdlcy9jbGVhcjF4MS5naWZcIl0nKS5yZW1vdmUoKTtcbiQoJy5jb2xvcnNfcHJpY2Vib3ggaW1nW3NyYz1cIi92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvUEJveF9Cb3JkZXJfTGVmdF9Ub3AuZ2lmXCJdJykucGFyZW50KCd0cicpLnJlbW92ZSgpO1xuaWYgKCQoJyN2NjUtb25lcGFnZS1icmVhZGNydW1iJykpIHtcbiAgICAkKCcjdjY1LW9uZXBhZ2UtYnJlYWRjcnVtYicpLnJlbW92ZSgpO1xufVxuJCgnI3Y2NS1vbmVwYWdlLUNvcHlCaWxsaW5nVG9TaGlwcGluZ0xpbmsnKS5yZW1vdmUoKTtcblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5TSU5HTEUgUFJPRFVDVFxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnc2luZ2xlLXByb2R1Y3QnKSkge1xuICAgIC8vIFNFVFVQIEFETUlOIExJTktcbiAgICAvLyBodHRwOi8va3lyZXAuZmNjbXouc2VydmVydHJ1c3QuY29tL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD90YWJsZT1DYXRlZ29yaWVzJlBhZ2U9MSZJRD1cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3ZjYi1hY3RpdmUnKSkge1xuICAgICAgICAgICAgdmFyIGFkbWluTGlua1VSTCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD90YWJsZT1Qcm9kdWN0c19Kb2luZWQmUGFnZT0xJklEPScgKyBnbG9iYWxfQ3VycmVudF9Qcm9kdWN0Q29kZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdmFyIGFkbWluTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgIGFkbWluTGluay5ocmVmID0gYWRtaW5MaW5rVVJMO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmlubmVyVGV4dCA9ICdFZGl0IFByb2R1Y3QnO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmNsYXNzTGlzdC5hZGQoJ2VkaXRQcm9kdWN0TGluaycsJ2J0bi1zb2xpZC0tYnJhbmQtdHdvJyk7XG4gICAgICAgICAgICAkKCdib2R5JykucHJlcGVuZChhZG1pbkxpbmspO1xuICAgICAgICB9XG4gICAgfSwgMzAwMCk7XG5cbiAgICB2YXIgcGFnZVRpdGxlID0gJCgnLnZwLXByb2R1Y3QtdGl0bGUnKVswXS5pbm5lclRleHQ7XG5cbiAgICB2YXIgcHJvZHVjdERlc2NyaXB0aW9uV3JhcCA9ICQoJyN2NjUtcHJvZHVjdGRldGFpbC1hY3Rpb24td3JhcHBlcicpO1xuICAgIHByb2R1Y3REZXNjcmlwdGlvbldyYXAuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpLmF0dHIoJ2FsaWduJywgJ2xlZnQnKTtcbiAgICBwcm9kdWN0RGVzY3JpcHRpb25XcmFwLnNpYmxpbmdzKCkuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuXG4gICAgdXBkYXRlSGVybyhoZXJvSW1nLCBwYWdlVGl0bGUpO1xuXG4gICAgLy8gR0VUIFRIRSBDT05UQUlORVIgQU5EIERST1AgSU4gTkVXIENPTlRBSU5FUiBCRUZPUkUgVEhFIEVMRU1FTlQgVE8gQkUgREVMRVRFRFxuICAgIHZhciByZWxhdGVkUHJvZHVjdHNDb250YWluZXIgPSAkKCcjdjY1LXByb2R1Y3QtcGFyZW50JykubmV4dCgpLmZpbmQoJy5jb2xvcnNfbGluZXNfbGlnaHQnKS5maXJzdCgpO1xuICAgIGlmIChyZWxhdGVkUHJvZHVjdHNDb250YWluZXJbMF0gJiYgcmVsYXRlZFByb2R1Y3RzQ29udGFpbmVyWzBdLmlkICE9PSAndjY1LXByb2R1Y3QtcmVsYXRlZCcpIHtcbiAgICAgICAgZ2V0UmVsYXRlZFByb2R1Y3RzKCk7XG4gICAgfVxuICAgIFxuXG4gICAgJCgnc3BhbltpdGVtcHJvcD1cImRlc2NyaXB0aW9uXCJdJykucHJlcGVuZCgnPHAgY2xhc3M9XCJoMVwiPicgKyBwYWdlVGl0bGUgKyAnPC9wPicpO1xuXG4gICAgJCgnI3Y2NS1wcm9kdWN0LXBhcmVudCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpID4gdGQ6Zmlyc3QtY2hpbGQnKS5hZGRDbGFzcygnZmVhdHVyZWQtaW1hZ2UtcGFyZW50Jykuc2libGluZ3MoKS5hZGRDbGFzcygnZmVhdHVyZWQtY29udGVudC1jb250YWluZXInKTtcblxuXG4gICAgdmFyIGZpdG1lbnRTdHJpbmcgPSAkKCcjUHJvZHVjdERldGFpbF9Qcm9kdWN0RGV0YWlsc19kaXYyIGxpJyk7XG4gICAgaWYgKGZpdG1lbnRTdHJpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgZml0bWVudEFycmF5ID0gZml0bWVudFN0cmluZ1swXS5pbm5lclRleHQuc3BsaXQoJ3wnKS5zb3J0KCk7XG4gICAgICAgICQoJyNQcm9kdWN0RGV0YWlsX1Byb2R1Y3REZXRhaWxzX2RpdjInKS5yZW1vdmUoKTtcbiAgICAgICAgJCgnI3Y2NS1wcm9kdWN0LXBhcmVudCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpID4gdGQ6bnRoLWNoaWxkKDIpID4gdGFibGUgPiB0Ym9keSA+IHRyID4gdGQgPiB0YWJsZSA+IHRib2R5JykuYXBwZW5kKCc8dHI+PHRkIGNvbHNwYW49XCIyXCI+PGgzIGNsYXNzPVwibWFyLXQtLW1vcmVcIj4nICsgcGFnZVRpdGxlICsgJyBmaXRzIHRoZSBmb2xsb3dpbmcgbW9kZWxzOjwvaDM+PGhyPjx1bCBpZD1cImdmcC1maXRtZW50XCI+PC91bD48L3RyPjwvdGQ+Jyk7XG4gICAgICAgIHZhciBmaXRtZW50TGlzdCA9ICQoJyNnZnAtZml0bWVudCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpdG1lbnRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZml0bWVudExpc3QuYXBwZW5kKCc8bGk+JyArIGZpdG1lbnRBcnJheVtpXSArICc8L2xpPicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCQoJyNyZWxhdGVkX3Byb2R1Y3RzX2NvbnRlbnQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvcm1hdFJlbGF0ZWRQcm9kdWN0cygpO1xuICAgICAgICB2YXIgcHJvZHVjdEZlYXR1cmVJbWFnZSA9ICQoJyNwcm9kdWN0X3Bob3RvX3pvb21fdXJsJykucGFyZW50KCd0ZCcpO1xuICAgICAgICBwcm9kdWN0RmVhdHVyZUltYWdlLmFkZENsYXNzKCdmZWF0dXJlZC1pbWFnZS1jb250YWluZXInKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChwcm9kdWN0RmVhdHVyZUltYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmaXhQcm9kdWN0RmVhdHVyZUltYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcm9kdWN0RGVzY3JpcHRpb24gPSAkKCcjcHJvZHVjdF9kZXNjcmlwdGlvbicpO1xuICAgIGlmIChwcm9kdWN0RGVzY3JpcHRpb24ubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcuZmVhdHVyZWQtY29udGVudC1jb250YWluZXInKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJnZnAtcHJvZHVjdC1kZXNjcmlwdGlvblwiPicgKyBwcm9kdWN0RGVzY3JpcHRpb24uaHRtbCgpICsgJzwvZGl2PicpO1xuICAgIH1cblxuICAgIHZhciBwcm9kdWN0VGVjaFNwZWNzID0gJCgnI1Byb2R1Y3REZXRhaWxfVGVjaFNwZWNzX2RpdicpO1xuICAgIGlmIChwcm9kdWN0VGVjaFNwZWNzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICBpZiAocHJvZHVjdFRlY2hTcGVjcy50ZXh0KCkudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB2YXIgcmVwbGFjZWRCeSA9IHByb2R1Y3RUZWNoU3BlY3MudGV4dCgpLnRyaW0oKS5zcGxpdCgnVGhpcyBKb2huIERlZXJlIFBhcnQgaGFzIGJlZW4gcmVwbGFjZWQgYnkgcGFydCBudW1iZXIgJylbMV0uc3BsaXQoJy0tPicpO1xuICAgICAgICAgICAgaWYgKHByb2R1Y3RUZWNoU3BlY3NbMF0udGV4dENvbnRlbnQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgJCgnLmZlYXR1cmVkLWNvbnRlbnQtY29udGFpbmVyJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ2ZwLXByb2R1Y3QtdGVjaC1zcGVjc1wiPjxoMz5UaGlzIEpvaG4gRGVlcmUgUGFydCBoYXMgYmVlbiByZXBsYWNlZCBieSBwYXJ0KHMpOjwvaDM+PGhyPjx1bD48L3VsPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIHZhciByZXBsYWNlZEJ5TGlzdCA9ICQoJy5nZnAtcHJvZHVjdC10ZWNoLXNwZWNzIHVsJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXBsYWNlZEJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VkQnlMaXN0LmFwcGVuZCgnPGxpPjxhIGhyZWY9XCIvLXAvJyArIHJlcGxhY2VkQnlbaV0gKyAnLmh0bVwiPicgKyByZXBsYWNlZEJ5W2ldICsgJzwvYT48L2xpPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgdmFyIHByb2R1Y3RFeHRJbmZvID0gJCgnI1Byb2R1Y3REZXRhaWxfRXh0SW5mb19kaXYnKTtcbiAgICBpZiAocHJvZHVjdEV4dEluZm8ubGVuZ3RoID4gMCkge1xuICAgICAgICBcbiAgICAgICAgaWYgKHByb2R1Y3RFeHRJbmZvLmh0bWwoKS50cmltKCkgIT09IFwiXCIpIHtcblxuICAgICAgICAgICAgdmFyIHBhcnRTdWJzID0gcHJvZHVjdEV4dEluZm8uaHRtbCgpLnNwbGl0KCdUaGlzIEpvaG4gRGVlcmUgUGFydCByZXBsYWNlcyBwYXJ0IG51bWJlcihzKSAnKVsxXS5zcGxpdCgnfCcpO1xuICAgICAgICAgICAgdmFyIGNsZWFuUGFydFN1YnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydFN1YnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjbGVhblBhcnRTdWJzLnB1c2gocGFydFN1YnNbaV0udHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNsZWFuUGFydFN1YnMpO1xuICAgICAgICAgICAgJCgnLmZlYXR1cmVkLWNvbnRlbnQtY29udGFpbmVyJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ2ZwLXByb2R1Y3QtZXh0aW5mb1wiPjxoMz5UaGlzIEpvaG4gRGVlcmUgUGFydCByZXBsYWNlcyBwYXJ0IG51bWJlcihzKTo8L2gzPjxocj48dWw+PC91bD48L2Rpdj4nKTtcbiAgICAgICAgICAgIHZhciBwYXJ0U3Vic0xpc3QgPSAkKCcuZ2ZwLXByb2R1Y3QtZXh0aW5mbyB1bCcpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGVhblBhcnRTdWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGFydFN1YnNMaXN0LmFwcGVuZCgnPGxpPicgKyBjbGVhblBhcnRTdWJzW2ldICsgJzwvbGk+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHZhciB2b2x1c3Rpb25UYWIgPSAkKCcjUHJvZHVjdERldGFpbF9Qcm9kdWN0RGV0YWlsc19kaXYnKS5wYXJlbnRzKCcuY29sb3JzX2Rlc2NyaXB0aW9uYm94Jyk7XG4gICAgdm9sdXN0aW9uVGFiLnByZXYoKS5yZW1vdmUoKVxuICAgIHZvbHVzdGlvblRhYi5yZW1vdmUoKTtcblxufVxuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT09XG5BUlRJQ0xFIC0gVEFMSyBXSVRIIEEgVEVDSFxuPT09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2FydGljbGUtLXRhbGstd2l0aC1hLXRlY2gnKSkge1xuICAgIHVwZGF0ZUhlcm8oJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLXRhbGstd2l0aC1hLXRlY2guanBnKScsIGRvY3VtZW50LnRpdGxlKTtcbn1cblxuXG5cbmZ1bmN0aW9uIGdldFJhbmRvbUludChtaW4sIG1heCkge1xuICBtaW4gPSBNYXRoLmNlaWwobWluKTtcbiAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgLy9UaGUgbWF4aW11bSBpcyBpbmNsdXNpdmUgYW5kIHRoZSBtaW5pbXVtIGlzIGluY2x1c2l2ZSBcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTWVudSgpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ21lbnUtb3BlbicpO1xuICAgIHZhciBtZW51QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hhbWJ1cmdlcicpO1xuICAgIG1lbnVCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZU1lbnVBY2NvcmRpYW4oZSkge1xuICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgaWYgKCQoc2VsZikucGFyZW50KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICQoc2VsZikucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKHNlbGYpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjY29yZGlhbi1vcGVuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJChzZWxmKS5wYXJlbnQoJy5tZW51LWl0ZW0taGFzLWNoaWxkcmVuJykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmZpbmQoJy5zdWItbWVudS0tbGV2ZWwtdHdvJykucmVtb3ZlQ2xhc3MoJ2FjY29yZGlhbi1vcGVuJyk7XG4gICAgJChzZWxmKS5zaWJsaW5ncygpLmFkZENsYXNzKCdhY2NvcmRpYW4tb3BlbicpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVDaGF0V2luZG93KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHdpbmRvdy5mY1dpZGdldC5pc09wZW4oKSAhPSB0cnVlKSB7XG4gICAgICAgIHdpbmRvdy5mY1dpZGdldC5vcGVuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmZjV2lkZ2V0LmNsb3NlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVIZXJvKGhlcm9JbWcsIGhlcm9UZXh0KSB7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvXCIgfHwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSBcIi9EZWZhdWx0LmFzcFwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdmFyIGhlcm9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyby0tbm90LWhvbWUnKTtcbiAgICBoZXJvQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGhlcm9JbWc7XG4gICAgXG4gICAgaWYgKCFwYWdlUGF0aC5tYXRjaCgvQ2xlYXJhbmNlL2kpKSB7XG4gICAgICAgIHZhciBoZXJvSGVhZGluZyA9IGhlcm9Db250YWluZXIucXVlcnlTZWxlY3RvcignaDEnKTtcbiAgICAgICAgaGVyb0hlYWRpbmcuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIGhlcm9IZWFkaW5nLmlubmVySFRNTCA9IGhlcm9UZXh0O1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGVyb0NvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSAnbGVmdCc7XG4gICAgaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2l0ZS13aWR0aCcpLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiY3VycmVudC1zcGVjaWFsLW9mZmVycy1pdGVtLS10YWdcIj48cD4yNSUgLSA1MCUgT2ZmPC9wPjwvZGl2PjxkaXYgY2xhc3M9XCJjdXJyZW50LXNwZWNpYWwtb2ZmZXJzLWl0ZW0tLXRpdGxlXCI+PGg0PkNsZWFyYW5jZSBTYXZpbmdzPC9oND48cCBjbGFzcz1cIm1hci10LS1tb3JlXCIgc3R5bGU9XCJmb250LXNpemU6IDEuM3JlbTsgbWF4LXdpZHRoOiAzOTBweDsgdGV4dC1zaGFkb3c6IDNweCAzcHggNXB4IHJnYmEoMCwwLDAsMC43KTtcIj5FdmVyeXRoaW5nIGlzIHByaWNlZCB0b28gbG93IHRvIHNob3chIEFkZCB0byB5b3VyIGNhcnQgdG8gc2VlIHlvdXIgc2F2aW5ncy48L3A+PC9kaXY+JztcbiAgICBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50LXNwZWNpYWwtb2ZmZXJzLWl0ZW0tLXRhZycpLnN0eWxlLnBvc2l0aW9uID0gJ3N0YXRpYyc7XG4gICAgaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VycmVudC1zcGVjaWFsLW9mZmVycy1pdGVtLS10aXRsZScpLnN0eWxlLnBvc2l0aW9uID0gJ3N0YXRpYyc7XG4gICAgaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VycmVudC1zcGVjaWFsLW9mZmVycy1pdGVtLS10YWcgcCcpLnN0eWxlLmZvbnRTaXplID0gJzJlbSc7XG4gICAgaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VycmVudC1zcGVjaWFsLW9mZmVycy1pdGVtLS10YWcgcCcpLnN0eWxlLnRleHRUcmFuc2Zvcm0gPSAndXBwZXJjYXNlJztcbiAgICBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50LXNwZWNpYWwtb2ZmZXJzLWl0ZW0tLXRpdGxlIGg0Jykuc3R5bGUuZm9udFNpemUgPSAnMi41ZW0nO1xuICAgIGhlcm9Db250YWluZXIucXVlcnlTZWxlY3RvcignLmN1cnJlbnQtc3BlY2lhbC1vZmZlcnMtaXRlbS0tdGl0bGUgaDQnKS5zdHlsZS50ZXh0VHJhbnNmb3JtID0gJ3VwcGVyY2FzZSc7XG5cbn1cblxuZnVuY3Rpb24gZml4SGVhZGVyKCkge1xuICAgIGlmICh3aW5kb3cuc2Nyb2xsWSA+IHNpdGVIZWFkZXJPZmZzZXQpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gc2l0ZUhlYWRlci5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3NpdGUtaGVhZGVyLWZpeGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gMDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdzaXRlLWhlYWRlci1maXhlZCcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbWF0Y2hDaGVja291dElucHV0KGVsZW0sIHZhbCkge1xuICAgIHZhciBpbnB1dCA9IGVsZW0uaWQuc3BsaXQoJy0nKVsyXS5zdWJzdHJpbmcoNCk7XG4gICAgdmFyIHNoaXBFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Y2NS1vbmVwYWdlLXNoaXAnICsgaW5wdXQpO1xuICAgIGlmICghc2hpcEVsZW0pIHsgcmV0dXJuOyB9XG4gICAgc2hpcEVsZW0udmFsdWUgPSB2YWw7XG59XG5cbmZ1bmN0aW9uIGdldFJlbGF0ZWRQcm9kdWN0cygpIHtcbiAgICAkKCcjdjY1LXByb2R1Y3QtcGFyZW50ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMikgPiB0ZDpudGgtY2hpbGQoMikgPiB0YWJsZSA+IHRib2R5ID4gdHIgPiB0ZCA+IHRhYmxlID4gdGJvZHknKS5hcHBlbmQoJzx0cj48dGQgY29sc3Bhbj1cIjJcIj48ZGl2IGlkPVwiZ2ZwLXJlbGF0ZWQtcHJvZHVjdHNcIj48L2Rpdj48L3RyPjwvdGQ+Jyk7XG5cbiAgICAvLyBHRVQgQUxMIFRIRSBEQVRBXG4gICAgdmFyIHJlbGF0ZWRQcm9kdWN0cyA9IHJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lci5maW5kKCcudjY1LXByb2R1Y3REaXNwbGF5Jyk7XG4gICAgdmFyIHJlbGF0ZWRQcm9kdWN0VGl0bGUgPSByZWxhdGVkUHJvZHVjdHMuZmluZCgndHI6Zmlyc3QtY2hpbGQgLnY2NS1wcm9kdWN0TmFtZScpO1xuXG4gICAgdmFyIHJlbGF0ZWRQcm9kdWN0UHJpY2UgPSByZWxhdGVkUHJvZHVjdHMuZmluZCgndHI6bnRoLWNoaWxkKDIpIC5wcm9kdWN0X3Byb2R1Y3RwcmljZScpO1xuXG5cbiAgICAvLyBDTEVBTiBUSEUgSU1BR0UgUEFUSCBUTyBHRVQgQkVUVEVSIFJFU1xuICAgIHZhciByZWxhdGVkUHJvZHVjdEltZyA9IHJlbGF0ZWRQcm9kdWN0cy5maW5kKCd0cjpsYXN0LWNoaWxkIC52NjUtcHJvZHVjdFBob3RvJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWxhdGVkUHJvZHVjdEltZy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaW1hZ2VQYXRoID0gcmVsYXRlZFByb2R1Y3RJbWdbaV0ucXVlcnlTZWxlY3RvcignaW1nJykuc3JjO1xuICAgICAgICBpZiAoIWltYWdlUGF0aC5tYXRjaCgvbm9waG90by8pKSB7XG4gICAgICAgICAgICByZWxhdGVkUHJvZHVjdEltZ1tpXS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmMgPSBpbWFnZVBhdGguc3Vic3RyaW5nKDAsIGltYWdlUGF0aC5sZW5ndGggLSA2KSArICctMlQnICsgaW1hZ2VQYXRoLnN1YnN0cmluZyhpbWFnZVBhdGgubGVuZ3RoIC0gNCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXSVBFIFRIRSBPTEQgTElTVFxuICAgIHJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICBcbiAgICAvLyBDUkVBVEUgUkVMQVRFRCBQUk9EVUNUIEFSUkFZXG4gICAgdmFyIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVsYXRlZFByb2R1Y3RUaXRsZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaGFzUHJpY2UgPSAnJztcbiAgICAgICAgaWYgKHJlbGF0ZWRQcm9kdWN0UHJpY2VbaV0pIHtcbiAgICAgICAgICAgIGhhc1ByaWNlID0gcmVsYXRlZFByb2R1Y3RQcmljZVtpXS5pbm5lclRleHQudHJpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0cy5wdXNoKHtcbiAgICAgICAgICAgIHByb2R1Y3RUaXRsZTogcmVsYXRlZFByb2R1Y3RUaXRsZVtpXS5xdWVyeVNlbGVjdG9yKCdhJykuaW5uZXJIVE1MLnRyaW0oKSxcbiAgICAgICAgICAgIHByb2R1Y3RMaW5rOiByZWxhdGVkUHJvZHVjdFRpdGxlW2ldLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5ocmVmLFxuICAgICAgICAgICAgcHJvZHVjdEltZzogcmVsYXRlZFByb2R1Y3RJbWdbaV0ucXVlcnlTZWxlY3RvcignaW1nJykub3V0ZXJIVE1MLFxuICAgICAgICAgICAgcHJvZHVjdFByaWNlOiBoYXNQcmljZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKCcjZ2ZwLXJlbGF0ZWQtcHJvZHVjdHMnKS5odG1sKCc8aDM+QWx0ZXJuYXRpdmVzIHRvICcgKyBwYWdlVGl0bGUgKyAnPC9oMz48dWwgY2xhc3M9XCJjb3N0LWFsdGVybmF0aXZlcy1saXN0XCI+PC91bD4nKTtcblxuXG4gICAgdmFyIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1RhYmxlID0gJCgnI2dmcC1yZWxhdGVkLXByb2R1Y3RzIC5jb3N0LWFsdGVybmF0aXZlcy1saXN0Jyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaHRtbCA9ICc8bGk+PGEgaHJlZj1cIicgKyBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHNbaV0ucHJvZHVjdExpbmsgKyAnXCI+PGRpdiBjbGFzcz1cImNvc3QtYWx0ZXJuYXRpdmVzLWxpc3QtLWltYWdlXCI+JyArIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1tpXS5wcm9kdWN0SW1nICsgJzwvZGl2PjxkaXYgY2xhc3M9XCJjb3N0LWFsdGVybmF0aXZlcy1saXN0LS1jb250ZW50XCI+PHA+PHN0cm9uZz4nICsgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzW2ldLnByb2R1Y3RUaXRsZSArICc8L3N0cm9uZz48L3A+PHA+JyArIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1tpXS5wcm9kdWN0UHJpY2UgKyAnPC9wPjwvZGl2PjwvYT48L2xpPic7XG4gICAgICAgIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1RhYmxlLmFwcGVuZChodG1sKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFJlbGF0ZWRQcm9kdWN0cygpIHtcbiAgICB2YXIgY2xlYW5SZWxhdGVkUHJvZHVjdHMgPSBbXTs7XG4gICAgdmFyIHByb2R1Y3RUaXRsZXMgPSAkKCcjcmVsYXRlZF9wcm9kdWN0c19jb250ZW50IC52NjUtcHJvZHVjdE5hbWUnKTtcbiAgICB2YXIgcHJvZHVjdFByaWNlID0gJCgnI3JlbGF0ZWRfcHJvZHVjdHNfY29udGVudCAudjY1LXByb2R1Y3RBdmFpbGFiaWxpdHkgLnByb2R1Y3RfcHJvZHVjdHByaWNlJyk7XG4gICAgdmFyIHByb2R1Y3RJbWcgPSAkKCcjcmVsYXRlZF9wcm9kdWN0c19jb250ZW50IC52NjUtcHJvZHVjdFBob3RvJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RUaXRsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGltZ1BhdGggPSBwcm9kdWN0SW1nW2ldLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYztcbiAgICAgICAgaW1nUGF0aCA9IGltZ1BhdGguc3Vic3RyaW5nKDAsIGltZ1BhdGgubGVuZ3RoIC0gNikgKyAnLTJUJyArIGltZ1BhdGguc3Vic3RyaW5nKGltZ1BhdGgubGVuZ3RoIC0gNCk7XG4gICAgICAgIFxuICAgICAgICB2YXIgaGFzUHJpY2UgPSAnJztcbiAgICAgICAgaWYgKHByb2R1Y3RQcmljZVtpXSkge1xuICAgICAgICAgICAgdmFyIGhhc1ByaWNlID0gcHJvZHVjdFByaWNlW2ldLmlubmVyVGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFuUmVsYXRlZFByb2R1Y3RzLnB1c2goe1xuICAgICAgICAgICAgcmVsYXRlZFByb2R1Y3RUaXRsZTogcHJvZHVjdFRpdGxlc1tpXS5pbm5lclRleHQsXG4gICAgICAgICAgICByZWxhdGVkUHJvZHVjdFByaWNlOiBoYXNQcmljZSxcbiAgICAgICAgICAgIHJlbGF0ZWRQcm9kdWN0SW1nOiBpbWdQYXRoLFxuICAgICAgICAgICAgcmVsYXRlZFByb2R1Y3RMaW5rOiBwcm9kdWN0SW1nW2ldLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5ocmVmXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICQoJyN2NjUtcHJvZHVjdC1yZWxhdGVkJykuYmVmb3JlKCc8ZGl2IGNsYXNzPVwic2xpZGVyLS1yZWxhdGVkLXByb2R1Y3RzXCI+PGgzIGNsYXNzPVwiaGFzLXRleHQtY2VudGVyIG1hci1iXCI+UHJvZHVjdHMgcmVsYXRlZCB0byAnICsgcGFnZVRpdGxlICsgJzwvaDM+PGRpdiBjbGFzcz1cInNsaWRlclwiPjwvZGl2PjwvZGl2PicpO1xuICAgICQoJyN2NjUtcHJvZHVjdC1yZWxhdGVkJykucmVtb3ZlKCk7XG5cbiAgICB2YXIgc2xpZGVyUmVsYXRlZFByb2R1Y3RzID0gJCgnLnNsaWRlci0tcmVsYXRlZC1wcm9kdWN0cyA+IGRpdicpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGVhblJlbGF0ZWRQcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzbGlkZXJSZWxhdGVkUHJvZHVjdHMuYXBwZW5kKCc8ZGl2PjxhIGhyZWY9XCInICsgY2xlYW5SZWxhdGVkUHJvZHVjdHNbaV0ucmVsYXRlZFByb2R1Y3RMaW5rICsgJ1wiPjxpbWcgc3JjPVwiJyArIGNsZWFuUmVsYXRlZFByb2R1Y3RzW2ldLnJlbGF0ZWRQcm9kdWN0SW1nICsgJ1wiIC8+JyArIGNsZWFuUmVsYXRlZFByb2R1Y3RzW2ldLnJlbGF0ZWRQcm9kdWN0VGl0bGUgKyAnPC9hPjwvZGl2PicpO1xuICAgIH0gICBcblxufVxuXG5mdW5jdGlvbiBmaXhQcm9kdWN0RmVhdHVyZUltYWdlKCkge1xuICAgIC8vIElGIFNNQUxMRVIgU0NSRUVOUyBHRVQgT1VUVEEgSEVSRVxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwODApIHsgcmV0dXJuOyB9XG4gICAgXG4gICAgLy8gR1JBQkJJTkcgRUxFTUVOVFMgQU5EIERJTUVOU0lPTlNcbiAgICB2YXIgZmVhdHVyZWRJbWFnZVBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWF0dXJlZC1pbWFnZS1wYXJlbnQnKTtcbiAgICB2YXIgZmVhdHVyZWRDb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlYXR1cmVkLWNvbnRlbnQtY29udGFpbmVyJyk7XG4gICAgdmFyIGVsZW1XaWR0aCA9IDM1MDtcbiAgICB2YXIgcHJvZHVjdE9mZnNldCA9IHByb2R1Y3RGZWF0dXJlSW1hZ2Uub2Zmc2V0KCkudG9wO1xuICAgIHZhciBmZWF0dXJlZENvbnRlbnRIZWlnaHQgPSBmZWF0dXJlZENvbnRlbnRDb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuICAgIHZhciBmZWF0dXJlZEltYWdlSGVpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlYXR1cmVkLWltYWdlLWNvbnRhaW5lcicpLm9mZnNldEhlaWdodDtcblxuXG4gICAgLy8gTEVUJ1MgU0NST09MXG4gICAgaWYgKCh3aW5kb3cuc2Nyb2xsWSA+IChwcm9kdWN0T2Zmc2V0IC0gc2l0ZUhlYWRlckhlaWdodCkpICYmICh3aW5kb3cuc2Nyb2xsWSA8IChzaXRlSGVhZGVySGVpZ2h0ICsgKGZlYXR1cmVkQ29udGVudEhlaWdodCAtIGZlYXR1cmVkSW1hZ2VIZWlnaHQpKSkpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdmZWF0dXJlZC1pbWFnZS1maXhlZCcpO1xuICAgICAgICBmZWF0dXJlZEltYWdlUGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKGNhbGMoJyArIHNpdGVIZWFkZXJIZWlnaHQgKyAncHgnICsgJyAtIDFyZW0pJztcbiAgICAgICAgZmVhdHVyZWRJbWFnZVBhcmVudC5zdHlsZS5tYXhXaWR0aCA9IGVsZW1XaWR0aCArICdweCc7XG4gICAgICAgIGZlYXR1cmVkQ29udGVudENvbnRhaW5lci5zdHlsZS5wYWRkaW5nTGVmdCA9ICdjYWxjKCcgKyBlbGVtV2lkdGggKyAncHggKyAxcmVtKSc7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuc2Nyb2xsWSA8IHNpdGVIZWFkZXJIZWlnaHQpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdmZWF0dXJlZC1pbWFnZS1maXhlZCcpO1xuICAgICAgICBmZWF0dXJlZEltYWdlUGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICBmZWF0dXJlZEltYWdlUGFyZW50LnN0eWxlLm1heFdpZHRoID0gJ2F1dG8nO1xuICAgICAgICBmZWF0dXJlZENvbnRlbnRDb250YWluZXIuc3R5bGUucGFkZGluZ0xlZnQgPSAnMXJlbSc7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuc2Nyb2xsWSA+IChzaXRlSGVhZGVySGVpZ2h0ICsgKGZlYXR1cmVkQ29udGVudEhlaWdodCAtIGZlYXR1cmVkSW1hZ2VIZWlnaHQpKSkge1xuICAgICAgICB2YXIgbmVnU2Nyb2xsID0gKHdpbmRvdy5zY3JvbGxZIC0gKGZlYXR1cmVkQ29udGVudEhlaWdodCAtIGZlYXR1cmVkSW1hZ2VIZWlnaHQpIC0gc2l0ZUhlYWRlckhlaWdodCk7XG4gICAgICAgIGZlYXR1cmVkSW1hZ2VQYXJlbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoY2FsYygtJyArIG5lZ1Njcm9sbCArICdweCArICcgKyBzaXRlSGVhZGVySGVpZ2h0ICsgJ3B4KSknO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3RpY2t5Q2hlY2tvdXQoKSB7XG4gICAgLy8gSUYgU01BTExFUiBTQ1JFRU5TIEdFVCBPVVRUQSBIRVJFXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNjAwKSB7IHJldHVybjsgfVxuXG4gICAgdmFyIG9yZGVyRGV0YWlscyA9ICQoJy5vcmRlci1kZXRhaWxzJyk7XG4gICAgdmFyIG9yZGVyRGV0YWlsc0hlaWdodCA9IG9yZGVyRGV0YWlsc1swXS5vZmZzZXRIZWlnaHQ7XG4gICAgXG4gICAgdmFyIG9yZGVyVG90YWxzID0gICQoJy5vcmRlci10b3RhbHMtY29udGFpbmVyJyk7XG4gICAgdmFyIG9yZGVyVG90YWxzSGVpZ2h0ID0gIG9yZGVyVG90YWxzWzBdLm9mZnNldEhlaWdodDtcblxuICAgIGlmICgod2luZG93LnNjcm9sbFkgPiAoY2hlY2tvdXRXcmFwVG9wIC0gKHNpdGVIZWFkZXJIZWlnaHQgKyAoMTggKiAzKSkpKSAmJiAod2luZG93LnNjcm9sbFkgPCAob3JkZXJEZXRhaWxzSGVpZ2h0ICsgb3JkZXJPZmZzZXRUb3AgLSBvcmRlclRvdGFsc0hlaWdodCAtIHNpdGVIZWFkZXJIZWlnaHQgLSAoMTggKiAzKSkpKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnY2FydC10b3RhbHMtZml4ZWQnKTtcbiAgICAgICAgb3JkZXJUb3RhbHNDb250YWluZXIuc3R5bGUubWF4V2lkdGggPSBjaGVja291dENvbnRhaW5lcldpZHRoICsgJ3B4JztcbiAgICAgICAgb3JkZXJUb3RhbHNDb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoJyArIChzaXRlSGVhZGVySGVpZ2h0ICsgKDE4ICsgMTEpKSArICdweCknO1xuICAgIH0gZWxzZSBpZiAod2luZG93LnNjcm9sbFkgPiAoKG9yZGVyRGV0YWlsc0hlaWdodCArIG9yZGVyT2Zmc2V0VG9wKSAtIG9yZGVyVG90YWxzSGVpZ2h0IC0gc2l0ZUhlYWRlckhlaWdodCAtICgxOCAqIDMpKSkge1xuICAgICAgICB2YXIgbmVnU2Nyb2xsID0gKHdpbmRvdy5zY3JvbGxZIC0gb3JkZXJUb3RhbHNIZWlnaHQgLSBvcmRlclRvdGFsc0hlaWdodCAtIHNpdGVIZWFkZXJIZWlnaHQgLSAoMTggKiAzKSk7XG4gICAgICAgIG9yZGVyVG90YWxzWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKGNhbGMoLScgKyBuZWdTY3JvbGwgKyAncHggKyAnICsgb3JkZXJPZmZzZXRUb3AgKyAncHgpKSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2NhcnQtdG90YWxzLWZpeGVkJyk7IFxuICAgICAgIG9yZGVyVG90YWxzQ29udGFpbmVyLnN0eWxlLm1heFdpZHRoID0gJ2F1dG8nO1xuICAgICAgIG9yZGVyVG90YWxzQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgIH0gXG59XG5cbmZ1bmN0aW9uIHNldFVwUmVzcG9uc2l2ZUNoZWNrb3V0KCkge1xuICAgIHJlc3BDaGVja291dC5odG1sKCc8ZGl2IGNsYXNzPVwib3JkZXItZGV0YWlsc1wiPjxzZWN0aW9uPjxoMj5CaWxsaW5nIEluZm9ybWF0aW9uPC9oMj4nICsgYmlsbGluZ0NvbnRlbnQgKyAnPC9zZWN0aW9uPjwvZGl2PicpO1xuXG4gICAgdmFyIHJlc3BDaGVja291dERldGFpbHMgPSAkKCcub3JkZXItZGV0YWlscycpO1xuICAgIHJlc3BDaGVja291dERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbj48aDI+U2hpcHBpbmcgSW5mb3JtYXRpb248L2gyPicgKyBzaGlwcGluZ0NvbnRlbnQgKyAnPC9zZWN0aW9uPicpO1xuICAgIGlmIChyZWdpc3RyYXRpb25QYXNzd29yZCkge1xuICAgICAgICByZXNwQ2hlY2tvdXREZXRhaWxzLmFwcGVuZCgnPHNlY3Rpb24+PGgyPkNyZWF0ZSBBIEdyZWVuIEZhcm0gUGFydHMgQWNjb3VudDwvaDI+PHAgY2xhc3M9XCJoYXMtdGV4dC1jZW50ZXIgbWFyLWIgZm9udC1zaHJpbmtcIj5DcmVhdGUgYW4gYWNjb3VudCB0b2RheSBmb3IgcXVpY2tlciBjaGVja291dCBvbiBmdXR1cmUgb3JkZXJzLCBjaGVja2luZyBvcmRlciBzdGF0dXMgJiB0cmFja2luZywgYW5kIHNwZWNpYWwgb2ZmZXJzIHNlbnQgdmlhIGVtYWlsPC9wPjxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PGxhYmVsIGZvcj1cInBhc3N3b3JkXCI+UGFzc3dvcmQ8L2xhYmVsPicgKyByZWdpc3RyYXRpb25QYXNzd29yZCArICc8YnV0dG9uIGNsYXNzPVwic2hvdy1wYXNzd29yZFwiPlNob3c8L2J1dHRvbj48L2Rpdj48ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPjxsYWJlbCBmb3I9XCJwYXNzd29yZC1jb25maXJtXCI+Q29uZmlybSBQYXNzd29yZDwvbGFiZWw+JyArIHJlZ2lzdHJhdGlvblBhc3N3b3JkQ29uZmlybSArICc8YnV0dG9uIGNsYXNzPVwic2hvdy1wYXNzd29yZFwiPlNob3c8L2J1dHRvbj48L2Rpdj48L3NlY3Rpb24+Jyk7XG4gICAgfVxuXG4gICAgcmVzcENoZWNrb3V0RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uPjxoMj5QYXltZW50IEluZm9ybWF0aW9uPC9oMj4nICsgcGF5bWVudE9wdGlvbnMuaHRtbCgpICsgJzwvc2VjdGlvbj4nKTtcblxuICAgIHJlc3BDaGVja291dC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJvcmRlci10b3RhbHNcIj48c2VjdGlvbiBjbGFzcz1cIm9yZGVyLXRvdGFscy1jb250YWluZXJcIj48aDI+WW91ciBPcmRlcjwvaDI+PC9zZWN0aW9uPjwvZGl2PicpO1xuXG4gICAgdmFyIHJlc3BPcmRlclRvdGFsc0NvbnRhaW5lciA9ICQoJy5vcmRlci10b3RhbHMtY29udGFpbmVyJyk7XG5cbiAgICByZXNwT3JkZXJUb3RhbHNDb250YWluZXIuYXBwZW5kKG9yZGVyU3VtbWFyeUl0ZW1zLCBzaGlwcGluZ0Nvc3RDb250ZW50KTtcbiAgICByZXNwT3JkZXJUb3RhbHNDb250YWluZXIuYXBwZW5kKCc8cCBzdHlsZT1cImZvbnQtc2l6ZTogMC44NXJlbTtcIj5PcmRlciBDb21tZW50czogPGVtPihvcHRpb25hbCk8L2VtPjwvcD4nLCBvcmRlckNvbW1lbnRzRWxlbSk7XG4gICAgcmVzcE9yZGVyVG90YWxzQ29udGFpbmVyLmFwcGVuZCgnPHRhYmxlIHdpZHRoPVwiMTAwJVwiIGNsYXNzPVwiYWdyZWVtZW50c1wiPjx0Ym9keT48dHI+JyArIGFkZGl0aW9uYWxJbmZvQ29udGVudCArICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nLCBwbGFjZU9yZGVyKTtcbn1cblxuZnVuY3Rpb24gdGlsZVByb2R1Y3RzKHByb2R1Y3RzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0cy5sZW5ndGg7IGkgKz0gNikge1xuICAgICAgICBpZiAocHJvZHVjdHNbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCdkaXZbaXRlbXByb3A9XCJhZ2dyZWdhdGVSYXRpbmdcIl0nKSkge1xuICAgICAgICAgICAgdmFyIHByb2R1Y3RSYXRpbmcgPSBwcm9kdWN0c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJ2RpdltpdGVtcHJvcD1cImFnZ3JlZ2F0ZVJhdGluZ1wiXScpLm91dGVySFRNTDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYXNQcmljZSA9ICcnO1xuICAgICAgICBpZiAocHJvZHVjdHNbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9wcm9kdWN0cHJpY2UnKSkge1xuICAgICAgICAgICAgaGFzUHJpY2UgPSBwcm9kdWN0c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X3Byb2R1Y3RwcmljZScpLmlubmVyVGV4dC5zcGxpdCgnICcpWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvZHVjdHNBcnJheS5wdXNoKHtcbiAgICAgICAgICAgIHByb2R1Y3RMaW5rOiBwcm9kdWN0c1tpXS5xdWVyeVNlbGVjdG9yKCdhJykuaHJlZixcbiAgICAgICAgICAgIHByb2R1Y3RJbWFnZTogcHJvZHVjdHNbaV0ucXVlcnlTZWxlY3RvcignaW1nJykuc3JjLFxuICAgICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3RzW2ldLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCdhJykuaW5uZXJUZXh0LFxuICAgICAgICAgICAgcHJvZHVjdFByaWNlOiBoYXNQcmljZSxcbiAgICAgICAgICAgIHByb2R1Y3RSYXRpbmc6IHByb2R1Y3RSYXRpbmdcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICB2YXIgZGMgPSBkb2N1bWVudC5jb29raWU7XG4gIHZhciBwcmVmaXggPSBuYW1lICsgXCI9XCI7XG4gIHZhciBiZWdpbiA9IGRjLmluZGV4T2YoXCI7IFwiICsgcHJlZml4KTtcbiAgaWYgKGJlZ2luID09IC0xKSB7XG4gICAgICBiZWdpbiA9IGRjLmluZGV4T2YocHJlZml4KTtcbiAgICAgIGlmIChiZWdpbiAhPSAwKSByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICAgIGJlZ2luICs9IDI7XG4gICAgICB2YXIgZW5kID0gZG9jdW1lbnQuY29va2llLmluZGV4T2YoXCI7XCIsIGJlZ2luKTtcbiAgICAgIGlmIChlbmQgPT0gLTEpIHtcbiAgICAgICAgICBlbmQgPSBkYy5sZW5ndGg7XG4gICAgICB9XG4gIH1cbiAgLy8gYmVjYXVzZSB1bmVzY2FwZSBoYXMgYmVlbiBkZXByZWNhdGVkLCByZXBsYWNlZCB3aXRoIGRlY29kZVVSSVxuICAvL3JldHVybiB1bmVzY2FwZShkYy5zdWJzdHJpbmcoYmVnaW4gKyBwcmVmaXgubGVuZ3RoLCBlbmQpKTtcbiAgcmV0dXJuIGRlY29kZVVSSShkYy5zdWJzdHJpbmcoYmVnaW4gKyBwcmVmaXgubGVuZ3RoLCBlbmQpKTtcbn1cblxuXG52YXIgYWxlcnRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQnKTtcblxuaWYgKGFsZXJ0Qm94KSB7XG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmluZGV4T2YoJ2FsZXJ0PWRpc21pc3NlZCcpID49IDBcbiAgICAgICAgfSkubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdGltZUxlZnQgPSBhbGVydEJveC5xdWVyeVNlbGVjdG9yKCcjdGltZUxlZnRSZWQnKTtcbiAgICAgICAgICAgIHRpbWVMZWZ0LmlubmVySFRNTCA9IG1vbWVudCgnU2F0IEp1biAzMCAyMDE4IDIzOjU5OjAwIEdNVC0wNDAwIChFRFQpJykuZW5kT2YoKS5mcm9tTm93KCk7XG4gICAgICAgICAgICBhbGVydEJveC5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC0taXMtbm90LWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfSwgMjAwMCk7XG4gICAgdmFyIGNsb3NlQWxlcnRCb3ggPSBhbGVydEJveC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNsb3NlJyk7XG4gICAgY2xvc2VBbGVydEJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBleHBpcmVzID0gJ2V4cGlyZXM9JztcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIGV4cGlyZXMgKz0gZGF0ZS50b0dNVFN0cmluZygpO1xuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBcImFsZXJ0PWRpc21pc3NlZDtcIiArIGV4cGlyZXM7XG4gICAgICAgIGFsZXJ0Qm94LmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1ub3QtYWN0aXZlJyk7XG4gICAgfSk7XG59Il19
