window.innerWidth>1080&&$(".menu-item--top-level .sub-menu--level-one > li:nth-child(2)").addClass("active").find(".sub-menu--level-two").addClass("accordian-open");var pagePath=window.location.pathname,heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--generic-"+getRandomInt(1,5)+".jpg)",heroText="Green Farm Parts",breadcrumbs=document.querySelector(".matching_results_text");if(breadcrumbs){var breadcrumbArray=breadcrumbs.previousElementSibling.textContent.split(">");heroText=breadcrumbArray[breadcrumbArray.length-1]}if(pagePath.match(/Filters/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--filters.jpg)"),pagePath.match(/Maintenance-Kits/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--maintenance-kits.jpg)"),pagePath.match(/Toys/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--toys.jpg)"),"/searchresults.asp"===pagePath){function filterItems(e){return searchStringArray.filter(function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1})}searchString=window.location.search,searchStringArray=searchString.split("&");var searchStringTerm=filterItems("search=").toString().split("=")[1];heroText="Search for: "+(searchStringTerm=searchStringTerm.split("+").join(" "))}if("/ShoppingCart.asp"===pagePath||"/shoppingcart.asp"===pagePath){heroText="Shopping Cart";var itemDescription=document.querySelector("#v65-cart-header-itemdescription font");if(null!=itemDescription){var itemDescriptionArray=itemDescription.innerHTML.split("&nbsp;");itemDescription.innerHTML=itemDescriptionArray[0]+" "+itemDescriptionArray[2]}var emptyCartRow=$(".v65-cart-shipping-details-row").children().first();emptyCartRow.length<0&&(emptyCartRow.siblings().remove(),emptyCartRow[0].colSpan=12)}if("/myaccount.asp"===pagePath&&(heroText="My Account Details"),"/login.asp"===pagePath&&(heroText="Login"),"/terms.asp"===pagePath&&(heroText="Terms and Conditions"),"/one-page-checkout.asp"===pagePath){heroText="Checkout";var billInputs=["v65-onepage-billfirstname","v65-onepage-billlastname","v65-onepage-billcompanyname","v65-onepage-billaddr1","v65-onepage-billaddr2","v65-onepage-billcity","v65-onepage-billpostalcode","v65-onepage-billphone","v65-onepage-billfax","v65-cart-billemail"];document.addEventListener("keyup",function(e){if(billInputs.includes(e.target.id)){var t=e.target;matchCheckoutInput(t,t.value)}})}"/"!=pagePath&&updateHero(heroImg,heroText),breadcrumbs&&breadcrumbs.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("breadcrumbs");var siteHeader=document.querySelector(".site-header"),siteHeaderOffset=siteHeader.offsetTop;function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}function toggleMenuAccordian(e){var t=e.target;if($(t).parent().hasClass("active"))return $(t).parent().removeClass("active"),void $(t).siblings().removeClass("accordian-open");$(t).parent(".menu-item-has-children").addClass("active").siblings().removeClass("active").find(".sub-menu--level-two").removeClass("accordian-open"),$(t).siblings().addClass("accordian-open")}function toggleChatWindow(e){e.preventDefault(),1!=window.fcWidget.isOpen()?window.fcWidget.open():window.fcWidget.close()}function updateHero(e,t){var a=document.querySelector(".hero--not-home");a.style.backgroundImage=e;var i=a.querySelector("h1");i.innerHTML=t,i.style.opacity=1}function fixHeader(){window.scrollY>=siteHeaderOffset?(document.body.style.paddingTop=siteHeader.offsetHeight+"px",document.body.classList.add("site-header-fixed")):(document.body.style.paddingTop=0,document.body.classList.remove("site-header-fixed"))}function matchCheckoutInput(e,t){var a=e.id.split("-")[2].substring(4),i=document.querySelector("#v65-onepage-ship"+a);i&&(i.value=t)}siteHeader&&window.addEventListener("scroll",fixHeader),document.addEventListener("click",function(e){("hamburger"===e.target.id||e.target.classList.contains("hamburger-box")||e.target.classList.contains("hamburger-inner"))&&toggleMenu(),e.target.classList.contains("accordian-toggle--site-header")&&toggleMenuAccordian(e),"#chat"===e.target.hash&&toggleChatWindow(e)}),$("#v65-cart-shipping-details-wrapper").remove();var checkoutContainer=$("#v65-onepage-Detail"),billingHeader=$("#billing-header").html(),billingContent=$("#v65-onepage-BillingParent").html(),shippingHeader=$("#shipping-header").html(),shippingContent=$("#v65-onepage-ShippingParent").html(),additionalInfoHeader=$(".v65-onepage-custom-header-row").html(),additionalInfoContent=$(".v65-onepage-custom-details-row").html(),shippingCostHeader=$("#v65-onepage-ShippingCostHeader").html(),shippingCostContent=$("#v65-onepage-ShippingCostTotals").html(),shippingTotals=$("#v65-onepage-ShippingCostParent").parent().html();checkoutContainer.remove(),$("#FormatListofErrorsDiv").after('<div id="gfp-responsive-checkout"></div>');var respCheckout=$("#gfp-responsive-checkout");if(respCheckout.html('<div class="gfp-half"><div>'+billingHeader+billingContent+"</div><div>"+shippingHeader+shippingContent+"</div></div>"),respCheckout.append('<table id="v65-onepage-additional-info"><tbody><tr>'+additionalInfoHeader+"</tr><tr>"+additionalInfoContent+"</tr></tbody></table>"),respCheckout.append(shippingTotals),$('img[src="/v/vspfiles/templates/gfp-test/images/clear1x1.gif"]').remove(),$('.colors_pricebox img[src="/v/vspfiles/templates/gfp-test/images/PBox_Border_Left_Top.gif"]').parent("tr").remove(),$("#v65-onepage-breadcrumb")&&$("#v65-onepage-breadcrumb").remove(),$("#v65-onepage-CopyBillingToShippingLink").remove(),window.global_Current_ProductCode){document.body.classList.add("single-product");var pageTitle=document.title,productDescriptionWrap=$("#v65-productdetail-action-wrapper");productDescriptionWrap.css("display","block").attr("align","left"),productDescriptionWrap.siblings().css("display","block"),updateHero(heroImg,pageTitle)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiJCIsImFkZENsYXNzIiwiZmluZCIsInBhZ2VQYXRoIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImhlcm9JbWciLCJnZXRSYW5kb21JbnQiLCJoZXJvVGV4dCIsImJyZWFkY3J1bWJzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnJlYWRjcnVtYkFycmF5IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInRleHRDb250ZW50Iiwic3BsaXQiLCJsZW5ndGgiLCJtYXRjaCIsImZpbHRlckl0ZW1zIiwicXVlcnkiLCJzZWFyY2hTdHJpbmdBcnJheSIsImZpbHRlciIsImVsIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwic2VhcmNoU3RyaW5nIiwic2VhcmNoIiwic2VhcmNoU3RyaW5nVGVybSIsInRvU3RyaW5nIiwiam9pbiIsIml0ZW1EZXNjcmlwdGlvbiIsIml0ZW1EZXNjcmlwdGlvbkFycmF5IiwiaW5uZXJIVE1MIiwiZW1wdHlDYXJ0Um93IiwiY2hpbGRyZW4iLCJmaXJzdCIsInNpYmxpbmdzIiwicmVtb3ZlIiwiY29sU3BhbiIsImJpbGxJbnB1dHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImluY2x1ZGVzIiwidGFyZ2V0IiwiaWQiLCJzZWxmIiwibWF0Y2hDaGVja291dElucHV0IiwidmFsdWUiLCJ1cGRhdGVIZXJvIiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNpdGVIZWFkZXIiLCJzaXRlSGVhZGVyT2Zmc2V0Iiwib2Zmc2V0VG9wIiwibWluIiwibWF4IiwiTWF0aCIsImNlaWwiLCJmbG9vciIsInJhbmRvbSIsInRvZ2dsZU1lbnUiLCJib2R5IiwidG9nZ2xlIiwidG9nZ2xlTWVudUFjY29yZGlhbiIsInBhcmVudCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGVDaGF0V2luZG93IiwicHJldmVudERlZmF1bHQiLCJmY1dpZGdldCIsImlzT3BlbiIsIm9wZW4iLCJjbG9zZSIsImhlcm9Db250YWluZXIiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImhlcm9IZWFkaW5nIiwib3BhY2l0eSIsImZpeEhlYWRlciIsInNjcm9sbFkiLCJwYWRkaW5nVG9wIiwib2Zmc2V0SGVpZ2h0IiwiZWxlbSIsInZhbCIsImlucHV0Iiwic3Vic3RyaW5nIiwic2hpcEVsZW0iLCJjb250YWlucyIsImhhc2giLCJjaGVja291dENvbnRhaW5lciIsImJpbGxpbmdIZWFkZXIiLCJodG1sIiwiYmlsbGluZ0NvbnRlbnQiLCJzaGlwcGluZ0hlYWRlciIsInNoaXBwaW5nQ29udGVudCIsImFkZGl0aW9uYWxJbmZvSGVhZGVyIiwiYWRkaXRpb25hbEluZm9Db250ZW50Iiwic2hpcHBpbmdDb3N0SGVhZGVyIiwic2hpcHBpbmdDb3N0Q29udGVudCIsInNoaXBwaW5nVG90YWxzIiwiYWZ0ZXIiLCJyZXNwQ2hlY2tvdXQiLCJhcHBlbmQiLCJnbG9iYWxfQ3VycmVudF9Qcm9kdWN0Q29kZSIsInBhZ2VUaXRsZSIsInRpdGxlIiwicHJvZHVjdERlc2NyaXB0aW9uV3JhcCIsImNzcyIsImF0dHIiXSwibWFwcGluZ3MiOiJBQUFJQSxPQUFPQyxXQUFhLE1BQ3BCQyxFQUFFLGdFQUFnRUMsU0FBUyxVQUFVQyxLQUFLLHdCQUF3QkQsU0FBUyxrQkFHL0gsSUFBSUUsU0FBV0wsT0FBT00sU0FBU0MsU0FFM0JDLFFBQVUsd0RBQTBEQyxhQUFhLEVBQUcsR0FBSyxRQUN6RkMsU0FBVyxtQkFFWEMsWUFBY0MsU0FBU0MsY0FBYywwQkFFekMsR0FBSUYsWUFBYSxDQUNiLElBQUlHLGdCQUFrQkgsWUFBWUksdUJBQXVCQyxZQUFZQyxNQUFNLEtBQzNFUCxTQUFXSSxnQkFBZ0JBLGdCQUFnQkksT0FBUyxHQW1CeEQsR0FmSWIsU0FBU2MsTUFBTSxjQUNmWCxRQUFVLDZEQUlWSCxTQUFTYyxNQUFNLHVCQUNmWCxRQUFVLHNFQUlWSCxTQUFTYyxNQUFNLFdBQ2ZYLFFBQVUsMERB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LFNBSWxCckMsRUFBRSwwQkFBMEJxRyxNQUFNLDRDQUNsQyxJQUFJQyxhQUFldEcsRUFBRSw0QkEyQnJCLEdBekJBc0csYUFBYVYsS0FBSyw4QkFBZ0NELGNBQWdCRSxlQUFpQixjQUFxQkMsZUFBaUJDLGdCQUFrQixnQkFDM0lPLGFBQWFDLE9BQU8sc0RBQXdEUCxxQkFBdUIsWUFBY0Msc0JBQXdCLHlCQUN6SUssYUFBYUMsT0FBT0gsZ0JBU3BCcEcsRUFBRSxpRUFBaUVxQyxTQUNuRXJDLEVBQUUsOEZBQThGaUUsT0FBTyxNQUFNNUIsU0FDekdyQyxFQUFFLDRCQUNGQSxFQUFFLDJCQUEyQnFDLFNBRWpDckMsRUFBRSwwQ0FBMENxQyxTQVN4Q3ZDLE9BQU8wRywyQkFBNEIsQ0FDbkM5RixTQUFTb0QsS0FBS1osVUFBVUMsSUFBSSxrQkFDNUIsSUFBSXNELFVBQVkvRixTQUFTZ0csTUFFckJDLHVCQUF5QjNHLEVBQUUscUNBQy9CMkcsdUJBQXVCQyxJQUFJLFVBQVcsU0FBU0MsS0FBSyxRQUFTLFFBQzdERix1QkFBdUJ2RSxXQUFXd0UsSUFBSSxVQUFXLFNBRWpENUQsV0FBVzFDLFFBQVNtRyIsImZpbGUiOiJnbG9iYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpZiAod2luZG93LmlubmVyV2lkdGggPiAxMDgwKSB7XG4gICAgJCgnLm1lbnUtaXRlbS0tdG9wLWxldmVsIC5zdWItbWVudS0tbGV2ZWwtb25lID4gbGk6bnRoLWNoaWxkKDIpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpLmZpbmQoJy5zdWItbWVudS0tbGV2ZWwtdHdvJykuYWRkQ2xhc3MoJ2FjY29yZGlhbi1vcGVuJyk7XG59XG5cbnZhciBwYWdlUGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcblxudmFyIGhlcm9JbWcgPSAndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tZ2VuZXJpYy0nICsgZ2V0UmFuZG9tSW50KDEsIDUpICsgJy5qcGcpJztcbnZhciBoZXJvVGV4dCA9ICdHcmVlbiBGYXJtIFBhcnRzJztcblxudmFyIGJyZWFkY3J1bWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1hdGNoaW5nX3Jlc3VsdHNfdGV4dCcpO1xuXG5pZiAoYnJlYWRjcnVtYnMpIHtcbiAgICB2YXIgYnJlYWRjcnVtYkFycmF5ID0gYnJlYWRjcnVtYnMucHJldmlvdXNFbGVtZW50U2libGluZy50ZXh0Q29udGVudC5zcGxpdCgnPicpO1xuICAgIGhlcm9UZXh0ID0gYnJlYWRjcnVtYkFycmF5W2JyZWFkY3J1bWJBcnJheS5sZW5ndGggLSAxXTsgICAgXG59XG5cblxuaWYgKHBhZ2VQYXRoLm1hdGNoKC9GaWx0ZXJzL2kpKSB7XG4gICAgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1maWx0ZXJzLmpwZyknO1xuICAgIC8vIGhlcm9UZXh0ID0gJ09pbCBGaWx0ZXJzJztcbn1cblxuaWYgKHBhZ2VQYXRoLm1hdGNoKC9NYWludGVuYW5jZS1LaXRzL2kpKSB7XG4gICAgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1tYWludGVuYW5jZS1raXRzLmpwZyknO1xuICAgIC8vIGhlcm9UZXh0ID0gJ01haW50ZW5hbmNlIEtpdHMnO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL1RveXMvaSkpIHtcbiAgICBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLXRveXMuanBnKSc7XG4gICAgLy8gaGVyb1RleHQgPSAnVG95cyc7XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy9zZWFyY2hyZXN1bHRzLmFzcCcpIHtcbiAgICBzZWFyY2hTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIHNlYXJjaFN0cmluZ0FycmF5ID0gc2VhcmNoU3RyaW5nLnNwbGl0KCcmJyk7XG4gICAgXG4gICAgZnVuY3Rpb24gZmlsdGVySXRlbXMocXVlcnkpIHtcbiAgICAgIHJldHVybiBzZWFyY2hTdHJpbmdBcnJheS5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICByZXR1cm4gZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpID4gLTE7XG4gICAgICB9KVxuICAgIH1cblxuICAgIHZhciBzZWFyY2hTdHJpbmdUZXJtID0gZmlsdGVySXRlbXMoJ3NlYXJjaD0nKS50b1N0cmluZygpLnNwbGl0KCc9JylbMV07XG4gICAgc2VhcmNoU3RyaW5nVGVybSA9IHNlYXJjaFN0cmluZ1Rlcm0uc3BsaXQoJysnKS5qb2luKCcgJyk7XG4gICAgaGVyb1RleHQgPSAnU2VhcmNoIGZvcjogJyArIHNlYXJjaFN0cmluZ1Rlcm07XG59XG5cbmlmICgocGFnZVBhdGggPT09ICcvU2hvcHBpbmdDYXJ0LmFzcCcpIHx8IHBhZ2VQYXRoID09PSAnL3Nob3BwaW5nY2FydC5hc3AnKSB7XG4gICAgaGVyb1RleHQgPSAnU2hvcHBpbmcgQ2FydCc7XG4gICAgdmFyIGl0ZW1EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2NjUtY2FydC1oZWFkZXItaXRlbWRlc2NyaXB0aW9uIGZvbnQnKTtcbiAgICBpZiAoaXRlbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGl0ZW1EZXNjcmlwdGlvbkFycmF5ID0gaXRlbURlc2NyaXB0aW9uLmlubmVySFRNTC5zcGxpdCgnJm5ic3A7Jyk7XG4gICAgICAgIGl0ZW1EZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBpdGVtRGVzY3JpcHRpb25BcnJheVswXSArICcgJyArIGl0ZW1EZXNjcmlwdGlvbkFycmF5WzJdO1xuICAgIH1cbiAgICB2YXIgZW1wdHlDYXJ0Um93ID0gJCgnLnY2NS1jYXJ0LXNoaXBwaW5nLWRldGFpbHMtcm93JykuY2hpbGRyZW4oKS5maXJzdCgpO1xuICAgIGlmIChlbXB0eUNhcnRSb3cubGVuZ3RoIDwgMCkge1xuICAgICAgICBlbXB0eUNhcnRSb3cuc2libGluZ3MoKS5yZW1vdmUoKTtcbiAgICAgICAgZW1wdHlDYXJ0Um93WzBdLmNvbFNwYW4gPSAxMjsgICAgXG4gICAgfVxufVxuXG5pZiAocGFnZVBhdGggPT09ICcvbXlhY2NvdW50LmFzcCcpIHtcbiAgICBoZXJvVGV4dCA9ICdNeSBBY2NvdW50IERldGFpbHMnO1xufVxuXG5pZiAocGFnZVBhdGggPT09ICcvbG9naW4uYXNwJykge1xuICAgIGhlcm9UZXh0ID0gJ0xvZ2luJztcbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL3Rlcm1zLmFzcCcpIHtcbiAgICBoZXJvVGV4dCA9ICdUZXJtcyBhbmQgQ29uZGl0aW9ucyc7XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy9vbmUtcGFnZS1jaGVja291dC5hc3AnKSB7XG4gICAgaGVyb1RleHQgPSAnQ2hlY2tvdXQnO1xuXG4gICAgdmFyIGJpbGxJbnB1dHMgPSBbXG4gICAgICAgIFwidjY1LW9uZXBhZ2UtYmlsbGZpcnN0bmFtZVwiLFxuICAgICAgICBcInY2NS1vbmVwYWdlLWJpbGxsYXN0bmFtZVwiLFxuICAgICAgICBcInY2NS1vbmVwYWdlLWJpbGxjb21wYW55bmFtZVwiLFxuICAgICAgICBcInY2NS1vbmVwYWdlLWJpbGxhZGRyMVwiLFxuICAgICAgICBcInY2NS1vbmVwYWdlLWJpbGxhZGRyMlwiLFxuICAgICAgICBcInY2NS1vbmVwYWdlLWJpbGxjaXR5XCIsXG4gICAgICAgIFwidjY1LW9uZXBhZ2UtYmlsbHBvc3RhbGNvZGVcIixcbiAgICAgICAgXCJ2NjUtb25lcGFnZS1iaWxscGhvbmVcIixcbiAgICAgICAgXCJ2NjUtb25lcGFnZS1iaWxsZmF4XCIsXG4gICAgICAgIFwidjY1LWNhcnQtYmlsbGVtYWlsXCJcbiAgICBdO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChiaWxsSW5wdXRzLmluY2x1ZGVzKGUudGFyZ2V0LmlkKSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIHZhciB2YWwgPSBzZWxmLnZhbHVlO1xuICAgICAgICAgICAgbWF0Y2hDaGVja291dElucHV0KHNlbGYsIHZhbCk7XG4gICAgICAgIH0gXG4gICAgfSk7XG5cbn1cblxuaWYgKHBhZ2VQYXRoICE9ICcvJykge1xuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgaGVyb1RleHQpO1xufVxuXG5cblxuXG5cbmlmIChicmVhZGNydW1icykge1xuICAgIGJyZWFkY3J1bWJzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdicmVhZGNydW1icycpO1xufVxuXG52YXIgc2l0ZUhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaXRlLWhlYWRlcicpO1xudmFyIHNpdGVIZWFkZXJPZmZzZXQgPSBzaXRlSGVhZGVyLm9mZnNldFRvcDtcblxuaWYgKHNpdGVIZWFkZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZml4SGVhZGVyKTtcbn1cblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblxuICAgIGlmICgoZS50YXJnZXQuaWQgPT09ICdoYW1idXJnZXInKSB8fCAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYW1idXJnZXItYm94JykpIHx8IChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2hhbWJ1cmdlci1pbm5lcicpKSkge1xuICAgICAgICB0b2dnbGVNZW51KCk7XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaWFuLXRvZ2dsZS0tc2l0ZS1oZWFkZXInKSkge1xuICAgICAgICB0b2dnbGVNZW51QWNjb3JkaWFuKGUpO1xuICAgIH1cblxuICAgIGlmIChlLnRhcmdldC5oYXNoID09PSAnI2NoYXQnKSB7XG4gICAgICAgIHRvZ2dsZUNoYXRXaW5kb3coZSk7XG4gICAgfVxuXG59KTtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gIG1pbiA9IE1hdGguY2VpbChtaW4pO1xuICBtYXggPSBNYXRoLmZsb29yKG1heCk7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluOyAvL1RoZSBtYXhpbXVtIGlzIGluY2x1c2l2ZSBhbmQgdGhlIG1pbmltdW0gaXMgaW5jbHVzaXZlIFxufVxuXG5mdW5jdGlvbiB0b2dnbGVNZW51KCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS1vcGVuJyk7XG4gICAgdmFyIG1lbnVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGFtYnVyZ2VyJyk7XG4gICAgbWVudUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTWVudUFjY29yZGlhbihlKSB7XG4gICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICBpZiAoJChzZWxmKS5wYXJlbnQoKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgJChzZWxmKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoc2VsZikuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWNjb3JkaWFuLW9wZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkKHNlbGYpLnBhcmVudCgnLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW4nKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuZmluZCgnLnN1Yi1tZW51LS1sZXZlbC10d28nKS5yZW1vdmVDbGFzcygnYWNjb3JkaWFuLW9wZW4nKTtcbiAgICAkKHNlbGYpLnNpYmxpbmdzKCkuYWRkQ2xhc3MoJ2FjY29yZGlhbi1vcGVuJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUNoYXRXaW5kb3coZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAod2luZG93LmZjV2lkZ2V0LmlzT3BlbigpICE9IHRydWUpIHtcbiAgICAgICAgd2luZG93LmZjV2lkZ2V0Lm9wZW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuZmNXaWRnZXQuY2xvc2UoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhlcm8oaGVyb0ltZywgaGVyb1RleHQpIHtcbiAgICB2YXIgaGVyb0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvLS1ub3QtaG9tZScpO1xuICAgIGhlcm9Db250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gaGVyb0ltZztcbiAgICB2YXIgaGVyb0hlYWRpbmcgPSBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2gxJyk7XG4gICAgaGVyb0hlYWRpbmcuaW5uZXJIVE1MID0gaGVyb1RleHQ7XG4gICAgaGVyb0hlYWRpbmcuc3R5bGUub3BhY2l0eSA9IDE7XG59XG5cbmZ1bmN0aW9uIGZpeEhlYWRlcigpIHtcbiAgICBpZiAod2luZG93LnNjcm9sbFkgPj0gc2l0ZUhlYWRlck9mZnNldCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSBzaXRlSGVhZGVyLm9mZnNldEhlaWdodCArICdweCc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnc2l0ZS1oZWFkZXItZml4ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAwO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3NpdGUtaGVhZGVyLWZpeGVkJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtYXRjaENoZWNrb3V0SW5wdXQoZWxlbSwgdmFsKSB7XG4gICAgdmFyIGlucHV0ID0gZWxlbS5pZC5zcGxpdCgnLScpWzJdLnN1YnN0cmluZyg0KTtcbiAgICB2YXIgc2hpcEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdjY1LW9uZXBhZ2Utc2hpcCcgKyBpbnB1dCk7XG4gICAgaWYgKCFzaGlwRWxlbSkgeyByZXR1cm47IH1cbiAgICBzaGlwRWxlbS52YWx1ZSA9IHZhbDtcbn1cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuUkVTUE9OU0lWRSBTSE9QUElORyBDQVJUXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuJCgnI3Y2NS1jYXJ0LXNoaXBwaW5nLWRldGFpbHMtd3JhcHBlcicpLnJlbW92ZSgpO1xuXG5cblxuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cblJFU1BPTlNJVkUgQ0hFQ0tPVVRcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG52YXIgY2hlY2tvdXRDb250YWluZXIgPSAkKCcjdjY1LW9uZXBhZ2UtRGV0YWlsJyk7XG52YXIgYmlsbGluZ0hlYWRlciA9ICQoJyNiaWxsaW5nLWhlYWRlcicpLmh0bWwoKTtcbnZhciBiaWxsaW5nQ29udGVudCA9ICQoJyN2NjUtb25lcGFnZS1CaWxsaW5nUGFyZW50JykuaHRtbCgpO1xudmFyIHNoaXBwaW5nSGVhZGVyID0gJCgnI3NoaXBwaW5nLWhlYWRlcicpLmh0bWwoKTtcbnZhciBzaGlwcGluZ0NvbnRlbnQgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdQYXJlbnQnKS5odG1sKCk7XG52YXIgYWRkaXRpb25hbEluZm9IZWFkZXIgPSAkKCcudjY1LW9uZXBhZ2UtY3VzdG9tLWhlYWRlci1yb3cnKS5odG1sKCk7XG52YXIgYWRkaXRpb25hbEluZm9Db250ZW50ID0gJCgnLnY2NS1vbmVwYWdlLWN1c3RvbS1kZXRhaWxzLXJvdycpLmh0bWwoKTtcbnZhciBzaGlwcGluZ0Nvc3RIZWFkZXIgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdDb3N0SGVhZGVyJykuaHRtbCgpO1xudmFyIHNoaXBwaW5nQ29zdENvbnRlbnQgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdDb3N0VG90YWxzJykuaHRtbCgpO1xudmFyIHNoaXBwaW5nVG90YWxzID0gJCgnI3Y2NS1vbmVwYWdlLVNoaXBwaW5nQ29zdFBhcmVudCcpLnBhcmVudCgpLmh0bWwoKTtcblxuXG5jaGVja291dENvbnRhaW5lci5yZW1vdmUoKTtcblxuXG5cbiQoJyNGb3JtYXRMaXN0b2ZFcnJvcnNEaXYnKS5hZnRlcignPGRpdiBpZD1cImdmcC1yZXNwb25zaXZlLWNoZWNrb3V0XCI+PC9kaXY+Jyk7XG52YXIgcmVzcENoZWNrb3V0ID0gJCgnI2dmcC1yZXNwb25zaXZlLWNoZWNrb3V0Jyk7XG5cbnJlc3BDaGVja291dC5odG1sKCc8ZGl2IGNsYXNzPVwiZ2ZwLWhhbGZcIj48ZGl2PicgKyBiaWxsaW5nSGVhZGVyICsgYmlsbGluZ0NvbnRlbnQgKyAnPC9kaXY+JyArICc8ZGl2PicgKyBzaGlwcGluZ0hlYWRlciArIHNoaXBwaW5nQ29udGVudCArICc8L2Rpdj48L2Rpdj4nKTtcbnJlc3BDaGVja291dC5hcHBlbmQoJzx0YWJsZSBpZD1cInY2NS1vbmVwYWdlLWFkZGl0aW9uYWwtaW5mb1wiPjx0Ym9keT48dHI+JyArIGFkZGl0aW9uYWxJbmZvSGVhZGVyICsgJzwvdHI+PHRyPicgKyBhZGRpdGlvbmFsSW5mb0NvbnRlbnQgKyAnPC90cj48L3Rib2R5PjwvdGFibGU+Jyk7XG5yZXNwQ2hlY2tvdXQuYXBwZW5kKHNoaXBwaW5nVG90YWxzKTtcblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5LSUxMU0hFRVRcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG4kKCdpbWdbc3JjPVwiL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltYWdlcy9jbGVhcjF4MS5naWZcIl0nKS5yZW1vdmUoKTtcbiQoJy5jb2xvcnNfcHJpY2Vib3ggaW1nW3NyYz1cIi92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvUEJveF9Cb3JkZXJfTGVmdF9Ub3AuZ2lmXCJdJykucGFyZW50KCd0cicpLnJlbW92ZSgpO1xuaWYgKCQoJyN2NjUtb25lcGFnZS1icmVhZGNydW1iJykpIHtcbiAgICAkKCcjdjY1LW9uZXBhZ2UtYnJlYWRjcnVtYicpLnJlbW92ZSgpO1xufVxuJCgnI3Y2NS1vbmVwYWdlLUNvcHlCaWxsaW5nVG9TaGlwcGluZ0xpbmsnKS5yZW1vdmUoKTtcblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5TSU5HTEUgUFJPRFVDVFxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmICh3aW5kb3cuZ2xvYmFsX0N1cnJlbnRfUHJvZHVjdENvZGUpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3NpbmdsZS1wcm9kdWN0Jyk7XG4gICAgdmFyIHBhZ2VUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuXG4gICAgdmFyIHByb2R1Y3REZXNjcmlwdGlvbldyYXAgPSAkKCcjdjY1LXByb2R1Y3RkZXRhaWwtYWN0aW9uLXdyYXBwZXInKTtcbiAgICBwcm9kdWN0RGVzY3JpcHRpb25XcmFwLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKS5hdHRyKCdhbGlnbicsICdsZWZ0Jyk7XG4gICAgcHJvZHVjdERlc2NyaXB0aW9uV3JhcC5zaWJsaW5ncygpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcblxuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgcGFnZVRpdGxlKTtcbn0iXX0=
