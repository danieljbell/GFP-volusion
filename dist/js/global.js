var pagePath=window.location.pathname,heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--generic-"+getRandomInt(1,5)+".jpg)",heroText="Green Farm Parts";pagePath.match(/Filters/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--filters.jpg)",heroText="Oil Filters"),pagePath.match(/Maintenance-Kits/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--maintenance-kits.jpg)",heroText="Maintenance Kits"),pagePath.match(/Toys/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--toys.jpg)",heroText="Toys"),"/searchresults.asp"===pagePath&&(searchString=window.location.search,searchStringTerm=searchString.substring(8),searchStringArray=searchStringTerm.split("+"),searchStringTerm=searchStringArray.join(" "),heroText="Search for: "+searchStringTerm),"/"!=pagePath&&updateHero(heroImg,heroText);var breadcrumbs=document.querySelector(".matching_results_text");breadcrumbs&&breadcrumbs.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("breadcrumbs");var siteHeader=document.querySelector(".site-header"),siteHeaderOffset=siteHeader.offsetTop;function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}function toggleMenuAccordian(e){var t=e.target;console.log(t),t.nextElementSibling&&(t.classList.toggle("active"),t.nextElementSibling.classList.toggle("accordian-open"))}function toggleChatWindow(e){e.preventDefault(),1!=window.fcWidget.isOpen()?window.fcWidget.open():window.fcWidget.close()}function updateHero(e,t){var r=document.querySelector(".hero--not-home");r.style.backgroundImage=e;var a=r.querySelector("h1");a.innerHTML=t,a.style.opacity=1}function fixHeader(){window.scrollY>=siteHeaderOffset?(document.body.style.paddingTop=siteHeader.offsetHeight+"px",document.body.classList.add("site-header-fixed")):(document.body.style.paddingTop=0,document.body.classList.remove("site-header-fixed"))}siteHeader&&window.addEventListener("scroll",fixHeader),setTimeout(function(){if(document.body.classList.contains("vcb-active")){if(SearchParams){var e=SearchParams.split("&")[2].split("=")[1],t=document.querySelector(".editSearchLink");t.href=t.href+e,t.style.display="block"}}else;},1e3),document.addEventListener("click",function(e){("hamburger"===e.target.id||e.target.classList.contains("hamburger-box")||e.target.classList.contains("hamburger-inner"))&&toggleMenu(),e.target.classList.contains("accordian-toggle--site-header")&&toggleMenuAccordian(e),"#chat"===e.target.hash&&toggleChatWindow(e)}),$('img[src="/v/vspfiles/templates/gfp-test/images/clear1x1.gif"]').remove(),$('.colors_pricebox img[src="/v/vspfiles/templates/gfp-test/images/PBox_Border_Left_Top.gif"]').parent("tr").remove();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyJwYWdlUGF0aCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJoZXJvSW1nIiwiZ2V0UmFuZG9tSW50IiwiaGVyb1RleHQiLCJtYXRjaCIsInNlYXJjaFN0cmluZyIsInNlYXJjaCIsInNlYXJjaFN0cmluZ1Rlcm0iLCJzdWJzdHJpbmciLCJzZWFyY2hTdHJpbmdBcnJheSIsInNwbGl0Iiwiam9pbiIsInVwZGF0ZUhlcm8iLCJicmVhZGNydW1icyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBhcmVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzaXRlSGVhZGVyIiwic2l0ZUhlYWRlck9mZnNldCIsIm9mZnNldFRvcCIsIm1pbiIsIm1heCIsIk1hdGgiLCJjZWlsIiwiZmxvb3IiLCJyYW5kb20iLCJ0b2dnbGVNZW51IiwiYm9keSIsInRvZ2dsZSIsInRvZ2dsZU1lbnVBY2NvcmRpYW4iLCJlIiwic2VsZiIsInRhcmdldCIsImNvbnNvbGUiLCJsb2ciLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0b2dnbGVDaGF0V2luZG93IiwicHJldmVudERlZmF1bHQiLCJmY1dpZGdldCIsImlzT3BlbiIsIm9wZW4iLCJjbG9zZSIsImhlcm9Db250YWluZXIiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImhlcm9IZWFkaW5nIiwiaW5uZXJIVE1MIiwib3BhY2l0eSIsImZpeEhlYWRlciIsInNjcm9sbFkiLCJwYWRkaW5nVG9wIiwib2Zmc2V0SGVpZ2h0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldFRpbWVvdXQiLCJjb250YWlucyIsIlNlYXJjaFBhcmFtcyIsImNhdElEIiwiZWRpdExpbmsiLCJocmVmIiwiZGlzcGxheSIsImlkIiwiaGFzaCIsIiQiLCJwYXJlbnQiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFNBQVdDLE9BQU9DLFNBQVNDLFNBRTNCQyxRQUFVLHdEQUEwREMsYUFBYSxF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bnRlbnQiOlsidmFyIHBhZ2VQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuXG52YXIgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1nZW5lcmljLScgKyBnZXRSYW5kb21JbnQoMSwgNSkgKyAnLmpwZyknO1xudmFyIGhlcm9UZXh0ID0gJ0dyZWVuIEZhcm0gUGFydHMnO1xuXG5pZiAocGFnZVBhdGgubWF0Y2goL0ZpbHRlcnMvaSkpIHtcbiAgICBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLWZpbHRlcnMuanBnKSc7XG4gICAgaGVyb1RleHQgPSAnT2lsIEZpbHRlcnMnO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL01haW50ZW5hbmNlLUtpdHMvaSkpIHtcbiAgICBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLW1haW50ZW5hbmNlLWtpdHMuanBnKSc7XG4gICAgaGVyb1RleHQgPSAnTWFpbnRlbmFuY2UgS2l0cyc7XG59XG5cbmlmIChwYWdlUGF0aC5tYXRjaCgvVG95cy9pKSkge1xuICAgIGhlcm9JbWcgPSAndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tdG95cy5qcGcpJztcbiAgICBoZXJvVGV4dCA9ICdUb3lzJztcbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL3NlYXJjaHJlc3VsdHMuYXNwJykge1xuICAgIHNlYXJjaFN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgc2VhcmNoU3RyaW5nVGVybSA9IHNlYXJjaFN0cmluZy5zdWJzdHJpbmcoOCk7XG4gICAgc2VhcmNoU3RyaW5nQXJyYXkgPSBzZWFyY2hTdHJpbmdUZXJtLnNwbGl0KCcrJyk7XG4gICAgc2VhcmNoU3RyaW5nVGVybSA9IHNlYXJjaFN0cmluZ0FycmF5LmpvaW4oJyAnKTtcbiAgICBoZXJvVGV4dCA9ICdTZWFyY2ggZm9yOiAnICsgc2VhcmNoU3RyaW5nVGVybTtcbn1cblxuaWYgKHBhZ2VQYXRoICE9ICcvJykge1xuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgaGVyb1RleHQpO1xufVxuXG52YXIgYnJlYWRjcnVtYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWF0Y2hpbmdfcmVzdWx0c190ZXh0Jyk7XG5cbmlmIChicmVhZGNydW1icykge1xuICAgIGJyZWFkY3J1bWJzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdicmVhZGNydW1icycpO1xufVxuXG52YXIgc2l0ZUhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaXRlLWhlYWRlcicpO1xudmFyIHNpdGVIZWFkZXJPZmZzZXQgPSBzaXRlSGVhZGVyLm9mZnNldFRvcDtcblxuaWYgKHNpdGVIZWFkZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZml4SGVhZGVyKTtcbn1cblxuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3ZjYi1hY3RpdmUnKSkge1xuICAgICAgICBpZiAoU2VhcmNoUGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgY2F0SUQgPSBTZWFyY2hQYXJhbXMuc3BsaXQoJyYnKVsyXS5zcGxpdCgnPScpWzFdO1xuICAgICAgICAgICAgdmFyIGVkaXRMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXRTZWFyY2hMaW5rJyk7XG4gICAgICAgICAgICBlZGl0TGluay5ocmVmID0gZWRpdExpbmsuaHJlZiArIGNhdElEO1xuICAgICAgICAgICAgZWRpdExpbmsuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn0sIDEwMDApO1xuXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXG4gICAgaWYgKChlLnRhcmdldC5pZCA9PT0gJ2hhbWJ1cmdlcicpIHx8IChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2hhbWJ1cmdlci1ib3gnKSkgfHwgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaGFtYnVyZ2VyLWlubmVyJykpKSB7XG4gICAgICAgIHRvZ2dsZU1lbnUoKTtcbiAgICB9XG5cbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpYW4tdG9nZ2xlLS1zaXRlLWhlYWRlcicpKSB7XG4gICAgICAgIHRvZ2dsZU1lbnVBY2NvcmRpYW4oZSk7XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0Lmhhc2ggPT09ICcjY2hhdCcpIHtcbiAgICAgICAgdG9nZ2xlQ2hhdFdpbmRvdyhlKTtcbiAgICB9XG5cbn0pO1xuXG5mdW5jdGlvbiBnZXRSYW5kb21JbnQobWluLCBtYXgpIHtcbiAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gIG1heCA9IE1hdGguZmxvb3IobWF4KTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47IC8vVGhlIG1heGltdW0gaXMgaW5jbHVzaXZlIGFuZCB0aGUgbWluaW11bSBpcyBpbmNsdXNpdmUgXG59XG5cbmZ1bmN0aW9uIHRvZ2dsZU1lbnUoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdtZW51LW9wZW4nKTtcbiAgICB2YXIgbWVudUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoYW1idXJnZXInKTtcbiAgICBtZW51QnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVNZW51QWNjb3JkaWFuKGUpIHtcbiAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgIGNvbnNvbGUubG9nKHNlbGYpO1xuICAgIGlmICghc2VsZi5uZXh0RWxlbWVudFNpYmxpbmcpIHsgcmV0dXJuIH1cbiAgICBzZWxmLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgIHNlbGYubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ2FjY29yZGlhbi1vcGVuJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUNoYXRXaW5kb3coZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAod2luZG93LmZjV2lkZ2V0LmlzT3BlbigpICE9IHRydWUpIHtcbiAgICAgICAgd2luZG93LmZjV2lkZ2V0Lm9wZW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuZmNXaWRnZXQuY2xvc2UoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhlcm8oaGVyb0ltZywgaGVyb1RleHQpIHtcbiAgICB2YXIgaGVyb0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvLS1ub3QtaG9tZScpO1xuICAgIGhlcm9Db250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gaGVyb0ltZztcbiAgICB2YXIgaGVyb0hlYWRpbmcgPSBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2gxJyk7XG4gICAgaGVyb0hlYWRpbmcuaW5uZXJIVE1MID0gaGVyb1RleHQ7XG4gICAgaGVyb0hlYWRpbmcuc3R5bGUub3BhY2l0eSA9IDE7XG59XG5cbmZ1bmN0aW9uIGZpeEhlYWRlcigpIHtcbiAgICBpZiAod2luZG93LnNjcm9sbFkgPj0gc2l0ZUhlYWRlck9mZnNldCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSBzaXRlSGVhZGVyLm9mZnNldEhlaWdodCArICdweCc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnc2l0ZS1oZWFkZXItZml4ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAwO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3NpdGUtaGVhZGVyLWZpeGVkJyk7XG4gICAgfVxufVxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5LSUxMU0hFRVRcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG4kKCdpbWdbc3JjPVwiL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltYWdlcy9jbGVhcjF4MS5naWZcIl0nKS5yZW1vdmUoKTtcbiQoJy5jb2xvcnNfcHJpY2Vib3ggaW1nW3NyYz1cIi92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvUEJveF9Cb3JkZXJfTGVmdF9Ub3AuZ2lmXCJdJykucGFyZW50KCd0cicpLnJlbW92ZSgpO1xuXG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuQk9PU1QgU1RVRkZcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG4vLyAoZnVuY3Rpb24oViwgJCkge1xuXG4vLyAgICAgdmFyIHJlbGF0ZWRQcmRXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52NjUtcHJvZHVjdC1yZWxhdGVkLWRldGFpbHMtcm93IC52NjUtcHJvZHVjdERpc3BsYXlcIik7XG4vLyAgICAgdmFyIGFjY2Vzc29yaWVzUHJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29sb3JzX2xpbmVzX2xpZ2h0Om5vdChbaWQ9J3Y2NS1wcm9kdWN0LXJlbGF0ZWQnXSlcIik7XG4vLyAgICAgLy8gQ3JlYXRlIFN1YiBNb2R1bGVcbi8vICAgICBWLnByb2R1Y3RkZXRhaWxzLnJlZm9ybWF0UmVsYXRlZFByZHMgPSB7fTtcblxuLy8gICAgIGZ1bmN0aW9uIHJlZm9ybWF0UmVsYXRlZFByZHMocmVsYXRlZFByZFdyYXApIHtcbi8vICAgICAgICAgdmFyIHJlbGF0ZWRQcmRJbWcgPSByZWxhdGVkUHJkV3JhcC5xdWVyeVNlbGVjdG9yQWxsKFwiLnY2NS1wcm9kdWN0RGlzcGxheS1jZWxsLnY2NS1wcm9kdWN0UGhvdG8gYVwiKTtcbi8vICAgICAgICAgdmFyIHJlbGF0ZWRQcmRUaXRsZSA9IHJlbGF0ZWRQcmRXcmFwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudjY1LXByb2R1Y3ROYW1lIGFcIik7XG4vLyAgICAgICAgIHZhciByZWxhdGVkUHJkcHJpY2UgPSByZWxhdGVkUHJkV3JhcC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3RfcHJvZHVjdHByaWNlXCIpO1xuLy8gICAgICAgICB2YXIgcmVsYXRlZFNhbGVwcmljZSA9IHJlbGF0ZWRQcmRXcmFwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdF9zYWxlcHJpY2VcIik7XG5cbi8vICAgICAgICAgdmFyIHZQcm9kdWN0R3JpZCA9IFYucHJvZHVjdGRldGFpbHMuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIixcInYtcHJvZHVjdC1ncmlkXCIpO1xuLy8gICAgICAgICAvLyBMb29wIHRocm91Z2ggdGhlIGxvbmdlc3QgbGlzdFxuXG4vLyAgICAgICAgIC8vIE1ha2UgYXJyYXkgdG8gZ2V0IGxhcmdlc3QgbGVuZ3RoIG9mIG5vZGVsaXN0XG4vLyAgICAgICAgIHZhciBpbWdMZW5ndGggPSByZWxhdGVkUHJkSW1nLmxlbmd0aDtcbi8vICAgICAgICAgdmFyIHRpdGxlTGVuZ3RoID0gcmVsYXRlZFByZFRpdGxlLmxlbmd0aDtcbi8vICAgICAgICAgdmFyIHByaWNlTGVuZ3RoID0gcmVsYXRlZFByZHByaWNlLmxlbmd0aDtcbi8vICAgICAgICAgdmFyIHNhbGVMZW5ndGggPSByZWxhdGVkU2FsZXByaWNlLmxlbmd0aDtcblxuLy8gICAgICAgICB2YXIgbm9kZUxpc3QgPSBbaW1nTGVuZ3RoLCB0aXRsZUxlbmd0aCwgcHJpY2VMZW5ndGgsIHNhbGVMZW5ndGhdO1xuXG4vLyAgICAgICAgIHZhciBtYXhMZW5ndGggPSBNYXRoLm1heC5hcHBseShNYXRoLG5vZGVMaXN0KTtcblxuLy8gICAgICAgICBmb3IgKHZhciBpID0gMCwgbWF4TGVuZ3RoOyBpIDwgbWF4TGVuZ3RoOyBpICsrKSB7XG4vLyAgICAgICAgICAgICB2YXIgdlByb2R1Y3QgPSBWLnByb2R1Y3RkZXRhaWxzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixcInYtcHJvZHVjdFwiKTtcblxuLy8gICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZWxlbWVudHMgaW4gYXJyYXkgZXhpc3Rcbi8vICAgICAgICAgICAgIGlmIChyZWxhdGVkUHJkSW1nW2ldKSB7XG4vLyAgICAgICAgICAgICAgICAgcmVsYXRlZFByZEltZ1tpXS5jbGFzc0xpc3QuYWRkKFwidi1wcm9kdWN0X19pbWdcIik7XG4vLyAgICAgICAgICAgICAgICAgdmFyIG5ld1JlbGF0ZWRQcmRJbWcgPSBjaG5nUmVsYXRlZFNyY0F0dHIocmVsYXRlZFByZEltZ1tpXSk7XG4vLyAgICAgICAgICAgICAgICAgdlByb2R1Y3QuYXBwZW5kQ2hpbGQobmV3UmVsYXRlZFByZEltZyk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBpZiAocmVsYXRlZFByZFRpdGxlW2ldKSB7XG4vLyAgICAgICAgICAgICAgICAgcmVsYXRlZFByZFRpdGxlW2ldLmNsYXNzTGlzdC5hZGQoXCJ2LXByb2R1Y3RfX3RpdGxlXCIpO1xuLy8gICAgICAgICAgICAgICAgIHZQcm9kdWN0LmFwcGVuZENoaWxkKHJlbGF0ZWRQcmRUaXRsZVtpXSk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBpZiAocmVsYXRlZFByZHByaWNlW2ldKSB7XG4vLyAgICAgICAgICAgICAgICAgdlByb2R1Y3QuYXBwZW5kQ2hpbGQocmVsYXRlZFByZHByaWNlW2ldKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIGlmIChyZWxhdGVkU2FsZXByaWNlW2ldKSB7XG4vLyAgICAgICAgICAgICAgICAgdlByb2R1Y3QuYXBwZW5kQ2hpbGQocmVsYXRlZFNhbGVwcmljZVtpXSk7XG4vLyAgICAgICAgICAgICB9XG5cbi8vICAgICAgICAgICAgIHZQcm9kdWN0R3JpZC5hcHBlbmRDaGlsZCh2UHJvZHVjdCk7XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICByZXR1cm4gdlByb2R1Y3RHcmlkO1xuLy8gICAgIH1cblxuLy8gICAgIGZ1bmN0aW9uIGNobmdSZWxhdGVkU3JjQXR0ciAocmVsYXRlZFByZEltZykge1xuLy8gICAgICAgICB2YXIgb2xkU3JjQXR0ciA9IHJlbGF0ZWRQcmRJbWcucXVlcnlTZWxlY3RvcignaW1nJykuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xuLy8gICAgICAgICB2YXIgbmV3U3JjQXR0ciA9IG9sZFNyY0F0dHIucmVwbGFjZShcIi0wLmpwZ1wiLFwiLTEuanBnXCIpO1xuXG4vLyAgICAgICAgIHJlbGF0ZWRQcmRJbWcucXVlcnlTZWxlY3RvcihcImltZ1wiKVxuLy8gICAgICAgICAgICAgLnNldEF0dHJpYnV0ZShcInNyY1wiLG5ld1NyY0F0dHIpO1xuXG4vLyAgICAgICAgIHJldHVybiByZWxhdGVkUHJkSW1nXG4vLyAgICAgfVxuXG5cbi8vICAgICBWLnByb2R1Y3RkZXRhaWxzLnJlZm9ybWF0UmVsYXRlZFByZHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICBpZiAoIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJwcm9kdWN0ZGV0YWlsc1wiKSApIHtcbi8vICAgICAgICAgICAgIGlmIChWLnByb2R1Y3RkZXRhaWxzLnJlbGF0ZWRQcmRzKSB7XG4vLyAgICAgICAgICAgICAgICAgdmFyIHZQcm9kdWN0R3JpZCA9IHJlZm9ybWF0UmVsYXRlZFByZHMocmVsYXRlZFByZFdyYXApO1xuLy8gICAgICAgICAgICAgICAgIHJlbGF0ZWRQcmRXcmFwLmluc2VydEJlZm9yZSh2UHJvZHVjdEdyaWQsIHJlbGF0ZWRQcmRXcmFwLmZpcnN0Q2hpbGQpO1xuLy8gICAgICAgICAgICAgfVxuXG4vLyAgICAgICAgICAgICBpZiAoVi5wcm9kdWN0ZGV0YWlscy5hY2Nlc3NvcnlQcmRzKSB7XG4vLyAgICAgICAgICAgICAgICAgdmFyIHZQcm9kdWN0R3JpZCA9IHJlZm9ybWF0UmVsYXRlZFByZHMoYWNjZXNzb3JpZXNQcmRzKTtcbi8vICAgICAgICAgICAgICAgICB2YXIgYWNjZXNzb3JpZXNJbnNlcnRQb2ludCA9IGFjY2Vzc29yaWVzUHJkcy5xdWVyeVNlbGVjdG9yKFwidGFibGVbY2VsbHBhZGRpbmc9JzInXSB0Ym9keSB0cjpmaXJzdC1jaGlsZFwiKTtcbi8vICAgICAgICAgICAgICAgICBhY2Nlc3Nvcmllc0luc2VydFBvaW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHZQcm9kdWN0R3JpZCxhY2Nlc3Nvcmllc0luc2VydFBvaW50Lm5leHRTaWJsaW5nKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vICAgICByZXR1cm4gVjtcblxuLy8gfShWT0xVU0lPTiB8fCB7fSwgJGpRdWVyeU1vZGVybikpOyJdfQ==
