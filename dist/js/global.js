var siteHeaderHeight=$(".site-header").height();void 0!==$("#content_area").find(".vcb-article")[0]&&setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=$("#content_area").find(".vcb-article")[0].id.split("_")[2],t=window.location.origin+"/admin/AdminDetails_Generic.asp?Table=Articles&ID="+e,r=document.createElement("a");r.href=t,r.innerText="Edit Page",r.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(r)}},3e3),window.innerWidth>1080&&$(".menu-item--top-level .sub-menu--level-one > li:first-child").addClass("active").find(".sub-menu--level-two").addClass("accordian-open");var pagePath=window.location.pathname,heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--generic-"+getRandomInt(1,5)+".jpg)",heroText="Green Farm Parts",breadcrumbs=document.querySelector(".matching_results_text");if(breadcrumbs){var breadcrumbArray=breadcrumbs.previousElementSibling.textContent.split(">");heroText=breadcrumbArray[breadcrumbArray.length-1]}if(pagePath.match(/articles/i)&&window.location.search.includes("ID=305")&&(heroText='Quick Parts Order Form<span style="display: block; font-size: 1.2rem;">Already know the parts you need and need to get more than one?<br/>You\'re in the right place.</span>'),pagePath.match(/articles/i)&&window.location.search.includes("ID=287")&&(heroText="Parts Diagram Explorer"),pagePath.match(/Filters/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--filters.jpg)"),pagePath.match(/Clearance/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--clearance.jpg)"),pagePath.match(/Maintenance-Kits/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--maintenance-kits.jpg)"),pagePath.match(/Toys/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--toys.jpg)"),"/Articles.asp"===pagePath&&"?ID=305"===window.location.search&&(heroText="Quick Parts Order"),"/searchresults.asp"===pagePath){function filterItems(e){return searchStringArray.filter(function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1})}searchString=window.location.search,searchStringArray=searchString.split("&");var searchStringTerm=filterItems("search=").toString().split("=")[1];heroText="Search for: "+(searchStringTerm=searchStringTerm.split("+").join(" ").split("%20").join(" "));for(var productRows=$("#MainForm .v65-productDisplay .v65-productDisplay tr"),productsArray=[],i=0;i<productRows.length;i+=5){if(productRows[i].nextElementSibling.querySelector('div[itemprop="aggregateRating"]'))var productRating=productRows[i].nextElementSibling.querySelector('div[itemprop="aggregateRating"]').outerHTML;productsArray.push({productLink:productRows[i].querySelector("a").href,productImage:productRows[i].querySelector("img").src,productName:productRows[i].nextElementSibling.querySelector("a span").innerText,productPrice:productRows[i].nextElementSibling.querySelector(".product_productprice").innerText.split(" ")[1],productRating:productRating,productDescription:productRows[i].nextElementSibling.nextElementSibling.nextElementSibling.innerText})}productRows.remove(),(firstProductRow=$("#MainForm .v65-productDisplay .v65-productDisplay").find("tbody")).prepend('<tr><td id="gfp-responsive-listing"></td></tr>');var gfpResponsiveListing=$("#gfp-responsive-listing");for(i=0;i<productsArray.length;i++){void 0===(rating=productsArray[i].productRating)&&(rating=""),gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+"</h6><p>"+productsArray[i].productPrice+"</p>"+rating+"</a>")}}if("/ShoppingCart.asp"===pagePath||"/shoppingcart.asp"===pagePath){heroText="Shopping Cart";var itemDescription=document.querySelector("#v65-cart-header-itemdescription font");if(null!=itemDescription){var itemDescriptionArray=itemDescription.innerHTML.split("&nbsp;");itemDescription.innerHTML=itemDescriptionArray[0]+" "+itemDescriptionArray[2]}var emptyCartRow=$(".v65-cart-shipping-details-row").children().first();emptyCartRow.length<0&&(emptyCartRow.siblings().remove(),emptyCartRow[0].colSpan=12)}if("/login.asp"===pagePath&&(heroText="Login"),"/terms.asp"===pagePath&&(heroText="Terms and Conditions"),"/one-page-checkout.asp"===pagePath&&(heroText="Checkout",getCookie("Session%5FToken4Checkout")&&$("#div_articleid_116").remove()),"/"!=pagePath?updateHero(heroImg,heroText):setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?Table=Articles&ID=2",t=document.createElement("a");t.href=e,t.innerText="Edit Page",t.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3),"/myaccount.asp"===pagePath){var accountPageContent=$("#content_area td"),accountWelcomeMessage=accountPageContent[0].innerHTML,accountWelcomeMessageOpener=accountPageContent[0].querySelector("b").innerHTML;updateHero(heroImg,accountWelcomeMessageOpener),$(".hero").next().find(".site-width").prepend('<div id="gfp-account-details"></div>');var gfpAccountDetails=$("#gfp-account-details");$("#content_area").remove(),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">My Orders</h2><ul><li><a href="/orders.asp">Review Orders</a></li><li><a href="/orders.asp">Change/Cancel Order</a></li><li><a href="/orders.asp">Change Shipping Address</a></li><li><a href="/orders.asp">Print Invoices</a></li><li><a href="/orders.asp">Change Billing Address</a></li><li><a href="/returns.asp">Return Items</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Personal Information</h2><ul><li><a href="/AccountSettings.asp?modwhat=change_a">Change e-mail address, or password</a></li><li><a href="/AccountSettings.asp?modwhat=change_b">Manage your billing addresses</a></li><li><a href="/MailingList_unsubscribe.asp">Change my e-mail preferences</a></li><li><a href="/AccountSettings.asp?modwhat=change_s">Manage your shipping addresses</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Payment Settings</h2><ul><li><a href="/AccountSettings.asp?modwhat=change_c&myaccount=Y">Edit or delete a credit/debit card</a></li><li><a href="/MyAccount_GiftBalance.asp">View gift certificate balance</a></li><li><a href="/MyAccount_ApplyGift.asp">Apply a gift certificate to your account</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Other Features</h2><ul><li><a href="/myaccount_myreviews.asp">Edit a review that I wrote</a></li><li><a href="/WishList.asp">View my Wish List</a></li><li><a href="/MyRewards.asp">My Rewards</a></li></ul></section>'),gfpAccountDetails.parent().append('<div class="has-text-center mar-t--more"><a href="/login.asp?logout=yes" class="btn-outline--brand-two">Logout</a></div>')}if("/orders.asp"===pagePath){updateHero(heroImg,heroText="Your Orders");var allOrders=$("#content_area form .colors_lines_light tbody > .colors_backgroundneutral > td:last-child a");for(i=0;i<allOrders.length;i++){var elem=allOrders[i];elem.innerHTML="View Order",elem.classList.add("btn-solid--brand-two")}}breadcrumbs&&breadcrumbs.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("breadcrumbs");var siteHeader=document.querySelector(".site-header"),siteHeaderOffset=siteHeader.offsetTop;if(siteHeader&&window.addEventListener("scroll",fixHeader),document.addEventListener("click",function(e){if(("hamburger"===e.target.id||e.target.classList.contains("hamburger-box")||e.target.classList.contains("hamburger-inner"))&&toggleMenu(),e.target.classList.contains("accordian-toggle--site-header")&&toggleMenuAccordian(e),"#chat"===e.target.hash&&toggleChatWindow(e),e.target.classList.contains("show-password")){e.preventDefault();var t=e.target.parentElement.querySelector("input");t.type;"password"===t.type?t.type="text":t.type="password"}}),"undefined"!=typeof SearchParams&&"/searchresults.asp"!=pagePath){updateHero(heroImg,heroText=document.title),$("#content_area > table").first().hide();var allSubCatLinks=$(".subcategory_link");cleanSubCatLinks=[];for(i=0;i<allSubCatLinks.length;i++)cleanSubCatLinks.push({modelLink:allSubCatLinks[i].href,modelNumber:allSubCatLinks[i].innerText.replace("John Deere","").split(" ")[1]});var sortByContainer=$("#jmenuhide");$("#SortBy")[0].addEventListener("change",function(e){var t=e.target.value;window.location.href=window.location.pathname+"?searching=Y&sort="+t+"&cat=2&show=15&page=1"}),$('img[src="/v/vspfiles/templates/gfp-test/images/SearchResults_SubCat_Angle.gif"]').length>0&&($('img[src="/v/vspfiles/templates/gfp-test/images/SearchResults_SubCat_Angle.gif"]').parents(".colors_backgroundlight").addClass("remove-featured-cats-table"),$(".remove-featured-cats-table").parent().remove());var firstProductRow;productRows=$("#MainForm .v65-productDisplay .v65-productDisplay > tbody > tr"),productsArray=[];tileProducts(productRows),productRows.remove(),(firstProductRow=$("#MainForm .v65-productDisplay .v65-productDisplay").find("tbody")).prepend('<tr><td id="gfp-responsive-listing"></td></tr>');gfpResponsiveListing=$("#gfp-responsive-listing");var catID=window.location.pathname.split(".htm")[0].split("/")[2];for(i=0;i<productsArray.length;i++){var rating;void 0===(rating=productsArray[i].productRating)&&(rating=""),"2436"===catID?gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+'</h6><del style="font-size: 0.9em;">'+productsArray[i].productPrice+'</del><p style="color: red; font-weight: bold;">See Price in Cart</p>'+rating+"</a>"):gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+"</h6><p>"+productsArray[i].productPrice+"</p>"+rating+"</a>")}var offsetProducts=$(".results_per_page_select").val();catID=SearchParams.split("&")[2].substring(4);setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?table=Categories&Page=1&ID="+catID,t=document.createElement("a");t.href=e,t.innerText="Edit Category",t.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3)}if($('img[src="/v/vspfiles/templates/gfp-test/images/clear1x1.gif"]').remove(),$('.colors_pricebox img[src="/v/vspfiles/templates/gfp-test/images/PBox_Border_Left_Top.gif"]').parent("tr").remove(),$("#v65-onepage-breadcrumb")&&$("#v65-onepage-breadcrumb").remove(),$("#v65-onepage-CopyBillingToShippingLink").remove(),document.body.classList.contains("single-product")){setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?table=Products_Joined&Page=1&ID="+global_Current_ProductCode.toLowerCase(),t=document.createElement("a");t.href=e,t.innerText="Edit Product",t.classList.add("editProductLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3);var pageTitle=$(".vp-product-title")[0].innerText,productDescriptionWrap=$("#v65-productdetail-action-wrapper");productDescriptionWrap.css("display","block").attr("align","left"),productDescriptionWrap.siblings().css("display","block"),updateHero(heroImg,pageTitle);var relatedProductsContainer=$("#v65-product-parent").next().find(".colors_lines_light").first();relatedProductsContainer[0]&&"v65-product-related"!==relatedProductsContainer[0].id&&getRelatedProducts(),$('span[itemprop="description"]').prepend('<p class="h1">'+pageTitle+"</p>"),$("#v65-product-parent > tbody > tr:nth-child(2) > td:first-child").addClass("featured-image-parent").siblings().addClass("featured-content-container");var fitmentString=$("#ProductDetail_ProductDetails_div2 li");if(fitmentString.length>0){var fitmentArray=fitmentString[0].innerText.split("|").sort();$("#ProductDetail_ProductDetails_div2").remove(),$("#v65-product-parent > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr > td > table > tbody").append('<tr><td colspan="2"><h3 class="mar-t--more">'+pageTitle+' fits the following models:</h3><hr><ul id="gfp-fitment"></ul></tr></td>');var fitmentList=$("#gfp-fitment");for(i=0;i<fitmentArray.length;i++)fitmentList.append("<li>"+fitmentArray[i]+"</li>")}if($("#related_products_content").length>0){formatRelatedProducts();var productFeatureImage=$("#product_photo_zoom_url").parent("td");productFeatureImage.addClass("featured-image-container"),productFeatureImage.length>0&&window.addEventListener("scroll",fixProductFeatureImage)}var productDescription=$("#product_description");productDescription.length>0&&$(".featured-content-container").append('<div class="gfp-product-description">'+productDescription.html()+"</div>");var productTechSpecs=$("#ProductDetail_TechSpecs_div");if(productTechSpecs.length>0&&""!==productTechSpecs.text().trim()){var replacedBy=productTechSpecs.text().trim().split("This John Deere Part has been replaced by part number ")[1].split("--\x3e");if(""!==productTechSpecs[0].textContent.trim()){$(".featured-content-container").append('<div class="gfp-product-tech-specs"><h3>This John Deere Part has been replaced by part(s):</h3><hr><ul></ul></div>');var replacedByList=$(".gfp-product-tech-specs ul");for(i=0;i<replacedBy.length;i++)replacedByList.append('<li><a href="/-p/'+replacedBy[i]+'.htm">'+replacedBy[i]+"</a></li>")}}var productExtInfo=$("#ProductDetail_ExtInfo_div");if(productExtInfo.length>0&&""!==productExtInfo.html().trim()){var partSubs=productExtInfo.html().split("This John Deere Part replaces part number(s) ")[1].split("|"),cleanPartSubs=[];for(i=0;i<partSubs.length;i++)cleanPartSubs.push(partSubs[i].trim());$(".featured-content-container").append('<div class="gfp-product-extinfo"><h3>This John Deere Part replaces part number(s):</h3><hr><ul></ul></div>');var partSubsList=$(".gfp-product-extinfo ul");for(i=0;i<cleanPartSubs.length;i++)partSubsList.append("<li>"+cleanPartSubs[i]+"</li>")}var volustionTab=$("#ProductDetail_ProductDetails_div").parents(".colors_descriptionbox");volustionTab.prev().remove(),volustionTab.remove()}function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}function toggleMenuAccordian(e){var t=e.target;if($(t).parent().hasClass("active"))return $(t).parent().removeClass("active"),void $(t).siblings().removeClass("accordian-open");$(t).parent(".menu-item-has-children").addClass("active").siblings().removeClass("active").find(".sub-menu--level-two").removeClass("accordian-open"),$(t).siblings().addClass("accordian-open")}function toggleChatWindow(e){e.preventDefault(),1!=window.fcWidget.isOpen()?window.fcWidget.open():window.fcWidget.close()}function updateHero(e,t){if("/"!==window.location.pathname&&"/Default.asp"!==window.location.pathname){var r=document.querySelector(".hero--not-home");if(r.style.backgroundImage=e,!pagePath.match(/Clearance/i)){var a=r.querySelector("h1");return a.style.opacity=1,void(a.innerHTML=t)}r.style.textAlign="left",r.querySelector(".site-width").innerHTML='<div class="current-special-offers-item--tag"><p>25% - 50% Off</p></div><div class="current-special-offers-item--title"><h4>Clearance Savings</h4><p class="mar-t--more" style="font-size: 1.3rem; max-width: 390px; text-shadow: 3px 3px 5px rgba(0,0,0,0.7);">Everything is priced too low to show! Add to your cart to see your savings.</p></div>',r.querySelector(".current-special-offers-item--tag").style.position="static",r.querySelector(".current-special-offers-item--title").style.position="static",r.querySelector(".current-special-offers-item--tag p").style.fontSize="2em",r.querySelector(".current-special-offers-item--tag p").style.textTransform="uppercase",r.querySelector(".current-special-offers-item--title h4").style.fontSize="2.5em",r.querySelector(".current-special-offers-item--title h4").style.textTransform="uppercase"}}function fixHeader(){window.scrollY>siteHeaderOffset?(document.body.style.paddingTop=siteHeader.offsetHeight+"px",document.body.classList.add("site-header-fixed")):(document.body.style.paddingTop=0,document.body.classList.remove("site-header-fixed"))}function matchCheckoutInput(e,t){var r=e.id.split("-")[2].substring(4),a=document.querySelector("#v65-onepage-ship"+r);a&&(a.value=t)}function getRelatedProducts(){$("#v65-product-parent > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr > td > table > tbody").append('<tr><td colspan="2"><div id="gfp-related-products"></div></tr></td>');for(var e=relatedProductsContainer.find(".v65-productDisplay"),t=e.find("tr:first-child .v65-productName"),r=e.find("tr:nth-child(2) .product_productprice"),a=e.find("tr:last-child .v65-productPhoto"),i=0;i<a.length;i++){var o=a[i].querySelector("img").src;o.match(/nophoto/)||(a[i].querySelector("img").src=o.substring(0,o.length-6)+"-2T"+o.substring(o.length-4))}relatedProductsContainer.remove();var n=[];for(i=0;i<t.length;i++){var s="";r[i]&&(s=r[i].innerText.trim()),n.push({productTitle:t[i].querySelector("a").innerHTML.trim(),productLink:t[i].querySelector("a").href,productImg:a[i].querySelector("img").outerHTML,productPrice:s})}$("#gfp-related-products").html("<h3>Alternatives to "+pageTitle+'</h3><ul class="cost-alternatives-list"></ul>');var c=$("#gfp-related-products .cost-alternatives-list");for(i=0;i<n.length;i++){var d='<li><a href="'+n[i].productLink+'"><div class="cost-alternatives-list--image">'+n[i].productImg+'</div><div class="cost-alternatives-list--content"><p><strong>'+n[i].productTitle+"</strong></p><p>"+n[i].productPrice+"</p></div></a></li>";c.append(d)}}function formatRelatedProducts(){for(var e=[],t=$("#related_products_content .v65-productName"),r=$("#related_products_content .v65-productAvailability .product_productprice"),a=$("#related_products_content .v65-productPhoto"),i=0;i<t.length;i++){var o=a[i].querySelector("img").src;o=o.substring(0,o.length-6)+"-2T"+o.substring(o.length-4);var n="";if(r[i])n=r[i].innerText;e.push({relatedProductTitle:t[i].innerText,relatedProductPrice:n,relatedProductImg:o,relatedProductLink:a[i].querySelector("a").href})}$("#v65-product-related").before('<div class="slider--related-products"><h3 class="has-text-center mar-b">Products related to '+pageTitle+'</h3><div class="slider"></div></div>'),$("#v65-product-related").remove();var s=$(".slider--related-products > div");for(i=0;i<e.length;i++)s.append('<div><a href="'+e[i].relatedProductLink+'"><img src="'+e[i].relatedProductImg+'" />'+e[i].relatedProductTitle+"</a></div>")}function fixProductFeatureImage(){if(!(window.innerWidth<1080)){var e=document.querySelector(".featured-image-parent"),t=document.querySelector(".featured-content-container"),r=productFeatureImage.offset().top,a=t.offsetHeight,i=document.querySelector(".featured-image-container").offsetHeight;if(window.scrollY>r-siteHeaderHeight&&window.scrollY<siteHeaderHeight+(a-i))document.body.classList.add("featured-image-fixed"),e.style.transform="translateY(calc("+siteHeaderHeight+"px - 1rem)",e.style.maxWidth="350px",t.style.paddingLeft="calc(350px + 1rem)";else if(window.scrollY<siteHeaderHeight)document.body.classList.remove("featured-image-fixed"),e.style.transform="",e.style.maxWidth="auto",t.style.paddingLeft="1rem";else if(window.scrollY>siteHeaderHeight+(a-i)){var o=window.scrollY-(a-i)-siteHeaderHeight;e.style.transform="translateY(calc(-"+o+"px + "+siteHeaderHeight+"px))"}}}function stickyCheckout(){if(!(window.innerWidth<600)){var e=$(".order-details")[0].offsetHeight,t=$(".order-totals-container"),r=t[0].offsetHeight;if(window.scrollY>checkoutWrapTop-(siteHeaderHeight+54)&&window.scrollY<e+orderOffsetTop-r-siteHeaderHeight-54)document.body.classList.add("cart-totals-fixed"),orderTotalsContainer.style.maxWidth=checkoutContainerWidth+"px",orderTotalsContainer.style.transform="translateY("+(siteHeaderHeight+29)+"px)";else if(window.scrollY>e+orderOffsetTop-r-siteHeaderHeight-54){var a=window.scrollY-r-r-siteHeaderHeight-54;t[0].style.transform="translateY(calc(-"+a+"px + "+orderOffsetTop+"px))"}else document.body.classList.remove("cart-totals-fixed"),orderTotalsContainer.style.maxWidth="auto",orderTotalsContainer.style.transform=""}}function setUpResponsiveCheckout(){respCheckout.html('<div class="order-details"><section><h2>Billing Information</h2>'+billingContent+"</section></div>");var e=$(".order-details");e.append("<section><h2>Shipping Information</h2>"+shippingContent+"</section>"),registrationPassword&&e.append('<section><h2>Create A Green Farm Parts Account</h2><p class="has-text-center mar-b font-shrink">Create an account today for quicker checkout on future orders, checking order status & tracking, and special offers sent via email</p><div class="form-group"><label for="password">Password</label>'+registrationPassword+'<button class="show-password">Show</button></div><div class="form-group"><label for="password-confirm">Confirm Password</label>'+registrationPasswordConfirm+'<button class="show-password">Show</button></div></section>'),e.append("<section><h2>Payment Information</h2>"+paymentOptions.html()+"</section>"),respCheckout.append('<div class="order-totals"><section class="order-totals-container"><h2>Your Order</h2></section></div>');var t=$(".order-totals-container");t.append(orderSummaryItems,shippingCostContent),t.append('<p style="font-size: 0.85rem;">Order Comments: <em>(optional)</em></p>',orderCommentsElem),t.append('<table width="100%" class="agreements"><tbody><tr>'+additionalInfoContent+"</tr></tbody></table>",placeOrder)}function tileProducts(e){for(var t=0;t<e.length;t+=6){if(e[t].nextElementSibling.nextElementSibling.querySelector('div[itemprop="aggregateRating"]'))var r=e[t].nextElementSibling.nextElementSibling.querySelector('div[itemprop="aggregateRating"]').outerHTML;var a="";e[t].nextElementSibling.nextElementSibling.querySelector(".product_productprice")&&(a=e[t].nextElementSibling.nextElementSibling.querySelector(".product_productprice").innerText.split(" ")[1]);var i=e[t].querySelector("a").href.split("/")[4].split(".")[0];productsArray.push({productCode:i,productLink:e[t].querySelector("a").href,productImage:e[t].querySelector("img").src,productName:e[t].nextElementSibling.querySelector("a").innerText,productPrice:a,productRating:r}),console.log(productsArray)}}function getCookie(e){var t=document.cookie,r=e+"=",a=t.indexOf("; "+r);if(-1==a){if(0!=(a=t.indexOf(r)))return null}else{a+=2;var i=document.cookie.indexOf(";",a);-1==i&&(i=t.length)}return decodeURI(t.substring(a+r.length,i))}document.body.classList.contains("article--talk-with-a-tech")&&updateHero("url(/v/vspfiles/templates/gfp-test/img/hero--talk-with-a-tech.jpg)",document.title);var alertBox=document.querySelector(".alert");if(alertBox){setTimeout(function(){document.cookie.split(";").filter(function(e){return e.indexOf("alert=dismissed")>=0}).length||(alertBox.querySelector("#timeLeftRed").innerHTML=moment("Sat Jun 30 2018 23:59:00 GMT-0400 (EDT)").endOf().fromNow(),alertBox.classList.remove("alert--is-not-active"))},2e3);var closeAlertBox=alertBox.querySelector(".alert--close");closeAlertBox.addEventListener("click",function(e){e.preventDefault();var t=new Date,r="expires=";t.setDate(t.getDate()+1),r+=t.toGMTString(),document.cookie="alert=dismissed;"+r,alertBox.classList.add("alert--is-not-active")})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyJzaXRlSGVhZGVySGVpZ2h0IiwiJCIsImhlaWdodCIsImZpbmQiLCJzZXRUaW1lb3V0IiwiZG9jdW1lbnQiLCJib2R5IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJwYWdlSUQiLCJpZCIsInNwbGl0IiwiYWRtaW5MaW5rVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJhZG1pbkxpbmsiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImlubmVyVGV4dCIsImFkZCIsInByZXBlbmQiLCJpbm5lcldpZHRoIiwiYWRkQ2xhc3MiLCJwYWdlUGF0aCIsInBhdGhuYW1lIiwiaGVyb0ltZyIsImdldFJhbmRvbUludCIsImhlcm9UZXh0IiwiYnJlYWRjcnVtYnMiLCJxdWVyeVNlbGVjdG9yIiwiYnJlYWRjcnVtYkFycmF5IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInRleHRDb250ZW50IiwibGVuZ3RoIiwibWF0Y2giLCJzZWFyY2giLCJpbmNsdWRlcyIsImZpbHRlckl0ZW1zIiwicXVlcnkiLCJzZWFyY2hTdHJpbmdBcnJheSIsImZpbHRlciIsImVsIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwic2VhcmNoU3RyaW5nIiwic2VhcmNoU3RyaW5nVGVybSIsInRvU3RyaW5nIiwiam9pbiIsInByb2R1Y3RSb3dzIiwicHJvZHVjdHNBcnJheSIsImkiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJwcm9kdWN0UmF0aW5nIiwib3V0ZXJIVE1MIiwicHVzaCIsInByb2R1Y3RMaW5rIiwicHJvZHVjdEltYWdlIiwic3JjIiwicHJvZHVjdE5hbWUiLCJwcm9kdWN0UHJpY2UiLCJwcm9kdWN0RGVzY3JpcHRpb24iLCJyZW1vdmUiLCJmaXJzdFByb2R1Y3RSb3ciLCJnZnBSZXNwb25zaXZlTGlzdGluZyIsInJhdGluZyIsImFwcGVuZCIsIml0ZW1EZXNjcmlwdGlvbiIsIml0ZW1EZXNjcmlwdGlvbkFycmF5IiwiaW5uZXJIVE1MIiwiZW1wdHlDYXJ0Um93IiwiY2hpbGRyZW4iLCJmaXJzdCIsInNpYmxpbmdzIiwiY29sU3BhbiIsImdldENvb2tpZSIsInVwZGF0ZUhlcm8iLCJhY2NvdW50UGFnZUNvbnRlbnQiLCJhY2NvdW50V2VsY29tZU1lc3NhZ2UiLCJhY2NvdW50V2VsY29tZU1lc3NhZ2VPcGVuZXIiLCJuZXh0IiwiZ2ZwQWNjb3VudERldGFpbHMiLCJwYXJlbnQiLCJhbGxPcmRlcnMiLCJlbGVtIiwicGFyZW50RWxlbWVudCIsInNpdGVIZWFkZXIiLCJzaXRlSGVhZGVyT2Zmc2V0Iiwib2Zmc2V0VG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZpeEhlYWRlciIsImUiLCJ0YXJnZXQiLCJ0b2dnbGVNZW51IiwidG9nZ2xlTWVudUFjY29yZGlhbiIsImhhc2giLCJ0b2dnbGVDaGF0V2luZG93IiwicHJldmVudERlZmF1bHQiLCJwYXNzd29yZEZpZWxkIiwidHlwZSIsIlNlYXJjaFBhcmFtcyIsInRpdGxlIiwiaGlkZSIsImFsbFN1YkNhdExpbmtzIiwiY2xlYW5TdWJDYXRMaW5rcyIsIm1vZGVsTGluayIsIm1vZGVsTnVtYmVyIiwicmVwbGFjZSIsInNvcnRCeUNvbnRhaW5lciIsInNvcnRWYWwiLCJ2YWx1ZSIsInBhcmVudHMiLCJ0aWxlUHJvZHVjdHMiLCJjYXRJRCIsIm9mZnNldFByb2R1Y3RzIiwidmFsIiwic3Vic3RyaW5nIiwiZ2xvYmFsX0N1cnJlbnRfUHJvZHVjdENvZGUiLCJwYWdlVGl0bGUiLCJwcm9kdWN0RGVzY3JpcHRpb25XcmFwIiwiY3NzIiwiYXR0ciIsInJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lciIsImdldFJlbGF0ZWRQcm9kdWN0cyIsImZpdG1lbnRTdHJpbmciLCJmaXRtZW50QXJyYXkiLCJzb3J0IiwiZml0bWVudExpc3QiLCJmb3JtYXRSZWxhdGVkUHJvZHVjdHMiLCJwcm9kdWN0RmVhdHVyZUltYWdlIiwiZml4UHJvZHVjdEZlYXR1cmVJbWFnZSIsImh0bWwiLCJwcm9kdWN0VGVjaFNwZWNzIiwidGV4dCIsInRyaW0iLCJyZXBsYWNlZEJ5IiwicmVwbGFjZWRCeUxpc3QiLCJwcm9kdWN0RXh0SW5mbyIsInBhcnRTdWJzIiwiY2xlYW5QYXJ0U3VicyIsInBhcnRTdWJzTGlzdCIsInZvbHVzdGlvblRhYiIsInByZXYiLCJtaW4iLCJtYXgiLCJNYXRoIiwiY2VpbCIsImZsb29yIiwicmFuZG9tIiwidG9nZ2xlIiwic2VsZiIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJmY1dpZGdldCIsImlzT3BlbiIsIm9wZW4iLCJjbG9zZSIsImhlcm9Db250YWluZXIiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImhlcm9IZWFkaW5nIiwib3BhY2l0eSIsInRleHRBbGlnbiIsInBvc2l0aW9uIiwiZm9udFNpemUiLCJ0ZXh0VHJhbnNmb3JtIiwic2Nyb2xsWSIsInBhZGRpbmdUb3AiLCJvZmZzZXRIZWlnaHQiLCJtYXRjaENoZWNrb3V0SW5wdXQiLCJpbnB1dCIsInNoaXBFbGVtIiwicmVsYXRlZFByb2R1Y3RzIiwicmVsYXRlZFByb2R1Y3RUaXRsZSIsInJlbGF0ZWRQcm9kdWN0UHJpY2UiLCJyZWxhdGVkUHJvZHVjdEltZyIsImltYWdlUGF0aCIsImNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0cyIsImhhc1ByaWNlIiwicHJvZHVjdFRpdGxlIiwicHJvZHVjdEltZyIsImNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1RhYmxlIiwiY2xlYW5SZWxhdGVkUHJvZHVjdHMiLCJwcm9kdWN0VGl0bGVzIiwiaW1nUGF0aCIsInJlbGF0ZWRQcm9kdWN0TGluayIsImJlZm9yZSIsInNsaWRlclJlbGF0ZWRQcm9kdWN0cyIsImZlYXR1cmVkSW1hZ2VQYXJlbnQiLCJmZWF0dXJlZENvbnRlbnRDb250YWluZXIiLCJwcm9kdWN0T2Zmc2V0Iiwib2Zmc2V0IiwidG9wIiwiZmVhdHVyZWRDb250ZW50SGVpZ2h0IiwiZmVhdHVyZWRJbWFnZUhlaWdodCIsInRyYW5zZm9ybSIsIm1heFdpZHRoIiwiZWxlbVdpZHRoIiwicGFkZGluZ0xlZnQiLCJuZWdTY3JvbGwiLCJzdGlja3lDaGVja291dCIsIm9yZGVyRGV0YWlsc0hlaWdodCIsIm9yZGVyVG90YWxzIiwib3JkZXJUb3RhbHNIZWlnaHQiLCJjaGVja291dFdyYXBUb3AiLCJvcmRlck9mZnNldFRvcCIsIm9yZGVyVG90YWxzQ29udGFpbmVyIiwiY2hlY2tvdXRDb250YWluZXJXaWR0aCIsInNldFVwUmVzcG9uc2l2ZUNoZWNrb3V0IiwicmVzcENoZWNrb3V0IiwiYmlsbGluZ0NvbnRlbnQiLCJyZXNwQ2hlY2tvdXREZXRhaWxzIiwic2hpcHBpbmdDb250ZW50IiwicmVnaXN0cmF0aW9uUGFzc3dvcmQiLCJyZWdpc3RyYXRpb25QYXNzd29yZENvbmZpcm0iLCJwYXltZW50T3B0aW9ucyIsInJlc3BPcmRlclRvdGFsc0NvbnRhaW5lciIsIm9yZGVyU3VtbWFyeUl0ZW1zIiwic2hpcHBpbmdDb3N0Q29udGVudCIsIm9yZGVyQ29tbWVudHNFbGVtIiwiYWRkaXRpb25hbEluZm9Db250ZW50IiwicGxhY2VPcmRlciIsInByb2R1Y3RzIiwicHJvZHVjdENvZGUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsImRjIiwiY29va2llIiwicHJlZml4IiwiYmVnaW4iLCJlbmQiLCJkZWNvZGVVUkkiLCJhbGVydEJveCIsIml0ZW0iLCJtb21lbnQiLCJlbmRPZiIsImZyb21Ob3ciLCJjbG9zZUFsZXJ0Qm94IiwiZGF0ZSIsIkRhdGUiLCJleHBpcmVzIiwic2V0RGF0ZSIsImdldERhdGUiLCJ0b0dNVFN0cmluZyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsaUJBQW1CQyxFQUFFLGdCQUFnQkMsY0FFa0IsSUFBL0NELEVBQUUsaUJBQWlCRSxLQUFLLGdCQUFnQixJQUNoREMsV0FBVyxXQUNQLEdBQUlDLFNBQVNDLEtBQUtDLFVBQVVDLFNBQVMsY0FBZSxDQUVoRCxJQUFJQyxFQUFTUixFQUFFLGlCQUFpQkUsS0FBSyxnQkFBZ0IsR0FBR08sR0FBR0MsTUFBTSxLQUFLLEdBQ2xFQyxFQUFlQyxPQUFP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LEdBRUEsR0FBYSxJQURiQSxFQUFRSCxFQUFHdkwsUUFBUXlMLElBQ0gsT0FBTyxTQUNwQixDQUNIQyxHQUFTLEVBQ1QsSUFBSUMsRUFBTWxPLFNBQVMrTixPQUFPeEwsUUFBUSxJQUFLMEwsSUFDM0IsR0FBUkMsSUFDQUEsRUFBTUosRUFBR2pNLFFBS2pCLE9BQU9zTSxVQUFVTCxFQUFHL0csVUFBVWtILEVBQVFELEVBQU9uTSxPQUFRcU0sSUF4Um5EbE8sU0FBU0MsS0FBS0MsVUFBVUMsU0FBUyw4QkFDakNvRSxXQUFXLHFFQUFzRXZFLFNBQVNnRyxPQTJSOUYsSUFBSW9JLFNBQVdwTyxTQUFTeUIsY0FBYyxVQUV0QyxHQUFJMk0sU0FBVSxDQUNWck8sV0FBWSxXQUNIQyxTQUFTK04sT0FBT3pOLE1BQU0sS0FBSzhCLE9BQU8sU0FBU2lNLEdBQzVDLE9BQU9BLEVBQUs5TCxRQUFRLG9CQUFzQixJQUMzQ1YsU0FDZ0J1TSxTQUFTM00sY0FBYyxnQkFDN0J1QyxVQUFZc0ssT0FBTywyQ0FBMkNDLFFBQVFDLFVBQy9FSixTQUFTbE8sVUFBVXVELE9BQU8sMEJBRS9CLEtBQ0gsSUFBSWdMLGNBQWdCTCxTQUFTM00sY0FBYyxpQkFDM0NnTixjQUFjckosaUJBQWlCLFFBQVMsU0FBU0UsR0FDN0NBLEVBQUVNLGlCQUNGLElBQUk4SSxFQUFPLElBQUlDLEtBQ1hDLEVBQVUsV0FDZEYsRUFBS0csUUFBUUgsRUFBS0ksVUFBWSxHQUM5QkYsR0FBV0YsRUFBS0ssY0FDaEIvTyxTQUFTK04sT0FBUyxtQkFBcUJhLEVBQ3ZDUixTQUFTbE8sVUFBVWEsSUFBSSIsImZpbGUiOiJnbG9iYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2l0ZUhlYWRlckhlaWdodCA9ICQoJy5zaXRlLWhlYWRlcicpLmhlaWdodCgpO1xuXG5pZiAoKHR5cGVvZiAkKCcjY29udGVudF9hcmVhJykuZmluZCgnLnZjYi1hcnRpY2xlJylbMF0gIT09ICd1bmRlZmluZWQnKSkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndmNiLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAvLyBodHRwOi8va3lyZXAuZmNjbXouc2VydmVydHJ1c3QuY29tL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD9UYWJsZT1BcnRpY2xlcyZJRD0xMTBcbiAgICAgICAgICAgIHZhciBwYWdlSUQgPSAkKCcjY29udGVudF9hcmVhJykuZmluZCgnLnZjYi1hcnRpY2xlJylbMF0uaWQuc3BsaXQoJ18nKVsyXTtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmtVUkwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/VGFibGU9QXJ0aWNsZXMmSUQ9JyArIHBhZ2VJRDtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaHJlZiA9IGFkbWluTGlua1VSTDtcbiAgICAgICAgICAgIGFkbWluTGluay5pbm5lclRleHQgPSAnRWRpdCBQYWdlJztcbiAgICAgICAgICAgIGFkbWluTGluay5jbGFzc0xpc3QuYWRkKCdlZGl0U2VhcmNoTGluaycsJ2J0bi1zb2xpZC0tYnJhbmQtdHdvJyk7XG4gICAgICAgICAgICAkKCdib2R5JykucHJlcGVuZChhZG1pbkxpbmspO1xuICAgICAgICB9XG4gICAgfSwgMzAwMCk7XG59XG5cbmlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDEwODApIHtcbiAgICAkKCcubWVudS1pdGVtLS10b3AtbGV2ZWwgLnN1Yi1tZW51LS1sZXZlbC1vbmUgPiBsaTpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCdhY3RpdmUnKS5maW5kKCcuc3ViLW1lbnUtLWxldmVsLXR3bycpLmFkZENsYXNzKCdhY2NvcmRpYW4tb3BlbicpO1xufVxuXG52YXIgcGFnZVBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG5cbnZhciBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLWdlbmVyaWMtJyArIGdldFJhbmRvbUludCgxLCA1KSArICcuanBnKSc7XG52YXIgaGVyb1RleHQgPSAnR3JlZW4gRmFybSBQYXJ0cyc7XG5cbnZhciBicmVhZGNydW1icyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYXRjaGluZ19yZXN1bHRzX3RleHQnKTtcblxuaWYgKGJyZWFkY3J1bWJzKSB7XG4gICAgdmFyIGJyZWFkY3J1bWJBcnJheSA9IGJyZWFkY3J1bWJzLnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQuc3BsaXQoJz4nKTtcbiAgICBoZXJvVGV4dCA9IGJyZWFkY3J1bWJBcnJheVticmVhZGNydW1iQXJyYXkubGVuZ3RoIC0gMV07ICAgIFxufVxuXG5cbmlmIChwYWdlUGF0aC5tYXRjaCgvYXJ0aWNsZXMvaSkgJiYgd2luZG93LmxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcygnSUQ9MzA1JykpIHtcbiAgICAvLyBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLWZpbHRlcnMuanBnKSc7XG4gICAgaGVyb1RleHQgPSAnUXVpY2sgUGFydHMgT3JkZXIgRm9ybTxzcGFuIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IGZvbnQtc2l6ZTogMS4ycmVtO1wiPkFscmVhZHkga25vdyB0aGUgcGFydHMgeW91IG5lZWQgYW5kIG5lZWQgdG8gZ2V0IG1vcmUgdGhhbiBvbmU/PGJyLz5Zb3VcXCdyZSBpbiB0aGUgcmlnaHQgcGxhY2UuPC9zcGFuPic7XG59XG5cbmlmIChwYWdlUGF0aC5tYXRjaCgvYXJ0aWNsZXMvaSkgJiYgd2luZG93LmxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcygnSUQ9Mjg3JykpIHtcbiAgICAvLyBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLWZpbHRlcnMuanBnKSc7XG4gICAgaGVyb1RleHQgPSAnUGFydHMgRGlhZ3JhbSBFeHBsb3Jlcic7XG59XG5cbmlmIChwYWdlUGF0aC5tYXRjaCgvRmlsdGVycy9pKSkge1xuICAgIGhlcm9JbWcgPSAndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tZmlsdGVycy5qcGcpJztcbiAgICAvLyBoZXJvVGV4dCA9ICdPaWwgRmlsdGVycyc7XG59XG5cbmlmIChwYWdlUGF0aC5tYXRjaCgvQ2xlYXJhbmNlL2kpKSB7XG4gICAgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1jbGVhcmFuY2UuanBnKSc7XG4gICAgLy8gaGVyb1RleHQgPSAnT2lsIEZpbHRlcnMnO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL01haW50ZW5hbmNlLUtpdHMvaSkpIHtcbiAgICBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLW1haW50ZW5hbmNlLWtpdHMuanBnKSc7XG4gICAgLy8gaGVyb1RleHQgPSAnTWFpbnRlbmFuY2UgS2l0cyc7XG59XG5cbmlmIChwYWdlUGF0aC5tYXRjaCgvVG95cy9pKSkge1xuICAgIGhlcm9JbWcgPSAndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tdG95cy5qcGcpJztcbiAgICAvLyBoZXJvVGV4dCA9ICdUb3lzJztcbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL0FydGljbGVzLmFzcCcgJiYgd2luZG93LmxvY2F0aW9uLnNlYXJjaCA9PT0gJz9JRD0zMDUnKSB7XG4gICAgaGVyb1RleHQgPSAnUXVpY2sgUGFydHMgT3JkZXInO1xufVxuXG5pZiAocGFnZVBhdGggPT09ICcvc2VhcmNocmVzdWx0cy5hc3AnKSB7XG4gICAgc2VhcmNoU3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICBzZWFyY2hTdHJpbmdBcnJheSA9IHNlYXJjaFN0cmluZy5zcGxpdCgnJicpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGZpbHRlckl0ZW1zKHF1ZXJ5KSB7XG4gICAgICByZXR1cm4gc2VhcmNoU3RyaW5nQXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxdWVyeS50b0xvd2VyQ2FzZSgpKSA+IC0xO1xuICAgICAgfSlcbiAgICB9XG5cbiAgICB2YXIgc2VhcmNoU3RyaW5nVGVybSA9IGZpbHRlckl0ZW1zKCdzZWFyY2g9JykudG9TdHJpbmcoKS5zcGxpdCgnPScpWzFdO1xuICAgIHNlYXJjaFN0cmluZ1Rlcm0gPSBzZWFyY2hTdHJpbmdUZXJtLnNwbGl0KCcrJykuam9pbignICcpLnNwbGl0KCclMjAnKS5qb2luKCcgJyk7XG4gICAgaGVyb1RleHQgPSAnU2VhcmNoIGZvcjogJyArIHNlYXJjaFN0cmluZ1Rlcm07XG5cbiAgICAvKiBTRVQgVVAgUkVTUE9OU0lWRSBTRUFSQ0ggUkVTVUxUUyovXG4gICAgdmFyIHByb2R1Y3RSb3dzID0gJCgnI01haW5Gb3JtIC52NjUtcHJvZHVjdERpc3BsYXkgLnY2NS1wcm9kdWN0RGlzcGxheSB0cicpO1xuICAgIHZhciBwcm9kdWN0c0FycmF5ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RSb3dzLmxlbmd0aDsgaSArPSA1KSB7XG4gICAgICAgIGlmIChwcm9kdWN0Um93c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignZGl2W2l0ZW1wcm9wPVwiYWdncmVnYXRlUmF0aW5nXCJdJykpIHtcbiAgICAgICAgICAgIHZhciBwcm9kdWN0UmF0aW5nID0gcHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJ2RpdltpdGVtcHJvcD1cImFnZ3JlZ2F0ZVJhdGluZ1wiXScpLm91dGVySFRNTDtcbiAgICAgICAgfVxuICAgICAgICBwcm9kdWN0c0FycmF5LnB1c2goe1xuICAgICAgICAgICAgcHJvZHVjdExpbms6IHByb2R1Y3RSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5ocmVmLFxuICAgICAgICAgICAgcHJvZHVjdEltYWdlOiBwcm9kdWN0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmMsXG4gICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJ2Egc3BhbicpLmlubmVyVGV4dCxcbiAgICAgICAgICAgIHByb2R1Y3RQcmljZTogcHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X3Byb2R1Y3RwcmljZScpLmlubmVyVGV4dC5zcGxpdCgnICcpWzFdLFxuICAgICAgICAgICAgcHJvZHVjdFJhdGluZzogcHJvZHVjdFJhdGluZyxcbiAgICAgICAgICAgIHByb2R1Y3REZXNjcmlwdGlvbjogcHJvZHVjdFJvd3NbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcuaW5uZXJUZXh0XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb2R1Y3RSb3dzLnJlbW92ZSgpO1xuICAgIFxuICAgIHZhciBmaXJzdFByb2R1Y3RSb3cgPSAkKCcjTWFpbkZvcm0gLnY2NS1wcm9kdWN0RGlzcGxheSAudjY1LXByb2R1Y3REaXNwbGF5JykuZmluZCgndGJvZHknKTtcblxuICAgIGZpcnN0UHJvZHVjdFJvdy5wcmVwZW5kKCc8dHI+PHRkIGlkPVwiZ2ZwLXJlc3BvbnNpdmUtbGlzdGluZ1wiPjwvdGQ+PC90cj4nKTtcbiAgICB2YXIgZ2ZwUmVzcG9uc2l2ZUxpc3RpbmcgPSAkKCcjZ2ZwLXJlc3BvbnNpdmUtbGlzdGluZycpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYXRpbmcgPSBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RSYXRpbmc7XG4gICAgICAgIGlmICh0eXBlb2YgcmF0aW5nID09PSAndW5kZWZpbmVkJykgeyByYXRpbmcgPSAnJzsgfVxuICAgICAgICBnZnBSZXNwb25zaXZlTGlzdGluZy5hcHBlbmQoJzxhIGhyZWY9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TGluayArICdcIiBjbGFzcz1cImNhcmRcIj48aW1nIHNyYz1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RJbWFnZSArICdcIiBhbHQ9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICdcIj48aDY+JyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdE5hbWUgKyAnPC9oNj48cD4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0UHJpY2UgKyAnPC9wPicgKyByYXRpbmcgKyAnPC9hPicpO1xuICAgIH1cblxufVxuXG5pZiAoKHBhZ2VQYXRoID09PSAnL1Nob3BwaW5nQ2FydC5hc3AnKSB8fCBwYWdlUGF0aCA9PT0gJy9zaG9wcGluZ2NhcnQuYXNwJykge1xuICAgIGhlcm9UZXh0ID0gJ1Nob3BwaW5nIENhcnQnO1xuICAgIHZhciBpdGVtRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdjY1LWNhcnQtaGVhZGVyLWl0ZW1kZXNjcmlwdGlvbiBmb250Jyk7XG4gICAgaWYgKGl0ZW1EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpdGVtRGVzY3JpcHRpb25BcnJheSA9IGl0ZW1EZXNjcmlwdGlvbi5pbm5lckhUTUwuc3BsaXQoJyZuYnNwOycpO1xuICAgICAgICBpdGVtRGVzY3JpcHRpb24uaW5uZXJIVE1MID0gaXRlbURlc2NyaXB0aW9uQXJyYXlbMF0gKyAnICcgKyBpdGVtRGVzY3JpcHRpb25BcnJheVsyXTtcbiAgICB9XG4gICAgdmFyIGVtcHR5Q2FydFJvdyA9ICQoJy52NjUtY2FydC1zaGlwcGluZy1kZXRhaWxzLXJvdycpLmNoaWxkcmVuKCkuZmlyc3QoKTtcbiAgICBpZiAoZW1wdHlDYXJ0Um93Lmxlbmd0aCA8IDApIHtcbiAgICAgICAgZW1wdHlDYXJ0Um93LnNpYmxpbmdzKCkucmVtb3ZlKCk7XG4gICAgICAgIGVtcHR5Q2FydFJvd1swXS5jb2xTcGFuID0gMTI7ICAgIFxuICAgIH1cbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL2xvZ2luLmFzcCcpIHtcbiAgICBoZXJvVGV4dCA9ICdMb2dpbic7XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy90ZXJtcy5hc3AnKSB7XG4gICAgaGVyb1RleHQgPSAnVGVybXMgYW5kIENvbmRpdGlvbnMnO1xufVxuXG5pZiAocGFnZVBhdGggPT09ICcvb25lLXBhZ2UtY2hlY2tvdXQuYXNwJykge1xuICAgIGhlcm9UZXh0ID0gJ0NoZWNrb3V0JztcblxuICAgIGlmIChnZXRDb29raWUoJ1Nlc3Npb24lNUZUb2tlbjRDaGVja291dCcpKSB7XG4gICAgICAgICQoJyNkaXZfYXJ0aWNsZWlkXzExNicpLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8vIHZhciBiaWxsSW5wdXRzID0gW1xuICAgIC8vICAgICBcInY2NS1vbmVwYWdlLWJpbGxmaXJzdG5hbWVcIixcbiAgICAvLyAgICAgXCJ2NjUtb25lcGFnZS1iaWxsbGFzdG5hbWVcIixcbiAgICAvLyAgICAgXCJ2NjUtb25lcGFnZS1iaWxsY29tcGFueW5hbWVcIixcbiAgICAvLyAgICAgXCJ2NjUtb25lcGFnZS1iaWxsYWRkcjFcIixcbiAgICAvLyAgICAgXCJ2NjUtb25lcGFnZS1iaWxsYWRkcjJcIixcbiAgICAvLyAgICAgXCJ2NjUtb25lcGFnZS1iaWxsY2l0eVwiLFxuICAgIC8vICAgICBcInY2NS1vbmVwYWdlLWJpbGxwb3N0YWxjb2RlXCIsXG4gICAgLy8gICAgIFwidjY1LW9uZXBhZ2UtYmlsbHBob25lXCIsXG4gICAgLy8gICAgIFwidjY1LW9uZXBhZ2UtYmlsbGZheFwiLFxuICAgIC8vICAgICBcInY2NS1jYXJ0LWJpbGxlbWFpbFwiXG4gICAgLy8gXTtcblxuICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oZSkge1xuICAgIC8vICAgICBpZiAoYmlsbElucHV0cy5pbmNsdWRlcyhlLnRhcmdldC5pZCkpIHtcbiAgICAvLyAgICAgICAgIHZhciBzZWxmID0gZS50YXJnZXQ7XG4gICAgLy8gICAgICAgICB2YXIgdmFsID0gc2VsZi52YWx1ZTtcbiAgICAvLyAgICAgICAgIG1hdGNoQ2hlY2tvdXRJbnB1dChzZWxmLCB2YWwpO1xuICAgIC8vICAgICB9IFxuICAgIC8vIH0pO1xuXG4gICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgLy8gICAgIGlmIChlLnRhcmdldC5pZCA9PT0gJ2hlYWRlckxvZ2luTGluaycpIHtcbiAgICAvLyAgICAgICAgIHZhciBtb2RhbEhUTUwgPSAkKCcjbG9naW5UZW1wbGF0ZScpO1xuICAgIC8vICAgICAgICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKCdnZnAtbW9kYWwtb3BlbicpLmFwcGVuZChtb2RhbEhUTUwuaHRtbCgpKTtcbiAgICAvLyAgICAgICAgICQoJyNzaWduSW5CdXR0b24nKS5hZGRDbGFzcygnYnRuLXNvbGlkLS1icmFuZCcpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmIChlLnRhcmdldC5pZCA9PT0gJ2NhbmNlbExvZ2luQnV0dG9uJyB8fCBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmlkID09PSAnY2FuY2VsTG9naW5CdXR0b24nKSB7XG4gICAgLy8gICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ2dmcC1tb2RhbC1vcGVuJyk7XG4gICAgLy8gICAgICAgICAkKCcjbG9naW5Nb2RhbCcpLnJlbW92ZSgpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmIChlLnRhcmdldC5pZCA9PT0gJ2xvZ2luRm9yZ290UGFzc3dvcmQnIHx8IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuaWQgPT09IFwibG9naW5Gb3Jnb3RQYXNzd29yZFwiKSB7XG4gICAgLy8gICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9sb2dpbl9zZW5kcGFzcy5hc3AnO1xuICAgIC8vICAgICB9XG4gICAgLy8gfSk7XG5cbn1cblxuaWYgKHBhZ2VQYXRoICE9ICcvJykge1xuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgaGVyb1RleHQpO1xufSBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3ZjYi1hY3RpdmUnKSkge1xuICAgICAgICAgICAgLy8gaHR0cDovL2t5cmVwLmZjY216LnNlcnZlcnRydXN0LmNvbS9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/VGFibGU9QXJ0aWNsZXMmSUQ9XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rVVJMID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvYWRtaW4vQWRtaW5EZXRhaWxzX0dlbmVyaWMuYXNwP1RhYmxlPUFydGljbGVzJklEPTInO1xuICAgICAgICAgICAgdmFyIGFkbWluTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgIGFkbWluTGluay5ocmVmID0gYWRtaW5MaW5rVVJMO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmlubmVyVGV4dCA9ICdFZGl0IFBhZ2UnO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmNsYXNzTGlzdC5hZGQoJ2VkaXRTZWFyY2hMaW5rJywnYnRuLXNvbGlkLS1icmFuZC10d28nKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5wcmVwZW5kKGFkbWluTGluayk7XG4gICAgICAgIH1cbiAgICB9LCAzMDAwKTtcbn1cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuQUNDT1VOVCBMSU5LUyBQQUdFXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKHBhZ2VQYXRoID09PSAnL215YWNjb3VudC5hc3AnKSB7IFxuXG4gICAgdmFyIGFjY291bnRQYWdlQ29udGVudCA9ICQoJyNjb250ZW50X2FyZWEgdGQnKTtcbiAgICB2YXIgYWNjb3VudFdlbGNvbWVNZXNzYWdlID0gYWNjb3VudFBhZ2VDb250ZW50WzBdLmlubmVySFRNTDtcbiAgICB2YXIgYWNjb3VudFdlbGNvbWVNZXNzYWdlT3BlbmVyID0gYWNjb3VudFBhZ2VDb250ZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ2InKS5pbm5lckhUTUw7XG4gICAgdXBkYXRlSGVybyhoZXJvSW1nLCBhY2NvdW50V2VsY29tZU1lc3NhZ2VPcGVuZXIpO1xuXG4gICAgJCgnLmhlcm8nKS5uZXh0KCkuZmluZCgnLnNpdGUtd2lkdGgnKS5wcmVwZW5kKCc8ZGl2IGlkPVwiZ2ZwLWFjY291bnQtZGV0YWlsc1wiPjwvZGl2PicpO1xuICAgIHZhciBnZnBBY2NvdW50RGV0YWlscyA9ICQoJyNnZnAtYWNjb3VudC1kZXRhaWxzJyk7XG5cbiAgICAkKCcjY29udGVudF9hcmVhJykucmVtb3ZlKCk7XG5cbiAgICBnZnBBY2NvdW50RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uIGNsYXNzPVwiYm94LS1oZWFkaW5nLWJyYW5kXCI+PGgyIGNsYXNzPVwiYm94LWhlYWRsaW5lXCI+TXkgT3JkZXJzPC9oMj48dWw+PGxpPjxhIGhyZWY9XCIvb3JkZXJzLmFzcFwiPlJldmlldyBPcmRlcnM8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9vcmRlcnMuYXNwXCI+Q2hhbmdlL0NhbmNlbCBPcmRlcjwvYT48L2xpPjxsaT48YSBocmVmPVwiL29yZGVycy5hc3BcIj5DaGFuZ2UgU2hpcHBpbmcgQWRkcmVzczwvYT48L2xpPjxsaT48YSBocmVmPVwiL29yZGVycy5hc3BcIj5QcmludCBJbnZvaWNlczwvYT48L2xpPjxsaT48YSBocmVmPVwiL29yZGVycy5hc3BcIj5DaGFuZ2UgQmlsbGluZyBBZGRyZXNzPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvcmV0dXJucy5hc3BcIj5SZXR1cm4gSXRlbXM8L2E+PC9saT48L3VsPjwvc2VjdGlvbj4nKTtcbiAgICBnZnBBY2NvdW50RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uIGNsYXNzPVwiYm94LS1oZWFkaW5nLWJyYW5kXCI+PGgyIGNsYXNzPVwiYm94LWhlYWRsaW5lXCI+UGVyc29uYWwgSW5mb3JtYXRpb248L2gyPjx1bD48bGk+PGEgaHJlZj1cIi9BY2NvdW50U2V0dGluZ3MuYXNwP21vZHdoYXQ9Y2hhbmdlX2FcIj5DaGFuZ2UgZS1tYWlsIGFkZHJlc3MsIG9yIHBhc3N3b3JkPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvQWNjb3VudFNldHRpbmdzLmFzcD9tb2R3aGF0PWNoYW5nZV9iXCI+TWFuYWdlIHlvdXIgYmlsbGluZyBhZGRyZXNzZXM8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9NYWlsaW5nTGlzdF91bnN1YnNjcmliZS5hc3BcIj5DaGFuZ2UgbXkgZS1tYWlsIHByZWZlcmVuY2VzPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvQWNjb3VudFNldHRpbmdzLmFzcD9tb2R3aGF0PWNoYW5nZV9zXCI+TWFuYWdlIHlvdXIgc2hpcHBpbmcgYWRkcmVzc2VzPC9hPjwvbGk+PC91bD48L3NlY3Rpb24+Jyk7XG4gICAgZ2ZwQWNjb3VudERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbiBjbGFzcz1cImJveC0taGVhZGluZy1icmFuZFwiPjxoMiBjbGFzcz1cImJveC1oZWFkbGluZVwiPlBheW1lbnQgU2V0dGluZ3M8L2gyPjx1bD48bGk+PGEgaHJlZj1cIi9BY2NvdW50U2V0dGluZ3MuYXNwP21vZHdoYXQ9Y2hhbmdlX2MmbXlhY2NvdW50PVlcIj5FZGl0IG9yIGRlbGV0ZSBhIGNyZWRpdC9kZWJpdCBjYXJkPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvTXlBY2NvdW50X0dpZnRCYWxhbmNlLmFzcFwiPlZpZXcgZ2lmdCBjZXJ0aWZpY2F0ZSBiYWxhbmNlPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvTXlBY2NvdW50X0FwcGx5R2lmdC5hc3BcIj5BcHBseSBhIGdpZnQgY2VydGlmaWNhdGUgdG8geW91ciBhY2NvdW50PC9hPjwvbGk+PC91bD48L3NlY3Rpb24+Jyk7XG4gICAgZ2ZwQWNjb3VudERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbiBjbGFzcz1cImJveC0taGVhZGluZy1icmFuZFwiPjxoMiBjbGFzcz1cImJveC1oZWFkbGluZVwiPk90aGVyIEZlYXR1cmVzPC9oMj48dWw+PGxpPjxhIGhyZWY9XCIvbXlhY2NvdW50X215cmV2aWV3cy5hc3BcIj5FZGl0IGEgcmV2aWV3IHRoYXQgSSB3cm90ZTwvYT48L2xpPjxsaT48YSBocmVmPVwiL1dpc2hMaXN0LmFzcFwiPlZpZXcgbXkgV2lzaCBMaXN0PC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvTXlSZXdhcmRzLmFzcFwiPk15IFJld2FyZHM8L2E+PC9saT48L3VsPjwvc2VjdGlvbj4nKTtcbiAgICBnZnBBY2NvdW50RGV0YWlscy5wYXJlbnQoKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJoYXMtdGV4dC1jZW50ZXIgbWFyLXQtLW1vcmVcIj48YSBocmVmPVwiL2xvZ2luLmFzcD9sb2dvdXQ9eWVzXCIgY2xhc3M9XCJidG4tb3V0bGluZS0tYnJhbmQtdHdvXCI+TG9nb3V0PC9hPjwvZGl2PicpO1xufVxuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbk9SREVSUyBQQUdFXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKHBhZ2VQYXRoID09PSAnL29yZGVycy5hc3AnKSB7XG5cbiAgICBoZXJvVGV4dCA9ICdZb3VyIE9yZGVycydcblxuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgaGVyb1RleHQpO1xuXG4gICAgdmFyIGFsbE9yZGVycyA9ICQoJyNjb250ZW50X2FyZWEgZm9ybSAuY29sb3JzX2xpbmVzX2xpZ2h0IHRib2R5ID4gLmNvbG9yc19iYWNrZ3JvdW5kbmV1dHJhbCA+IHRkOmxhc3QtY2hpbGQgYScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxPcmRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVsZW0gPSBhbGxPcmRlcnNbaV07XG4gICAgICAgIGVsZW0uaW5uZXJIVE1MID0gJ1ZpZXcgT3JkZXInO1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoXCJidG4tc29saWQtLWJyYW5kLXR3b1wiKTtcbiAgICB9XG5cbiAgICAvLyB2YXIgY2xlYW5BbGxPcmRlcnMgPSBbXTtcbiAgICBcbiAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGFsbE9yZGVycy5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgICB2YXIgYWxsSXRlbXNJbk9yZGVyID0gYWxsT3JkZXJzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkOm50aC1jaGlsZCgyKSB0cicpO1xuICAgIC8vICAgICB2YXIgaXRlbVJvd3MgPSBbXTtcblxuICAgIC8vICAgICBmb3IgKHZhciBjID0gMTsgYyA8IGFsbEl0ZW1zSW5PcmRlci5sZW5ndGg7IGMrKykge1xuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coYWxsSXRlbXNJbk9yZGVyW2NdLnF1ZXJ5U2VsZWN0b3IoJ2EnKSk7XG4gICAgLy8gICAgICAgICAvLyBpdGVtUm93cy5wdXNoKHtcbiAgICAvLyAgICAgICAgIC8vICAgICBcIml0ZW1MaW5rXCI6IGFsbEl0ZW1zSW5PcmRlcltjXS5xdWVyeVNlbGVjdG9yKCdhJykuaHJlZlxuICAgIC8vICAgICAgICAgLy8gfSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgLy8gY29uc29sZS5sb2coaXRlbVJvd3NbaV0pO1xuICAgICAgICBcbiAgICAvLyAgICAgY2xlYW5BbGxPcmRlcnMucHVzaCh7XG4gICAgLy8gICAgICAgICBcIm9yZGVyTWV0YURldGFpbHNcIjogYWxsT3JkZXJzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3RkJykuaW5uZXJIVE1MLFxuICAgIC8vICAgICAgICAgXCJvcmRlckxpbmtcIjogYWxsT3JkZXJzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3RkOmxhc3QtY2hpbGQgYScpLmhyZWYsXG4gICAgLy8gICAgICAgICBcIm9yZGVySXRlbXNcIjogaXRlbVJvd3NbaV1cbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfVxuXG4gICAgLy8gJCgnI2NvbnRlbnRfYXJlYSBmb3JtJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ2ZwLW9yZGVyLWxpc3RcIj48dWw+PC91bD48L2Rpdj4nKTtcbiAgICAvLyB2YXIgZ2ZwT3JkZXJMaXN0ID0gJCgnLmdmcC1vcmRlci1saXN0IHVsJyk7XG5cbiAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGNsZWFuQWxsT3JkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gICAgIGdmcE9yZGVyTGlzdC5hcHBlbmQoJzxsaSBjbGFzcz1cImdmcC1vcmRlci1pdGVtXCI+PGRpdiBjbGFzcz1cImdmcC1vcmRlci1pdGVtLS1vcmRlci1tZXRhXCI+JyArIGNsZWFuQWxsT3JkZXJzW2ldLm9yZGVyTWV0YURldGFpbHMgKyAnPGJyIC8+PGEgaHJlZj1cIicgKyBjbGVhbkFsbE9yZGVyc1tpXS5vcmRlckxpbmsgKyAnXCIgY2xhc3M9XCJtYXItdCBidG4tc29saWQtLWJyYW5kLXR3b1wiPlZpZXcgRGV0YWlsczwvYT48L2Rpdj48ZGl2IGNsYXNzPVwiZ2ZwLW9yZGVyLWl0ZW0tLW9yZGVyLWl0ZW1zXCI+JyArIGNsZWFuQWxsT3JkZXJzW2ldLm9yZGVySXRlbXMgKyAnPC9kaXY+PC9saT4nKTtcbiAgICAvLyB9XG5cbn1cblxuXG5cbmlmIChicmVhZGNydW1icykge1xuICAgIGJyZWFkY3J1bWJzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdicmVhZGNydW1icycpO1xufVxuXG52YXIgc2l0ZUhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaXRlLWhlYWRlcicpO1xudmFyIHNpdGVIZWFkZXJPZmZzZXQgPSBzaXRlSGVhZGVyLm9mZnNldFRvcDtcblxuaWYgKHNpdGVIZWFkZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZml4SGVhZGVyKTtcbn1cblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblxuICAgIGlmICgoZS50YXJnZXQuaWQgPT09ICdoYW1idXJnZXInKSB8fCAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYW1idXJnZXItYm94JykpIHx8IChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2hhbWJ1cmdlci1pbm5lcicpKSkge1xuICAgICAgICB0b2dnbGVNZW51KCk7XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaWFuLXRvZ2dsZS0tc2l0ZS1oZWFkZXInKSkge1xuICAgICAgICB0b2dnbGVNZW51QWNjb3JkaWFuKGUpO1xuICAgIH1cblxuICAgIGlmIChlLnRhcmdldC5oYXNoID09PSAnI2NoYXQnKSB7XG4gICAgICAgIHRvZ2dsZUNoYXRXaW5kb3coZSk7XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2hvdy1wYXNzd29yZCcpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICAgICAgdmFyIHBhc3N3b3JkRmllbGQgPSBzZWxmLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgdmFyIHBhc3N3b3JkRmllbGRUeXBlID0gcGFzc3dvcmRGaWVsZC50eXBlO1xuICAgICAgICBpZiAocGFzc3dvcmRGaWVsZC50eXBlID09PSAncGFzc3dvcmQnKSB7XG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkLnR5cGUgPSAndGV4dCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkLnR5cGUgPSAncGFzc3dvcmQnO1xuICAgICAgICB9XG4gICAgfVxuXG59KTtcblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuQ0FURUdPUlkgTElTVElOR1xuPT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmICgodHlwZW9mIFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcpICYmIChwYWdlUGF0aCAhPSAnL3NlYXJjaHJlc3VsdHMuYXNwJykpIHtcbiAgICBoZXJvVGV4dCA9IGRvY3VtZW50LnRpdGxlO1xuXG4gICAgdXBkYXRlSGVybyhoZXJvSW1nLCBoZXJvVGV4dCk7XG5cblxuICAgICQoJyNjb250ZW50X2FyZWEgPiB0YWJsZScpLmZpcnN0KCkuaGlkZSgpO1xuXG4gICAgdmFyIGFsbFN1YkNhdExpbmtzID0gJCgnLnN1YmNhdGVnb3J5X2xpbmsnKTtcbiAgICBjbGVhblN1YkNhdExpbmtzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbFN1YkNhdExpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNsZWFuU3ViQ2F0TGlua3MucHVzaCh7XG4gICAgICAgICAgICBcIm1vZGVsTGlua1wiOiBhbGxTdWJDYXRMaW5rc1tpXS5ocmVmLFxuICAgICAgICAgICAgXCJtb2RlbE51bWJlclwiOiBhbGxTdWJDYXRMaW5rc1tpXS5pbm5lclRleHQucmVwbGFjZSgnSm9obiBEZWVyZScsICcnKS5zcGxpdCgnICcpWzFdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBzb3J0QnlDb250YWluZXIgPSAkKCcjam1lbnVoaWRlJyk7XG5cbiAgICAkKCcjU29ydEJ5JylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgc29ydFZhbCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArICc/c2VhcmNoaW5nPVkmc29ydD0nICsgc29ydFZhbCArICcmY2F0PTImc2hvdz0xNSZwYWdlPTEnO1xuICAgIH0pXG5cbiAgICAvLyBhbGxTdWJDYXRMaW5rcy5maXJzdCgpLmNsb3Nlc3QoJy5jb2xvcnNfYmFja2dyb3VuZG5ldXRyYWwnKS5wYXJlbnQoKS5wcmV2KCkuaHRtbCgnPHRkPjxkaXYgY2xhc3M9XCJnZnAtY2xlYW4tc3ViY2F0ZWdvcmllc1wiPjxoMj5DaG9vc2UgeW91ciBtb2RlbCB0byBzZWUgcGFydHMgdGhhdCBmaXQgeW91ciBtb2RlbDwvaDI+PHNlbGVjdCBjbGFzcz1cImdmcC1zdWJjYXRlZ29yaWVzLXNlbGVjdFwiPjxvcHRpb24+Q2hvb3NlIFlvdXIgTW9kZWw8L29wdGlvbj48L3NlbGVjdD48L2Rpdj48L3RkPicpO1xuXG4gICAgaWYgKCQoJ2ltZ1tzcmM9XCIvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1hZ2VzL1NlYXJjaFJlc3VsdHNfU3ViQ2F0X0FuZ2xlLmdpZlwiXScpLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAkKCdpbWdbc3JjPVwiL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltYWdlcy9TZWFyY2hSZXN1bHRzX1N1YkNhdF9BbmdsZS5naWZcIl0nKS5wYXJlbnRzKCcuY29sb3JzX2JhY2tncm91bmRsaWdodCcpLmFkZENsYXNzKCdyZW1vdmUtZmVhdHVyZWQtY2F0cy10YWJsZScpO1xuXG4gICAgICAgIC8vICQoJ2ltZ1tzcmM9XCIvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1hZ2VzL1NlYXJjaFJlc3VsdHNfU3ViQ2F0X0FuZ2xlLmdpZlwiXScpLnBhcmVudHMoJy5jb2xvcnNfYmFja2dyb3VuZGxpZ2h0JykuYWRkQ2xhc3MoJ3JlbW92ZS1mZWF0dXJlZC1jYXRzLXRhYmxlJykuc2libGluZ3MoKS5hZGRDbGFzcygnZ2ZwLWluaXQtc3ViY2F0ZWdvcmllcycpO1xuXG4gICAgICAgIC8vIHZhciBzdWJDYXRMaW5rcyA9ICQoJy5nZnAtaW5pdC1zdWJjYXRlZ29yaWVzIGEnKTtcblxuICAgICAgICAvLyB2YXIgc3ViQ2F0T3B0aW9ucyA9IFtdO1xuXG4gICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgc3ViQ2F0TGlua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gICAgIHN1YkNhdE9wdGlvbnMucHVzaCh7XG4gICAgICAgIC8vICAgICAgICAgc3ViQ2F0SUQ6IHN1YkNhdExpbmtzW2ldLmhyZWYuc3BsaXQoJy8nKVs0XS5zcGxpdCgnLicpWzBdLFxuICAgICAgICAvLyAgICAgICAgIHN1YkNhdFRleHQ6IHN1YkNhdExpbmtzW2ldLnRpdGxlXG4gICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgc3ViQ2F0T3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyAgICAgJCgnLmdmcC1zdWJjYXRlZ29yaWVzLXNlbGVjdCcpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBzdWJDYXRPcHRpb25zW2ldLnN1YkNhdElEICsgJ1wiPicgKyBzdWJDYXRPcHRpb25zW2ldLnN1YkNhdFRleHQgKyAnPC9vcHRpb24+Jyk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAkKCcucmVtb3ZlLWZlYXR1cmVkLWNhdHMtdGFibGUnKS5wYXJlbnQoKS5yZW1vdmUoKTtcblxuICAgICAgICAvLyB2YXIgY2F0U2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdmcC1zdWJjYXRlZ29yaWVzLXNlbGVjdCcpO1xuICAgICAgICAvLyBjYXRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyAgICAgdmFyIHNlbGVjdGVkQ2F0ID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIC8vICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvLXMvJyArIHNlbGVjdGVkQ2F0ICsgJy5odG0nO1xuICAgICAgICAvLyB9KTtcblxuICAgIH1cblxuICAgIC8vICQoJy5nZnAtY2xlYW4tc3ViY2F0ZWdvcmllcycpLmFwcGVuZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnJlYWRjcnVtYnMgc2VsZWN0Jykub3V0ZXJIVE1MKTtcbiAgICAvLyBjb25zb2xlLmxvZygpO1xuICAgIC8vICQoJy5nZnAtY2xlYW4tc3ViY2F0ZWdvcmllcycpLnNpYmxpbmdzKCkucmVtb3ZlKCk7XG5cblxuICAgIFxuICAgIC8qIFNFVCBVUCBSRVNQT05TSVZFIFNFQVJDSCBSRVNVTFRTKi9cbiAgICB2YXIgcHJvZHVjdFJvd3MgPSAkKCcjTWFpbkZvcm0gLnY2NS1wcm9kdWN0RGlzcGxheSAudjY1LXByb2R1Y3REaXNwbGF5ID4gdGJvZHkgPiB0cicpO1xuICAgIHZhciBwcm9kdWN0c0FycmF5ID0gW107XG5cbiAgICB0aWxlUHJvZHVjdHMocHJvZHVjdFJvd3MpO1xuICAgIFxuXG4gICAgcHJvZHVjdFJvd3MucmVtb3ZlKCk7XG4gICAgXG4gICAgdmFyIGZpcnN0UHJvZHVjdFJvdyA9ICQoJyNNYWluRm9ybSAudjY1LXByb2R1Y3REaXNwbGF5IC52NjUtcHJvZHVjdERpc3BsYXknKS5maW5kKCd0Ym9keScpO1xuXG4gICAgZmlyc3RQcm9kdWN0Um93LnByZXBlbmQoJzx0cj48dGQgaWQ9XCJnZnAtcmVzcG9uc2l2ZS1saXN0aW5nXCI+PC90ZD48L3RyPicpO1xuICAgIHZhciBnZnBSZXNwb25zaXZlTGlzdGluZyA9ICQoJyNnZnAtcmVzcG9uc2l2ZS1saXN0aW5nJyk7XG5cbiAgICB2YXIgY2F0SUQgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy5odG0nKVswXS5zcGxpdCgnLycpWzJdO1xuICAgIFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdHNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmF0aW5nID0gcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0UmF0aW5nO1xuICAgICAgICBpZiAodHlwZW9mIHJhdGluZyA9PT0gJ3VuZGVmaW5lZCcpIHsgcmF0aW5nID0gJyc7IH1cblxuICAgICAgICAvLyBpZiBjbGVhcmFuY2UgY2F0ZWdvcnlcbiAgICAgICAgaWYgKGNhdElEID09PSAnMjQzNicpIHtcbiAgICAgICAgICAgIGdmcFJlc3BvbnNpdmVMaXN0aW5nLmFwcGVuZCgnPGEgaHJlZj1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RMaW5rICsgJ1wiIGNsYXNzPVwiY2FyZFwiPjxpbWcgc3JjPVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdEltYWdlICsgJ1wiIGFsdD1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3ROYW1lICsgJ1wiPjxoNj4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICc8L2g2PjxkZWwgc3R5bGU9XCJmb250LXNpemU6IDAuOWVtO1wiPicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RQcmljZSArICc8L2RlbD48cCBzdHlsZT1cImNvbG9yOiByZWQ7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPlNlZSBQcmljZSBpbiBDYXJ0PC9wPicgKyByYXRpbmcgKyAnPC9hPicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2ZwUmVzcG9uc2l2ZUxpc3RpbmcuYXBwZW5kKCc8YSBocmVmPVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdExpbmsgKyAnXCIgY2xhc3M9XCJjYXJkXCI+PGltZyBzcmM9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0SW1hZ2UgKyAnXCIgYWx0PVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdE5hbWUgKyAnXCI+PGg2PicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3ROYW1lICsgJzwvaDY+PHA+JyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdFByaWNlICsgJzwvcD4nICsgcmF0aW5nICsgJzwvYT4nKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgdmFyIG9mZnNldFByb2R1Y3RzID0gJCgnLnJlc3VsdHNfcGVyX3BhZ2Vfc2VsZWN0JykudmFsKCk7XG5cbiAgICAvLyAkLmFqYXgoe1xuICAgIC8vICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnLy1zLycgKyBjYXRJRCArICcuaHRtP3NlYXJjaGluZz1ZJnNvcnQ9NSZjYXQ9MSZzaG93PScgKyBvZmZzZXRQcm9kdWN0cyArICcmcGFnZT0yJyxcbiAgICAvLyAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAvLyAgICAgc3VjY2VzczogZnVuY3Rpb24oaHRtbCkge1xuICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coaHRtbCk7XG4gICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZygkKGh0bWwpLmZpbmQoJy52NjUtcHJvZHVjdERpc3BsYXkgLnY2NS1wcm9kdWN0RGlzcGxheSA+IHRib2R5ID4gdHInKSk7XG4gICAgLy8gICAgICAgICB0aWxlUHJvZHVjdHMoJChodG1sKS5maW5kKCcjTWFpbkZvcm0gLnY2NS1wcm9kdWN0RGlzcGxheSAudjY1LXByb2R1Y3REaXNwbGF5ID4gdGJvZHkgPiB0cicpKTtcbiAgICAvLyAgICAgfSxcbiAgICAvLyAgICAgZXJyb3I6IGZ1bmN0aW9uKGVycikge1xuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH0pO1xuXG4gICAgLy8gZ2ZwUmVzcG9uc2l2ZUxpc3RpbmcucGFyZW50KCkucGFyZW50KCkuYXBwZW5kKCc8dHI+PHRkPjxkaXYgY2xhc3M9XCJoYXMtdGV4dC1jZW50ZXIgbWFyLXRcIj48YnV0dG9uIGlkPVwibG9hZE1vcmVQcm9kdWN0c1wiIGNsYXNzPVwiYnRuLXNvbGlkLS1icmFuZC10d29cIj5Mb2FkIE1vcmU8L2J1dHRvbj48L2Rpdj48L3RkPjwvdHI+Jyk7XG4gICAgLy8gdmFyIGxvYWRNb3JlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvYWRNb3JlUHJvZHVjdHMnKTtcbiAgICAvLyBsb2FkTW9yZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxvYWRNb3JlUG9zdHMpO1xuXG4gICAgLy8gZnVuY3Rpb24gbG9hZE1vcmVQb3N0cyhlKSB7XG4gICAgLy8gICAgIHZhciBsb2FkSW50ID0gMDtcbiAgICAvLyAgICAgdmFyIHBhZ2UgPSAyO1xuICAgIC8vICAgICBwYWdlKys7XG4gICAgLy8gICAgIGxvYWRJbnQrKztcbiAgICAvLyAgICAgJC5hamF4KHtcbiAgICAvLyAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvLXMvJyArIGNhdElEICsgJy5odG0/c2VhcmNoaW5nPVkmc29ydD01JmNhdD0xJnNob3c9JyArIG9mZnNldFByb2R1Y3RzICsgJyZwYWdlPScgKyBwYWdlLFxuICAgIC8vICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAvLyAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGh0bWwpIHtcbiAgICAvLyAgICAgICAgICAgICB0aWxlUHJvZHVjdHMoJChodG1sKS5maW5kKCcjTWFpbkZvcm0gLnY2NS1wcm9kdWN0RGlzcGxheSAudjY1LXByb2R1Y3REaXNwbGF5ID4gdGJvZHkgPiB0cicpKTtcbiAgICAvLyAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSk7XG4gICAgLy8gICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAvLyAgICAgZm9yICh2YXIgaSA9IChvZmZzZXRQcm9kdWN0cyAqIGxvYWRJbnQpOyBpIDwgcHJvZHVjdHNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coaSwgKG9mZnNldFByb2R1Y3RzICogbG9hZEludCkpO1xuICAgIC8vICAgICAgICAgdmFyIHJhdGluZyA9IHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdFJhdGluZztcbiAgICAvLyAgICAgICAgIGlmICh0eXBlb2YgcmF0aW5nID09PSAndW5kZWZpbmVkJykgeyByYXRpbmcgPSAnJzsgfVxuICAgIC8vICAgICAgICAgZ2ZwUmVzcG9uc2l2ZUxpc3RpbmcuYXBwZW5kKCc8YSBocmVmPVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdExpbmsgKyAnXCIgY2xhc3M9XCJjYXJkXCI+PGltZyBzcmM9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0SW1hZ2UgKyAnXCIgYWx0PVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdE5hbWUgKyAnXCI+PGg2PicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3ROYW1lICsgJzwvaDY+PHA+JyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdFByaWNlICsgJzwvcD4nICsgcmF0aW5nICsgJzwvYT4nKTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIERZTkFNSUMgQURNSU4gTElOS1xuICAgIC8vIGh0dHA6Ly9reXJlcC5mY2Ntei5zZXJ2ZXJ0cnVzdC5jb20vYWRtaW4vQWRtaW5EZXRhaWxzX0dlbmVyaWMuYXNwP3RhYmxlPUNhdGVnb3JpZXMmUGFnZT0xJklEPVxuICAgIHZhciBjYXRJRCA9IFNlYXJjaFBhcmFtcy5zcGxpdCgnJicpWzJdLnN1YnN0cmluZyg0KTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3ZjYi1hY3RpdmUnKSkge1xuICAgICAgICAgICAgdmFyIGFkbWluTGlua1VSTCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD90YWJsZT1DYXRlZ29yaWVzJlBhZ2U9MSZJRD0nICsgY2F0SUQ7XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmhyZWYgPSBhZG1pbkxpbmtVUkw7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaW5uZXJUZXh0ID0gJ0VkaXQgQ2F0ZWdvcnknO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmNsYXNzTGlzdC5hZGQoJ2VkaXRTZWFyY2hMaW5rJywnYnRuLXNvbGlkLS1icmFuZC10d28nKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5wcmVwZW5kKGFkbWluTGluayk7XG4gICAgICAgIH1cbiAgICB9LCAzMDAwKTtcbn1cblxuXG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuUkVTUE9OU0lWRSBTSE9QUElORyBDQVJUXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKChwYWdlUGF0aCA9PT0gJy9TaG9wcGluZ0NhcnQuYXNwJykgfHwgcGFnZVBhdGggPT09ICcvc2hvcHBpbmdjYXJ0LmFzcCcpIHtcbiAgICAvLyB2YXIgcmVDYWxjQnV0dG9uID0gJCgnI2J0blJlY2FsY3VsYXRlJyk7XG4gICAgLy8gdmFyIGNvdXBvbklucHV0ID0gJCgnI3Y2NS1jYXJ0LWNvdXBvbi1lbnRyeS1kZXRhaWxzLWlucHV0Jyk7XG4gICAgLy8gdmFyIGNvdXBvbkJ1dHRvbiA9ICQoJyN2NjUtY2FydC1jb3Vwb24tZW50cnktZGV0YWlscy1idXR0b24nKTtcbiAgICAvLyB2YXIgY2FydFRvdGFsQ29udGFpbmVyID0gJCgnI3Y2NS1jYXJ0LXRvdGFsLWVzdGltYXRlIHRkOmZpcnN0LWNoaWxkJyk7XG4gICAgLy8gdmFyIGNhcnRUb3RhbFZhbHVlID0gY2FydFRvdGFsQ29udGFpbmVyLnRleHQoKS50cmltKCk7XG5cbiAgICAvLyAkKCcjdjY1LWNhcnQtc2hpcHBpbmctZGV0YWlscy13cmFwcGVyJykucmVtb3ZlKCk7XG4gICAgLy8gdmFyIHNob3BwaW5nQ2FydEZvcm0gPSAkKCcjdjY1LWNhcnQtdGFibGUnKS5wYXJlbnQoJ2Zvcm0nKTtcbiAgICAvLyB2YXIgY2FydFJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjdjY1LWNhcnQtdGFibGUgLnY2NS1jYXJ0LWRldGFpbHMtcm93Jyk7XG4gICAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN2NjUtY2FydC10YWJsZSAudjY1LWNhcnQtZ2lmdGNlcnQtZGV0YWlscy1yb3cnKSkge1xuICAgIC8vICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjdjY1LWNhcnQtdGFibGUgLnY2NS1jYXJ0LWdpZnRjZXJ0LWRldGFpbHMtcm93JykpO1xuICAgIC8vIH1cbiAgICAvLyB2YXIgY2xlYW5DYXJ0Um93cyA9IFtdO1xuXG4gICAgLy8gY29uc29sZS5sb2coKTtcbiAgICAvLyBjb25zb2xlLmxvZygpO1xuXG4gICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBjYXJ0Um93cy5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgICB2YXIgcmVtb3ZlTGluayA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJy52NjUtY2FydC1pdGVtLXJlbW92ZS1saW5rJyk7XG4gICAgLy8gICAgIHZhciBwcm9kdWN0SW1hZ2UgPSBjYXJ0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCcudjY1LWNhcnQtZGV0YWlsLXByb2R1Y3RpbWFnZScpLmlubmVySFRNTDtcbiAgICAvLyAgICAgdmFyIHByb2R1Y3ROYW1lID0gY2FydFJvd3NbaV0ucXVlcnlTZWxlY3RvcignLnY2NS1jYXJ0LWRldGFpbHMtdGV4dCAuY2FydC1pdGVtLW5hbWUnKTtcbiAgICAvLyAgICAgdmFyIHF1YW50aXR5SW5wdXQgPSBjYXJ0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lKj1cIlF1YW50aXR5XCJdJyk7XG4gICAgLy8gICAgIHZhciBwcm9kdWN0UHJpY2UgPSBjYXJ0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCd0ZDpudGgtY2hpbGQoOSkgLmNhcnR0ZXh0JykuaW5uZXJUZXh0O1xuICAgIC8vICAgICB2YXIgc3VtUHJpY2UgPSBjYXJ0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCd0ZDpudGgtY2hpbGQoMTEpIC5jYXJ0dGV4dCcpLmlubmVyVGV4dDtcbiAgICAvLyAgICAgY2xlYW5DYXJ0Um93cy5wdXNoKHtcbiAgICAvLyAgICAgICAgIHJlbW92ZUxpbms6IHJlbW92ZUxpbmssXG4gICAgLy8gICAgICAgICBwcm9kdWN0SW1hZ2U6IHByb2R1Y3RJbWFnZSxcbiAgICAvLyAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0TmFtZSxcbiAgICAvLyAgICAgICAgIHF1YW50aXR5SW5wdXQ6IHF1YW50aXR5SW5wdXQsXG4gICAgLy8gICAgICAgICBwcm9kdWN0UHJpY2U6IHByb2R1Y3RQcmljZSxcbiAgICAvLyAgICAgICAgIHN1bVByaWNlOiBzdW1QcmljZVxuICAgIC8vICAgICB9KTtcbiAgICAvLyB9XG5cbiAgICAvLyBzaG9wcGluZ0NhcnRGb3JtLnByZXBlbmQoJzxkaXYgaWQ9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0XCI+PHRhYmxlPjx0aGVhZD48dHI+PHRoIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcHJvZHVjdC1pbWFnZVwiPjwvdGg+PHRoIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcHJvZHVjdC1kZXNjcmlwdGlvblwiPkl0ZW08L3RoPjx0aCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXVuaXQtcHJpY2VcIj5Vbml0IFByaWNlPC90aD48dGggY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1xdWFudGl0eVwiPlF1YW50aXR5PC90aD48dGggY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS11bml0LXRvdGFsXCI+VG90YWw8L3RoPjx0aCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXJlbW92ZS1pdGVtXCI+PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5PjwvdGJvZHk+PC90YWJsZT4nICsgJzxwIGNsYXNzPVwiY2FydC1zdWJ0b3RhbFwiPjxzdHJvbmc+T3JkZXIgU3VidG90YWw6ICcgKyBjYXJ0VG90YWxWYWx1ZSArICc8L3N0cm9uZz48L3A+JyArIGNvdXBvbklucHV0WzBdLm91dGVySFRNTCArIGNvdXBvbkJ1dHRvblswXS5vdXRlckhUTUwgKyByZUNhbGNCdXR0b25bMF0ub3V0ZXJIVE1MICsgJzwvZGl2PicpO1xuXG4gICAgLy8gJCgnI3Y2NS1jYXJ0LXRhYmxlJykucmVtb3ZlKCk7XG5cbiAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGNsZWFuQ2FydFJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgICAgdmFyIGNhcnRUYWJsZSA9ICQoJyNnZnAtcmVzcG9uc2l2ZS1jYXJ0IHRib2R5Jyk7XG4gICAgLy8gICAgIGNhcnRUYWJsZS5hcHBlbmQoJzx0cj48dGQgY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1wcm9kdWN0LWltYWdlXCI+JyArIGNsZWFuQ2FydFJvd3NbaV0ucHJvZHVjdEltYWdlICsgJzwvdGQ+PHRkIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcHJvZHVjdC1kZXNjcmlwdGlvblwiPicgKyBjbGVhbkNhcnRSb3dzW2ldLnByb2R1Y3ROYW1lLmlubmVyVGV4dCArICc8L3RkPjx0ZCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXVuaXQtcHJpY2VcIj4nICsgY2xlYW5DYXJ0Um93c1tpXS5wcm9kdWN0UHJpY2UgKyAnPC90ZD48dGQgY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1xdWFudGl0eVwiPicgKyBjbGVhbkNhcnRSb3dzW2ldLnF1YW50aXR5SW5wdXQub3V0ZXJIVE1MICsgJzwvdGQ+PHRkIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tdW5pdC10b3RhbFwiPicgKyBjbGVhbkNhcnRSb3dzW2ldLnN1bVByaWNlICsgJzwvdGQ+PHRkIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcmVtb3ZlLWl0ZW1cIj4nICsgY2xlYW5DYXJ0Um93c1tpXS5yZW1vdmVMaW5rLm91dGVySFRNTCArICc8L3RkPjwvdHI+Jyk7XG4gICAgLy8gfVxufVxuXG5cblxuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cblJFU1BPTlNJVkUgQ0hFQ0tPVVRcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG4vLyB2YXIgY2hlY2tvdXRDb250YWluZXIgPSAkKCcjdjY1LW9uZXBhZ2UtRGV0YWlsJyk7XG4vLyBpZiAoY2hlY2tvdXRDb250YWluZXIubGVuZ3RoID4gMCkge1xuLy8gICAgIHZhciBiaWxsaW5nSGVhZGVyID0gJCgnI2JpbGxpbmctaGVhZGVyJykuaHRtbCgpO1xuLy8gICAgIHZhciBiaWxsaW5nQ29udGVudCA9ICQoJyN2NjUtb25lcGFnZS1CaWxsaW5nUGFyZW50JykuaHRtbCgpO1xuLy8gICAgIHZhciBzaGlwcGluZ0hlYWRlciA9ICQoJyNzaGlwcGluZy1oZWFkZXInKS5odG1sKCk7XG4vLyAgICAgdmFyIHNoaXBwaW5nQ29udGVudCA9ICQoJyN2NjUtb25lcGFnZS1TaGlwcGluZ1BhcmVudCcpLmh0bWwoKTtcbi8vICAgICB2YXIgYWRkaXRpb25hbEluZm9IZWFkZXIgPSAkKCcudjY1LW9uZXBhZ2UtY3VzdG9tLWhlYWRlci1yb3cnKS5odG1sKCk7XG4vLyAgICAgdmFyIGFkZGl0aW9uYWxJbmZvQ29udGVudCA9ICQoJy52NjUtb25lcGFnZS1jdXN0b20tZGV0YWlscy1yb3cnKS5odG1sKCk7XG4vLyAgICAgdmFyIHNoaXBwaW5nQ29zdEhlYWRlciA9ICQoJyN2NjUtb25lcGFnZS1TaGlwcGluZ0Nvc3RIZWFkZXInKS5odG1sKCk7XG4vLyAgICAgdmFyIHNoaXBwaW5nQ29zdENvbnRlbnQgPSAkKCcjdjY1LW9uZXBhZ2UtU2hpcHBpbmdDb3N0JylbMF0ub3V0ZXJIVE1MO1xuLy8gICAgIHZhciBzaGlwcGluZ1RvdGFscyA9ICQoJyN2NjUtb25lcGFnZS1TaGlwcGluZ0Nvc3RQYXJlbnQnKS5wYXJlbnQoKS5odG1sKCk7XG4vLyAgICAgdmFyIG9yZGVyU3VtbWFyeUl0ZW1zID0gJCgnI3Y2NS1vbmVwYWdlLW9yZGVyc3VtbWFyeS1pdGVtcycpLnBhcmVudCgpLmh0bWwoKTtcbi8vICAgICB2YXIgcGF5bWVudENvbnRlbnQgPSAkKCcjdjY1LW9uZXBhZ2UtcGF5bWVudC1kZXRhaWxzLXBhcmVudC10YWJsZScpWzBdLm91dGVySFRNTDtcbi8vICAgICB2YXIgcGF5bWVudE9wdGlvbnMgPSAkKCcjUGF5bWVudERJVicpO1xuLy8gICAgIHZhciBub1BheW1lbnRPcHRpb25zID0gJCgnI05vUGF5bWVudERJVicpO1xuLy8gICAgIHZhciBzaG93UGF5bWVudEZpZWxkcyA9IG5vUGF5bWVudE9wdGlvbnMubmV4dCgpO1xuLy8gICAgIHZhciBwYXltZW50TWV0aG9kVHlwZSA9IHNob3dQYXltZW50RmllbGRzLm5leHQoKTtcbi8vICAgICB2YXIgc2F2ZWRQYXltZW50c0Jsb2NrID0gcGF5bWVudE1ldGhvZFR5cGUubmV4dCgpO1xuLy8gICAgIGNvbnNvbGUubG9nKHBheW1lbnRPcHRpb25zKTtcbi8vICAgICBjb25zb2xlLmxvZyhub1BheW1lbnRPcHRpb25zKTtcbi8vICAgICBjb25zb2xlLmxvZyhzaG93UGF5bWVudEZpZWxkcyk7XG4vLyAgICAgY29uc29sZS5sb2cocGF5bWVudE1ldGhvZFR5cGUpO1xuLy8gICAgIGNvbnNvbGUubG9nKHNhdmVkUGF5bWVudHNCbG9jayk7XG4vLyAgICAgaWYgKCQoJyN2NjUtb25lcGFnZS1SZWdpc3RyYXRpb25Gb3JtRmllbGRzJykubGVuZ3RoID4gMCkge1xuLy8gICAgICAgICB2YXIgcmVnaXN0cmF0aW9uUGFzc3dvcmQgPSAkKCcjdjY1LW9uZXBhZ2UtUmVnaXN0cmF0aW9uRm9ybUZpZWxkcyBpbnB1dFtuYW1lPVwicGFzc3dvcmRcIl0nKS5maXJzdCgpLmF0dHIoJ2lkJywgJ3Bhc3N3b3JkJyk7XG4vLyAgICAgICAgIHJlZ2lzdHJhdGlvblBhc3N3b3JkID0gJCgnI3Y2NS1vbmVwYWdlLVJlZ2lzdHJhdGlvbkZvcm1GaWVsZHMgaW5wdXRbbmFtZT1cInBhc3N3b3JkXCJdJylbMF0ub3V0ZXJIVE1MO1xuLy8gICAgICAgICB2YXIgcmVnaXN0cmF0aW9uUGFzc3dvcmRDb25maXJtID0gJCgnI3Y2NS1vbmVwYWdlLVJlZ2lzdHJhdGlvbkZvcm1GaWVsZHMgaW5wdXRbbmFtZT1cInBhc3N3b3JkYWdhaW5cIl0nKS5maXJzdCgpLmF0dHIoJ2lkJywgJ3Bhc3N3b3JkLWNvbmZpcm0nKTtcbi8vICAgICAgICAgcmVnaXN0cmF0aW9uUGFzc3dvcmRDb25maXJtID0gJCgnI3Y2NS1vbmVwYWdlLVJlZ2lzdHJhdGlvbkZvcm1GaWVsZHMgaW5wdXRbbmFtZT1cInBhc3N3b3JkYWdhaW5cIl0nKVswXS5vdXRlckhUTUw7XG4vLyAgICAgfVxuLy8gICAgICQoJyNzcGFuX3BheW1lbnRmaWVsZHNfY3JlZGl0X2NhcmQgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDYpIHRkOmZpcnN0LWNoaWxkJykucmVtb3ZlKCk7XG4vLyAgICAgJCgnI3NwYW5fcGF5bWVudGZpZWxkc19jcmVkaXRfY2FyZCA+IHRhYmxlID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoNikgdGQ6bGFzdC1jaGlsZCcpLmF0dHIoJ2NvbHNwYW4nLCAnMScpO1xuICAgIFxuLy8gICAgIC8vICQoJyN2NjUtY2hlY2tvdXQtcGF5bWVudC1oZWFkZXInKS5wYXJlbnQoKS5yZW1vdmUoKTtcbi8vICAgICB2YXIgc3VibWl0T3JkZXIgPSAkKCcjZGl2YnRuU3VibWl0T3JkZXInKTtcbi8vICAgICBzdWJtaXRPcmRlci5maW5kKCdpbWcnKS5yZW1vdmUoKTtcbi8vICAgICBzdWJtaXRPcmRlci5maW5kKCdidXR0b24nKS50ZXh0KCdQbGFjZSBPcmRlcicpLmFkZENsYXNzKCdidG4tc29saWQtLWJyYW5kLXR3bycpO1xuLy8gICAgIHZhciBwbGFjZU9yZGVyID0gc3VibWl0T3JkZXIuaHRtbCgpO1xuLy8gICAgIHN1Ym1pdE9yZGVyLnJlbW92ZSgpO1xuXG4vLyAgICAgLy8gJCgnI3Y2NS1vbmVwYWdlLXBheW1lbnQtZGV0YWlscy1wYXJlbnQtcm93ICNzcGFuX3BheW1lbnRmaWVsZHNfcHVyY2hhc2Vfb3JkZXJfbnVtYmVyIC52NjUtcGF5bWVudC1kZXRhaWxzLWxhYmVsLWNlbGwnKS5odG1sKCdKb2huIERlZXJlIEZpbmFuY2lhbC88YnIgLz5Kb2huIERlZXJlIENDIE51bWJlcicpO1xuICAgIFxuXG5cblxuLy8gICAgIHZhciBvcmRlckNvbW1lbnRzRWxlbSA9ICQoJyN2NjUtb25lcGFnZS1vcmRlcmNvbW1lbnRzLWlucHV0Jyk7XG4vLyAgICAgb3JkZXJDb21tZW50c0VsZW0ucmVtb3ZlKCk7XG4vLyAgICAgJCgnI3Y2NS1vbmVwYWdlLW9yZGVyY29tbWVudHMtcm93JykucGFyZW50KCkucGFyZW50KCkucmVtb3ZlKCk7XG5cblxuICAgIFxuXG4vLyAgICAgY2hlY2tvdXRDb250YWluZXIuaGlkZSgpO1xuLy8gICAgICQoJyN0YWJsZV9jaGVja291dF9jYXJ0MCcpLnJlbW92ZSgpO1xuXG4vLyAgICAgJCgnI0Zvcm1hdExpc3RvZkVycm9yc0RpdicpLmFmdGVyKCc8ZGl2IGlkPVwiZ2ZwLXJlc3BvbnNpdmUtY2hlY2tvdXRcIj48L2Rpdj4nKTtcblxuXG4gICAgXG4vLyAgICAgdmFyIHJlc3BDaGVja291dCA9ICQoJyNnZnAtcmVzcG9uc2l2ZS1jaGVja291dCcpO1xuLy8gICAgIHZhciBjaGVja291dFdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2ZwLXJlc3BvbnNpdmUtY2hlY2tvdXQnKTtcblxuXG4gICAgXG4vLyAgICAgc2V0VXBSZXNwb25zaXZlQ2hlY2tvdXQoKTtcblxuLy8gICAgIHZhciB0ZXJtc0xpbmsgPSAkKCcjYXJ0aWNsZUJvZHlfMTEyJykuc2libGluZ3MoJ3RhYmxlJykuZmluZCgndHI6Zmlyc3QtY2hpbGQgdGQ6bGFzdC1jaGlsZCBhJyk7XG4vLyAgICAgdmFyIHRlcm1zSW5wdXQgPSAkKCdpbnB1dFtuYW1lPVwiT3JkZXJzLkN1c3RvbV9GaWVsZF9UZXJtc29mVXNlXCJdJyk7XG4vLyAgICAgdGVybXNJbnB1dC5wYXJlbnQoKS5yZW1vdmUoKTtcbiAgICBcbi8vICAgICB2YXIgdGVybXNTdGF0ZW1lbnQgPSAkKCcjYXJ0aWNsZUJvZHlfMTEyJykuc2libGluZ3MoJ3RhYmxlJykuZmluZCgndHI6Zmlyc3QtY2hpbGQgdGQ6Zmlyc3QtY2hpbGQnKS5odG1sKHRlcm1zSW5wdXRbMF0ub3V0ZXJIVE1MICsgJ0kgYWdyZWUgdG8gdGhlIDxhIGhyZWY9XCInICsgdGVybXNMaW5rLmF0dHIoJ2hyZWYnKSArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+VGVybXMgYW5kIENvbmRpdGlvbnM8L2E+Jyk7XG5cbi8vICAgICB0ZXJtc0xpbmsucmVtb3ZlKCk7XG5cbi8vICAgICB2YXIgcmV0dXJuc0xpbmsgPSAkKCcjYXJ0aWNsZUJvZHlfMTEyJykuc2libGluZ3MoJ3RhYmxlJykuZmluZCgndHI6bGFzdC1jaGlsZCB0ZDpsYXN0LWNoaWxkIGEnKTtcbi8vICAgICB2YXIgcmV0dXJuc0lucHV0ID0gJCgnaW5wdXRbbmFtZT1cIk9yZGVycy5DdXN0b21fRmllbGRfQWdyZWVSZXR1cm5zXCJdJyk7XG4vLyAgICAgcmV0dXJuc0lucHV0LnBhcmVudCgpLnJlbW92ZSgpO1xuXG4vLyAgICAgdmFyIHJldHVybnNTdGF0ZW1lbnQgPSAkKCcjYXJ0aWNsZUJvZHlfMTEyJykuc2libGluZ3MoJ3RhYmxlJykuZmluZCgndHI6bGFzdC1jaGlsZCB0ZDpmaXJzdC1jaGlsZCcpLmh0bWwocmV0dXJuc0lucHV0WzBdLm91dGVySFRNTCArICdJIGFjY2VwdCB0aGUgPGEgaHJlZj1cIicgKyByZXR1cm5zTGluay5hdHRyKCdocmVmJykgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiPlJldHVybnMgYW5kIFNoaXBwaW5nIFBvbGljaWVzPC9hPicpO1xuICAgIFxuLy8gICAgIHZhciBvcmRlclRvdGFsc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcmRlci10b3RhbHMtY29udGFpbmVyJyk7XG4vLyAgICAgdmFyIG9yZGVyT2Zmc2V0VG9wID0gb3JkZXJUb3RhbHNDb250YWluZXIub2Zmc2V0VG9wO1xuLy8gICAgIHZhciBjaGVja291dFdyYXBUb3AgPSAkKCcjdjY1LW9uZXBhZ2UtQ29udGVudFRhYmxlJykub2Zmc2V0KCkudG9wICsgY2hlY2tvdXRXcmFwLm9mZnNldFRvcDtcbi8vICAgICB2YXIgY2hlY2tvdXRDb250YWluZXJXaWR0aCA9IGNoZWNrb3V0V3JhcC5xdWVyeVNlbGVjdG9yKCcub3JkZXItdG90YWxzLWNvbnRhaW5lcicpLm9mZnNldFdpZHRoO1xuXG4vLyAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICBjaGVja291dENvbnRhaW5lcldpZHRoID0gY2hlY2tvdXRXcmFwLnF1ZXJ5U2VsZWN0b3IoJy5vcmRlci10b3RhbHMtY29udGFpbmVyJykub2Zmc2V0V2lkdGg7XG4vLyAgICAgICAgIGNoZWNrb3V0V3JhcFRvcCA9ICQoJyN2NjUtb25lcGFnZS1Db250ZW50VGFibGUnKS5vZmZzZXQoKS50b3AgKyBjaGVja291dFdyYXAub2Zmc2V0VG9wO1xuLy8gICAgIH0pO1xuICAgIFxuLy8gICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHN0aWNreUNoZWNrb3V0KTtcbi8vIH1cblxuXG5cblxuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbktJTExTSEVFVFxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbiQoJ2ltZ1tzcmM9XCIvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1hZ2VzL2NsZWFyMXgxLmdpZlwiXScpLnJlbW92ZSgpO1xuJCgnLmNvbG9yc19wcmljZWJveCBpbWdbc3JjPVwiL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltYWdlcy9QQm94X0JvcmRlcl9MZWZ0X1RvcC5naWZcIl0nKS5wYXJlbnQoJ3RyJykucmVtb3ZlKCk7XG5pZiAoJCgnI3Y2NS1vbmVwYWdlLWJyZWFkY3J1bWInKSkge1xuICAgICQoJyN2NjUtb25lcGFnZS1icmVhZGNydW1iJykucmVtb3ZlKCk7XG59XG4kKCcjdjY1LW9uZXBhZ2UtQ29weUJpbGxpbmdUb1NoaXBwaW5nTGluaycpLnJlbW92ZSgpO1xuXG5cblxuLypcbj09PT09PT09PT09PT09PT09PT09PT09PT1cblNJTkdMRSBQUk9EVUNUXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaW5nbGUtcHJvZHVjdCcpKSB7XG4gICAgLy8gU0VUVVAgQURNSU4gTElOS1xuICAgIC8vIGh0dHA6Ly9reXJlcC5mY2Ntei5zZXJ2ZXJ0cnVzdC5jb20vYWRtaW4vQWRtaW5EZXRhaWxzX0dlbmVyaWMuYXNwP3RhYmxlPUNhdGVnb3JpZXMmUGFnZT0xJklEPVxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndmNiLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rVVJMID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvYWRtaW4vQWRtaW5EZXRhaWxzX0dlbmVyaWMuYXNwP3RhYmxlPVByb2R1Y3RzX0pvaW5lZCZQYWdlPTEmSUQ9JyArIGdsb2JhbF9DdXJyZW50X1Byb2R1Y3RDb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmhyZWYgPSBhZG1pbkxpbmtVUkw7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaW5uZXJUZXh0ID0gJ0VkaXQgUHJvZHVjdCc7XG4gICAgICAgICAgICBhZG1pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZWRpdFByb2R1Y3RMaW5rJywnYnRuLXNvbGlkLS1icmFuZC10d28nKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5wcmVwZW5kKGFkbWluTGluayk7XG4gICAgICAgIH1cbiAgICB9LCAzMDAwKTtcblxuICAgIHZhciBwYWdlVGl0bGUgPSAkKCcudnAtcHJvZHVjdC10aXRsZScpWzBdLmlubmVyVGV4dDtcblxuICAgIHZhciBwcm9kdWN0RGVzY3JpcHRpb25XcmFwID0gJCgnI3Y2NS1wcm9kdWN0ZGV0YWlsLWFjdGlvbi13cmFwcGVyJyk7XG4gICAgcHJvZHVjdERlc2NyaXB0aW9uV3JhcC5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIikuYXR0cignYWxpZ24nLCAnbGVmdCcpO1xuICAgIHByb2R1Y3REZXNjcmlwdGlvbldyYXAuc2libGluZ3MoKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG5cbiAgICB1cGRhdGVIZXJvKGhlcm9JbWcsIHBhZ2VUaXRsZSk7XG5cbiAgICAvLyBHRVQgVEhFIENPTlRBSU5FUiBBTkQgRFJPUCBJTiBORVcgQ09OVEFJTkVSIEJFRk9SRSBUSEUgRUxFTUVOVCBUTyBCRSBERUxFVEVEXG4gICAgdmFyIHJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lciA9ICQoJyN2NjUtcHJvZHVjdC1wYXJlbnQnKS5uZXh0KCkuZmluZCgnLmNvbG9yc19saW5lc19saWdodCcpLmZpcnN0KCk7XG4gICAgaWYgKHJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lclswXSAmJiByZWxhdGVkUHJvZHVjdHNDb250YWluZXJbMF0uaWQgIT09ICd2NjUtcHJvZHVjdC1yZWxhdGVkJykge1xuICAgICAgICBnZXRSZWxhdGVkUHJvZHVjdHMoKTtcbiAgICB9XG4gICAgXG5cbiAgICAkKCdzcGFuW2l0ZW1wcm9wPVwiZGVzY3JpcHRpb25cIl0nKS5wcmVwZW5kKCc8cCBjbGFzcz1cImgxXCI+JyArIHBhZ2VUaXRsZSArICc8L3A+Jyk7XG5cbiAgICAkKCcjdjY1LXByb2R1Y3QtcGFyZW50ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMikgPiB0ZDpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCdmZWF0dXJlZC1pbWFnZS1wYXJlbnQnKS5zaWJsaW5ncygpLmFkZENsYXNzKCdmZWF0dXJlZC1jb250ZW50LWNvbnRhaW5lcicpO1xuXG5cbiAgICB2YXIgZml0bWVudFN0cmluZyA9ICQoJyNQcm9kdWN0RGV0YWlsX1Byb2R1Y3REZXRhaWxzX2RpdjIgbGknKTtcbiAgICBpZiAoZml0bWVudFN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBmaXRtZW50QXJyYXkgPSBmaXRtZW50U3RyaW5nWzBdLmlubmVyVGV4dC5zcGxpdCgnfCcpLnNvcnQoKTtcbiAgICAgICAgJCgnI1Byb2R1Y3REZXRhaWxfUHJvZHVjdERldGFpbHNfZGl2MicpLnJlbW92ZSgpO1xuICAgICAgICAkKCcjdjY1LXByb2R1Y3QtcGFyZW50ID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMikgPiB0ZDpudGgtY2hpbGQoMikgPiB0YWJsZSA+IHRib2R5ID4gdHIgPiB0ZCA+IHRhYmxlID4gdGJvZHknKS5hcHBlbmQoJzx0cj48dGQgY29sc3Bhbj1cIjJcIj48aDMgY2xhc3M9XCJtYXItdC0tbW9yZVwiPicgKyBwYWdlVGl0bGUgKyAnIGZpdHMgdGhlIGZvbGxvd2luZyBtb2RlbHM6PC9oMz48aHI+PHVsIGlkPVwiZ2ZwLWZpdG1lbnRcIj48L3VsPjwvdHI+PC90ZD4nKTtcbiAgICAgICAgdmFyIGZpdG1lbnRMaXN0ID0gJCgnI2dmcC1maXRtZW50Jyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZml0bWVudEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmaXRtZW50TGlzdC5hcHBlbmQoJzxsaT4nICsgZml0bWVudEFycmF5W2ldICsgJzwvbGk+Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoJCgnI3JlbGF0ZWRfcHJvZHVjdHNfY29udGVudCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9ybWF0UmVsYXRlZFByb2R1Y3RzKCk7XG4gICAgICAgIHZhciBwcm9kdWN0RmVhdHVyZUltYWdlID0gJCgnI3Byb2R1Y3RfcGhvdG9fem9vbV91cmwnKS5wYXJlbnQoJ3RkJyk7XG4gICAgICAgIHByb2R1Y3RGZWF0dXJlSW1hZ2UuYWRkQ2xhc3MoJ2ZlYXR1cmVkLWltYWdlLWNvbnRhaW5lcicpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHByb2R1Y3RGZWF0dXJlSW1hZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZpeFByb2R1Y3RGZWF0dXJlSW1hZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByb2R1Y3REZXNjcmlwdGlvbiA9ICQoJyNwcm9kdWN0X2Rlc2NyaXB0aW9uJyk7XG4gICAgaWYgKHByb2R1Y3REZXNjcmlwdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy5mZWF0dXJlZC1jb250ZW50LWNvbnRhaW5lcicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImdmcC1wcm9kdWN0LWRlc2NyaXB0aW9uXCI+JyArIHByb2R1Y3REZXNjcmlwdGlvbi5odG1sKCkgKyAnPC9kaXY+Jyk7XG4gICAgfVxuXG4gICAgdmFyIHByb2R1Y3RUZWNoU3BlY3MgPSAkKCcjUHJvZHVjdERldGFpbF9UZWNoU3BlY3NfZGl2Jyk7XG4gICAgaWYgKHByb2R1Y3RUZWNoU3BlY3MubGVuZ3RoID4gMCkge1xuXG4gICAgICAgIGlmIChwcm9kdWN0VGVjaFNwZWNzLnRleHQoKS50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHZhciByZXBsYWNlZEJ5ID0gcHJvZHVjdFRlY2hTcGVjcy50ZXh0KCkudHJpbSgpLnNwbGl0KCdUaGlzIEpvaG4gRGVlcmUgUGFydCBoYXMgYmVlbiByZXBsYWNlZCBieSBwYXJ0IG51bWJlciAnKVsxXS5zcGxpdCgnLS0+Jyk7XG4gICAgICAgICAgICBpZiAocHJvZHVjdFRlY2hTcGVjc1swXS50ZXh0Q29udGVudC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAkKCcuZmVhdHVyZWQtY29udGVudC1jb250YWluZXInKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJnZnAtcHJvZHVjdC10ZWNoLXNwZWNzXCI+PGgzPlRoaXMgSm9obiBEZWVyZSBQYXJ0IGhhcyBiZWVuIHJlcGxhY2VkIGJ5IHBhcnQocyk6PC9oMz48aHI+PHVsPjwvdWw+PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VkQnlMaXN0ID0gJCgnLmdmcC1wcm9kdWN0LXRlY2gtc3BlY3MgdWwnKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcGxhY2VkQnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZWRCeUxpc3QuYXBwZW5kKCc8bGk+PGEgaHJlZj1cIi8tcC8nICsgcmVwbGFjZWRCeVtpXSArICcuaHRtXCI+JyArIHJlcGxhY2VkQnlbaV0gKyAnPC9hPjwvbGk+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICB2YXIgcHJvZHVjdEV4dEluZm8gPSAkKCcjUHJvZHVjdERldGFpbF9FeHRJbmZvX2RpdicpO1xuICAgIGlmIChwcm9kdWN0RXh0SW5mby5sZW5ndGggPiAwKSB7XG4gICAgICAgIFxuICAgICAgICBpZiAocHJvZHVjdEV4dEluZm8uaHRtbCgpLnRyaW0oKSAhPT0gXCJcIikge1xuXG4gICAgICAgICAgICB2YXIgcGFydFN1YnMgPSBwcm9kdWN0RXh0SW5mby5odG1sKCkuc3BsaXQoJ1RoaXMgSm9obiBEZWVyZSBQYXJ0IHJlcGxhY2VzIHBhcnQgbnVtYmVyKHMpICcpWzFdLnNwbGl0KCd8Jyk7XG4gICAgICAgICAgICB2YXIgY2xlYW5QYXJ0U3VicyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0U3Vicy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNsZWFuUGFydFN1YnMucHVzaChwYXJ0U3Vic1tpXS50cmltKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY2xlYW5QYXJ0U3Vicyk7XG4gICAgICAgICAgICAkKCcuZmVhdHVyZWQtY29udGVudC1jb250YWluZXInKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJnZnAtcHJvZHVjdC1leHRpbmZvXCI+PGgzPlRoaXMgSm9obiBEZWVyZSBQYXJ0IHJlcGxhY2VzIHBhcnQgbnVtYmVyKHMpOjwvaDM+PGhyPjx1bD48L3VsPjwvZGl2PicpO1xuICAgICAgICAgICAgdmFyIHBhcnRTdWJzTGlzdCA9ICQoJy5nZnAtcHJvZHVjdC1leHRpbmZvIHVsJyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsZWFuUGFydFN1YnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYXJ0U3Vic0xpc3QuYXBwZW5kKCc8bGk+JyArIGNsZWFuUGFydFN1YnNbaV0gKyAnPC9saT4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgdmFyIHZvbHVzdGlvblRhYiA9ICQoJyNQcm9kdWN0RGV0YWlsX1Byb2R1Y3REZXRhaWxzX2RpdicpLnBhcmVudHMoJy5jb2xvcnNfZGVzY3JpcHRpb25ib3gnKTtcbiAgICB2b2x1c3Rpb25UYWIucHJldigpLnJlbW92ZSgpXG4gICAgdm9sdXN0aW9uVGFiLnJlbW92ZSgpO1xuXG59XG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PT1cbkFSVElDTEUgLSBUQUxLIFdJVEggQSBURUNIXG49PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbmlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnYXJ0aWNsZS0tdGFsay13aXRoLWEtdGVjaCcpKSB7XG4gICAgdXBkYXRlSGVybygndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tdGFsay13aXRoLWEtdGVjaC5qcGcpJywgZG9jdW1lbnQudGl0bGUpO1xufVxuXG5cblxuZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gIG1pbiA9IE1hdGguY2VpbChtaW4pO1xuICBtYXggPSBNYXRoLmZsb29yKG1heCk7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluOyAvL1RoZSBtYXhpbXVtIGlzIGluY2x1c2l2ZSBhbmQgdGhlIG1pbmltdW0gaXMgaW5jbHVzaXZlIFxufVxuXG5mdW5jdGlvbiB0b2dnbGVNZW51KCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS1vcGVuJyk7XG4gICAgdmFyIG1lbnVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGFtYnVyZ2VyJyk7XG4gICAgbWVudUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTWVudUFjY29yZGlhbihlKSB7XG4gICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICBpZiAoJChzZWxmKS5wYXJlbnQoKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgJChzZWxmKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoc2VsZikuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWNjb3JkaWFuLW9wZW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAkKHNlbGYpLnBhcmVudCgnLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW4nKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuZmluZCgnLnN1Yi1tZW51LS1sZXZlbC10d28nKS5yZW1vdmVDbGFzcygnYWNjb3JkaWFuLW9wZW4nKTtcbiAgICAkKHNlbGYpLnNpYmxpbmdzKCkuYWRkQ2xhc3MoJ2FjY29yZGlhbi1vcGVuJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUNoYXRXaW5kb3coZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAod2luZG93LmZjV2lkZ2V0LmlzT3BlbigpICE9IHRydWUpIHtcbiAgICAgICAgd2luZG93LmZjV2lkZ2V0Lm9wZW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuZmNXaWRnZXQuY2xvc2UoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhlcm8oaGVyb0ltZywgaGVyb1RleHQpIHtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSBcIi9cIiB8fCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09IFwiL0RlZmF1bHQuYXNwXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB2YXIgaGVyb0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvLS1ub3QtaG9tZScpO1xuICAgIGhlcm9Db250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gaGVyb0ltZztcbiAgICBcbiAgICBpZiAoIXBhZ2VQYXRoLm1hdGNoKC9DbGVhcmFuY2UvaSkpIHtcbiAgICAgICAgdmFyIGhlcm9IZWFkaW5nID0gaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdoMScpO1xuICAgICAgICBoZXJvSGVhZGluZy5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgaGVyb0hlYWRpbmcuaW5uZXJIVE1MID0gaGVyb1RleHQ7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBoZXJvQ29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zaXRlLXdpZHRoJykuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJjdXJyZW50LXNwZWNpYWwtb2ZmZXJzLWl0ZW0tLXRhZ1wiPjxwPjI1JSAtIDUwJSBPZmY8L3A+PC9kaXY+PGRpdiBjbGFzcz1cImN1cnJlbnQtc3BlY2lhbC1vZmZlcnMtaXRlbS0tdGl0bGVcIj48aDQ+Q2xlYXJhbmNlIFNhdmluZ3M8L2g0PjxwIGNsYXNzPVwibWFyLXQtLW1vcmVcIiBzdHlsZT1cImZvbnQtc2l6ZTogMS4zcmVtOyBtYXgtd2lkdGg6IDM5MHB4OyB0ZXh0LXNoYWRvdzogM3B4IDNweCA1cHggcmdiYSgwLDAsMCwwLjcpO1wiPkV2ZXJ5dGhpbmcgaXMgcHJpY2VkIHRvbyBsb3cgdG8gc2hvdyEgQWRkIHRvIHlvdXIgY2FydCB0byBzZWUgeW91ciBzYXZpbmdzLjwvcD48L2Rpdj4nO1xuICAgIGhlcm9Db250YWluZXIucXVlcnlTZWxlY3RvcignLmN1cnJlbnQtc3BlY2lhbC1vZmZlcnMtaXRlbS0tdGFnJykuc3R5bGUucG9zaXRpb24gPSAnc3RhdGljJztcbiAgICBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50LXNwZWNpYWwtb2ZmZXJzLWl0ZW0tLXRpdGxlJykuc3R5bGUucG9zaXRpb24gPSAnc3RhdGljJztcbiAgICBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50LXNwZWNpYWwtb2ZmZXJzLWl0ZW0tLXRhZyBwJykuc3R5bGUuZm9udFNpemUgPSAnMmVtJztcbiAgICBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50LXNwZWNpYWwtb2ZmZXJzLWl0ZW0tLXRhZyBwJykuc3R5bGUudGV4dFRyYW5zZm9ybSA9ICd1cHBlcmNhc2UnO1xuICAgIGhlcm9Db250YWluZXIucXVlcnlTZWxlY3RvcignLmN1cnJlbnQtc3BlY2lhbC1vZmZlcnMtaXRlbS0tdGl0bGUgaDQnKS5zdHlsZS5mb250U2l6ZSA9ICcyLjVlbSc7XG4gICAgaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VycmVudC1zcGVjaWFsLW9mZmVycy1pdGVtLS10aXRsZSBoNCcpLnN0eWxlLnRleHRUcmFuc2Zvcm0gPSAndXBwZXJjYXNlJztcblxufVxuXG5mdW5jdGlvbiBmaXhIZWFkZXIoKSB7XG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gc2l0ZUhlYWRlck9mZnNldCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSBzaXRlSGVhZGVyLm9mZnNldEhlaWdodCArICdweCc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnc2l0ZS1oZWFkZXItZml4ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAwO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3NpdGUtaGVhZGVyLWZpeGVkJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtYXRjaENoZWNrb3V0SW5wdXQoZWxlbSwgdmFsKSB7XG4gICAgdmFyIGlucHV0ID0gZWxlbS5pZC5zcGxpdCgnLScpWzJdLnN1YnN0cmluZyg0KTtcbiAgICB2YXIgc2hpcEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdjY1LW9uZXBhZ2Utc2hpcCcgKyBpbnB1dCk7XG4gICAgaWYgKCFzaGlwRWxlbSkgeyByZXR1cm47IH1cbiAgICBzaGlwRWxlbS52YWx1ZSA9IHZhbDtcbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRlZFByb2R1Y3RzKCkge1xuICAgICQoJyN2NjUtcHJvZHVjdC1wYXJlbnQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSA+IHRkOm50aC1jaGlsZCgyKSA+IHRhYmxlID4gdGJvZHkgPiB0ciA+IHRkID4gdGFibGUgPiB0Ym9keScpLmFwcGVuZCgnPHRyPjx0ZCBjb2xzcGFuPVwiMlwiPjxkaXYgaWQ9XCJnZnAtcmVsYXRlZC1wcm9kdWN0c1wiPjwvZGl2PjwvdHI+PC90ZD4nKTtcblxuICAgIC8vIEdFVCBBTEwgVEhFIERBVEFcbiAgICB2YXIgcmVsYXRlZFByb2R1Y3RzID0gcmVsYXRlZFByb2R1Y3RzQ29udGFpbmVyLmZpbmQoJy52NjUtcHJvZHVjdERpc3BsYXknKTtcbiAgICB2YXIgcmVsYXRlZFByb2R1Y3RUaXRsZSA9IHJlbGF0ZWRQcm9kdWN0cy5maW5kKCd0cjpmaXJzdC1jaGlsZCAudjY1LXByb2R1Y3ROYW1lJyk7XG5cbiAgICB2YXIgcmVsYXRlZFByb2R1Y3RQcmljZSA9IHJlbGF0ZWRQcm9kdWN0cy5maW5kKCd0cjpudGgtY2hpbGQoMikgLnByb2R1Y3RfcHJvZHVjdHByaWNlJyk7XG5cblxuICAgIC8vIENMRUFOIFRIRSBJTUFHRSBQQVRIIFRPIEdFVCBCRVRURVIgUkVTXG4gICAgdmFyIHJlbGF0ZWRQcm9kdWN0SW1nID0gcmVsYXRlZFByb2R1Y3RzLmZpbmQoJ3RyOmxhc3QtY2hpbGQgLnY2NS1wcm9kdWN0UGhvdG8nKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbGF0ZWRQcm9kdWN0SW1nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpbWFnZVBhdGggPSByZWxhdGVkUHJvZHVjdEltZ1tpXS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmM7XG4gICAgICAgIGlmICghaW1hZ2VQYXRoLm1hdGNoKC9ub3Bob3RvLykpIHtcbiAgICAgICAgICAgIHJlbGF0ZWRQcm9kdWN0SW1nW2ldLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYyA9IGltYWdlUGF0aC5zdWJzdHJpbmcoMCwgaW1hZ2VQYXRoLmxlbmd0aCAtIDYpICsgJy0yVCcgKyBpbWFnZVBhdGguc3Vic3RyaW5nKGltYWdlUGF0aC5sZW5ndGggLSA0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdJUEUgVEhFIE9MRCBMSVNUXG4gICAgcmVsYXRlZFByb2R1Y3RzQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgIFxuICAgIC8vIENSRUFURSBSRUxBVEVEIFBST0RVQ1QgQVJSQVlcbiAgICB2YXIgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWxhdGVkUHJvZHVjdFRpdGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBoYXNQcmljZSA9ICcnO1xuICAgICAgICBpZiAocmVsYXRlZFByb2R1Y3RQcmljZVtpXSkge1xuICAgICAgICAgICAgaGFzUHJpY2UgPSByZWxhdGVkUHJvZHVjdFByaWNlW2ldLmlubmVyVGV4dC50cmltKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzLnB1c2goe1xuICAgICAgICAgICAgcHJvZHVjdFRpdGxlOiByZWxhdGVkUHJvZHVjdFRpdGxlW2ldLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5pbm5lckhUTUwudHJpbSgpLFxuICAgICAgICAgICAgcHJvZHVjdExpbms6IHJlbGF0ZWRQcm9kdWN0VGl0bGVbaV0ucXVlcnlTZWxlY3RvcignYScpLmhyZWYsXG4gICAgICAgICAgICBwcm9kdWN0SW1nOiByZWxhdGVkUHJvZHVjdEltZ1tpXS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5vdXRlckhUTUwsXG4gICAgICAgICAgICBwcm9kdWN0UHJpY2U6IGhhc1ByaWNlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICQoJyNnZnAtcmVsYXRlZC1wcm9kdWN0cycpLmh0bWwoJzxoMz5BbHRlcm5hdGl2ZXMgdG8gJyArIHBhZ2VUaXRsZSArICc8L2gzPjx1bCBjbGFzcz1cImNvc3QtYWx0ZXJuYXRpdmVzLWxpc3RcIj48L3VsPicpO1xuXG5cbiAgICB2YXIgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzVGFibGUgPSAkKCcjZ2ZwLXJlbGF0ZWQtcHJvZHVjdHMgLmNvc3QtYWx0ZXJuYXRpdmVzLWxpc3QnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBodG1sID0gJzxsaT48YSBocmVmPVwiJyArIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1tpXS5wcm9kdWN0TGluayArICdcIj48ZGl2IGNsYXNzPVwiY29zdC1hbHRlcm5hdGl2ZXMtbGlzdC0taW1hZ2VcIj4nICsgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzW2ldLnByb2R1Y3RJbWcgKyAnPC9kaXY+PGRpdiBjbGFzcz1cImNvc3QtYWx0ZXJuYXRpdmVzLWxpc3QtLWNvbnRlbnRcIj48cD48c3Ryb25nPicgKyBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHNbaV0ucHJvZHVjdFRpdGxlICsgJzwvc3Ryb25nPjwvcD48cD4nICsgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzW2ldLnByb2R1Y3RQcmljZSArICc8L3A+PC9kaXY+PC9hPjwvbGk+JztcbiAgICAgICAgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzVGFibGUuYXBwZW5kKGh0bWwpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0UmVsYXRlZFByb2R1Y3RzKCkge1xuICAgIHZhciBjbGVhblJlbGF0ZWRQcm9kdWN0cyA9IFtdOztcbiAgICB2YXIgcHJvZHVjdFRpdGxlcyA9ICQoJyNyZWxhdGVkX3Byb2R1Y3RzX2NvbnRlbnQgLnY2NS1wcm9kdWN0TmFtZScpO1xuICAgIHZhciBwcm9kdWN0UHJpY2UgPSAkKCcjcmVsYXRlZF9wcm9kdWN0c19jb250ZW50IC52NjUtcHJvZHVjdEF2YWlsYWJpbGl0eSAucHJvZHVjdF9wcm9kdWN0cHJpY2UnKTtcbiAgICB2YXIgcHJvZHVjdEltZyA9ICQoJyNyZWxhdGVkX3Byb2R1Y3RzX2NvbnRlbnQgLnY2NS1wcm9kdWN0UGhvdG8nKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdFRpdGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaW1nUGF0aCA9IHByb2R1Y3RJbWdbaV0ucXVlcnlTZWxlY3RvcignaW1nJykuc3JjO1xuICAgICAgICBpbWdQYXRoID0gaW1nUGF0aC5zdWJzdHJpbmcoMCwgaW1nUGF0aC5sZW5ndGggLSA2KSArICctMlQnICsgaW1nUGF0aC5zdWJzdHJpbmcoaW1nUGF0aC5sZW5ndGggLSA0KTtcbiAgICAgICAgXG4gICAgICAgIHZhciBoYXNQcmljZSA9ICcnO1xuICAgICAgICBpZiAocHJvZHVjdFByaWNlW2ldKSB7XG4gICAgICAgICAgICB2YXIgaGFzUHJpY2UgPSBwcm9kdWN0UHJpY2VbaV0uaW5uZXJUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgY2xlYW5SZWxhdGVkUHJvZHVjdHMucHVzaCh7XG4gICAgICAgICAgICByZWxhdGVkUHJvZHVjdFRpdGxlOiBwcm9kdWN0VGl0bGVzW2ldLmlubmVyVGV4dCxcbiAgICAgICAgICAgIHJlbGF0ZWRQcm9kdWN0UHJpY2U6IGhhc1ByaWNlLFxuICAgICAgICAgICAgcmVsYXRlZFByb2R1Y3RJbWc6IGltZ1BhdGgsXG4gICAgICAgICAgICByZWxhdGVkUHJvZHVjdExpbms6IHByb2R1Y3RJbWdbaV0ucXVlcnlTZWxlY3RvcignYScpLmhyZWZcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJCgnI3Y2NS1wcm9kdWN0LXJlbGF0ZWQnKS5iZWZvcmUoJzxkaXYgY2xhc3M9XCJzbGlkZXItLXJlbGF0ZWQtcHJvZHVjdHNcIj48aDMgY2xhc3M9XCJoYXMtdGV4dC1jZW50ZXIgbWFyLWJcIj5Qcm9kdWN0cyByZWxhdGVkIHRvICcgKyBwYWdlVGl0bGUgKyAnPC9oMz48ZGl2IGNsYXNzPVwic2xpZGVyXCI+PC9kaXY+PC9kaXY+Jyk7XG4gICAgJCgnI3Y2NS1wcm9kdWN0LXJlbGF0ZWQnKS5yZW1vdmUoKTtcblxuICAgIHZhciBzbGlkZXJSZWxhdGVkUHJvZHVjdHMgPSAkKCcuc2xpZGVyLS1yZWxhdGVkLXByb2R1Y3RzID4gZGl2Jyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsZWFuUmVsYXRlZFByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNsaWRlclJlbGF0ZWRQcm9kdWN0cy5hcHBlbmQoJzxkaXY+PGEgaHJlZj1cIicgKyBjbGVhblJlbGF0ZWRQcm9kdWN0c1tpXS5yZWxhdGVkUHJvZHVjdExpbmsgKyAnXCI+PGltZyBzcmM9XCInICsgY2xlYW5SZWxhdGVkUHJvZHVjdHNbaV0ucmVsYXRlZFByb2R1Y3RJbWcgKyAnXCIgLz4nICsgY2xlYW5SZWxhdGVkUHJvZHVjdHNbaV0ucmVsYXRlZFByb2R1Y3RUaXRsZSArICc8L2E+PC9kaXY+Jyk7XG4gICAgfSAgIFxuXG59XG5cbmZ1bmN0aW9uIGZpeFByb2R1Y3RGZWF0dXJlSW1hZ2UoKSB7XG4gICAgLy8gSUYgU01BTExFUiBTQ1JFRU5TIEdFVCBPVVRUQSBIRVJFXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTA4MCkgeyByZXR1cm47IH1cbiAgICBcbiAgICAvLyBHUkFCQklORyBFTEVNRU5UUyBBTkQgRElNRU5TSU9OU1xuICAgIHZhciBmZWF0dXJlZEltYWdlUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlYXR1cmVkLWltYWdlLXBhcmVudCcpO1xuICAgIHZhciBmZWF0dXJlZENvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVhdHVyZWQtY29udGVudC1jb250YWluZXInKTtcbiAgICB2YXIgZWxlbVdpZHRoID0gMzUwO1xuICAgIHZhciBwcm9kdWN0T2Zmc2V0ID0gcHJvZHVjdEZlYXR1cmVJbWFnZS5vZmZzZXQoKS50b3A7XG4gICAgdmFyIGZlYXR1cmVkQ29udGVudEhlaWdodCA9IGZlYXR1cmVkQ29udGVudENvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG4gICAgdmFyIGZlYXR1cmVkSW1hZ2VIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVhdHVyZWQtaW1hZ2UtY29udGFpbmVyJykub2Zmc2V0SGVpZ2h0O1xuXG5cbiAgICAvLyBMRVQnUyBTQ1JPT0xcbiAgICBpZiAoKHdpbmRvdy5zY3JvbGxZID4gKHByb2R1Y3RPZmZzZXQgLSBzaXRlSGVhZGVySGVpZ2h0KSkgJiYgKHdpbmRvdy5zY3JvbGxZIDwgKHNpdGVIZWFkZXJIZWlnaHQgKyAoZmVhdHVyZWRDb250ZW50SGVpZ2h0IC0gZmVhdHVyZWRJbWFnZUhlaWdodCkpKSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2ZlYXR1cmVkLWltYWdlLWZpeGVkJyk7XG4gICAgICAgIGZlYXR1cmVkSW1hZ2VQYXJlbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoY2FsYygnICsgc2l0ZUhlYWRlckhlaWdodCArICdweCcgKyAnIC0gMXJlbSknO1xuICAgICAgICBmZWF0dXJlZEltYWdlUGFyZW50LnN0eWxlLm1heFdpZHRoID0gZWxlbVdpZHRoICsgJ3B4JztcbiAgICAgICAgZmVhdHVyZWRDb250ZW50Q29udGFpbmVyLnN0eWxlLnBhZGRpbmdMZWZ0ID0gJ2NhbGMoJyArIGVsZW1XaWR0aCArICdweCArIDFyZW0pJztcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5zY3JvbGxZIDwgc2l0ZUhlYWRlckhlaWdodCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2ZlYXR1cmVkLWltYWdlLWZpeGVkJyk7XG4gICAgICAgIGZlYXR1cmVkSW1hZ2VQYXJlbnQuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgIGZlYXR1cmVkSW1hZ2VQYXJlbnQuc3R5bGUubWF4V2lkdGggPSAnYXV0byc7XG4gICAgICAgIGZlYXR1cmVkQ29udGVudENvbnRhaW5lci5zdHlsZS5wYWRkaW5nTGVmdCA9ICcxcmVtJztcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5zY3JvbGxZID4gKHNpdGVIZWFkZXJIZWlnaHQgKyAoZmVhdHVyZWRDb250ZW50SGVpZ2h0IC0gZmVhdHVyZWRJbWFnZUhlaWdodCkpKSB7XG4gICAgICAgIHZhciBuZWdTY3JvbGwgPSAod2luZG93LnNjcm9sbFkgLSAoZmVhdHVyZWRDb250ZW50SGVpZ2h0IC0gZmVhdHVyZWRJbWFnZUhlaWdodCkgLSBzaXRlSGVhZGVySGVpZ2h0KTtcbiAgICAgICAgZmVhdHVyZWRJbWFnZVBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWShjYWxjKC0nICsgbmVnU2Nyb2xsICsgJ3B4ICsgJyArIHNpdGVIZWFkZXJIZWlnaHQgKyAncHgpKSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzdGlja3lDaGVja291dCgpIHtcbiAgICAvLyBJRiBTTUFMTEVSIFNDUkVFTlMgR0VUIE9VVFRBIEhFUkVcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCA2MDApIHsgcmV0dXJuOyB9XG5cbiAgICB2YXIgb3JkZXJEZXRhaWxzID0gJCgnLm9yZGVyLWRldGFpbHMnKTtcbiAgICB2YXIgb3JkZXJEZXRhaWxzSGVpZ2h0ID0gb3JkZXJEZXRhaWxzWzBdLm9mZnNldEhlaWdodDtcbiAgICBcbiAgICB2YXIgb3JkZXJUb3RhbHMgPSAgJCgnLm9yZGVyLXRvdGFscy1jb250YWluZXInKTtcbiAgICB2YXIgb3JkZXJUb3RhbHNIZWlnaHQgPSAgb3JkZXJUb3RhbHNbMF0ub2Zmc2V0SGVpZ2h0O1xuXG4gICAgaWYgKCh3aW5kb3cuc2Nyb2xsWSA+IChjaGVja291dFdyYXBUb3AgLSAoc2l0ZUhlYWRlckhlaWdodCArICgxOCAqIDMpKSkpICYmICh3aW5kb3cuc2Nyb2xsWSA8IChvcmRlckRldGFpbHNIZWlnaHQgKyBvcmRlck9mZnNldFRvcCAtIG9yZGVyVG90YWxzSGVpZ2h0IC0gc2l0ZUhlYWRlckhlaWdodCAtICgxOCAqIDMpKSkpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdjYXJ0LXRvdGFscy1maXhlZCcpO1xuICAgICAgICBvcmRlclRvdGFsc0NvbnRhaW5lci5zdHlsZS5tYXhXaWR0aCA9IGNoZWNrb3V0Q29udGFpbmVyV2lkdGggKyAncHgnO1xuICAgICAgICBvcmRlclRvdGFsc0NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgnICsgKHNpdGVIZWFkZXJIZWlnaHQgKyAoMTggKyAxMSkpICsgJ3B4KSc7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuc2Nyb2xsWSA+ICgob3JkZXJEZXRhaWxzSGVpZ2h0ICsgb3JkZXJPZmZzZXRUb3ApIC0gb3JkZXJUb3RhbHNIZWlnaHQgLSBzaXRlSGVhZGVySGVpZ2h0IC0gKDE4ICogMykpKSB7XG4gICAgICAgIHZhciBuZWdTY3JvbGwgPSAod2luZG93LnNjcm9sbFkgLSBvcmRlclRvdGFsc0hlaWdodCAtIG9yZGVyVG90YWxzSGVpZ2h0IC0gc2l0ZUhlYWRlckhlaWdodCAtICgxOCAqIDMpKTtcbiAgICAgICAgb3JkZXJUb3RhbHNbMF0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoY2FsYygtJyArIG5lZ1Njcm9sbCArICdweCArICcgKyBvcmRlck9mZnNldFRvcCArICdweCkpJztcbiAgICB9IGVsc2Uge1xuICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnY2FydC10b3RhbHMtZml4ZWQnKTsgXG4gICAgICAgb3JkZXJUb3RhbHNDb250YWluZXIuc3R5bGUubWF4V2lkdGggPSAnYXV0byc7XG4gICAgICAgb3JkZXJUb3RhbHNDb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgfSBcbn1cblxuZnVuY3Rpb24gc2V0VXBSZXNwb25zaXZlQ2hlY2tvdXQoKSB7XG4gICAgcmVzcENoZWNrb3V0Lmh0bWwoJzxkaXYgY2xhc3M9XCJvcmRlci1kZXRhaWxzXCI+PHNlY3Rpb24+PGgyPkJpbGxpbmcgSW5mb3JtYXRpb248L2gyPicgKyBiaWxsaW5nQ29udGVudCArICc8L3NlY3Rpb24+PC9kaXY+Jyk7XG5cbiAgICB2YXIgcmVzcENoZWNrb3V0RGV0YWlscyA9ICQoJy5vcmRlci1kZXRhaWxzJyk7XG4gICAgcmVzcENoZWNrb3V0RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uPjxoMj5TaGlwcGluZyBJbmZvcm1hdGlvbjwvaDI+JyArIHNoaXBwaW5nQ29udGVudCArICc8L3NlY3Rpb24+Jyk7XG4gICAgaWYgKHJlZ2lzdHJhdGlvblBhc3N3b3JkKSB7XG4gICAgICAgIHJlc3BDaGVja291dERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbj48aDI+Q3JlYXRlIEEgR3JlZW4gRmFybSBQYXJ0cyBBY2NvdW50PC9oMj48cCBjbGFzcz1cImhhcy10ZXh0LWNlbnRlciBtYXItYiBmb250LXNocmlua1wiPkNyZWF0ZSBhbiBhY2NvdW50IHRvZGF5IGZvciBxdWlja2VyIGNoZWNrb3V0IG9uIGZ1dHVyZSBvcmRlcnMsIGNoZWNraW5nIG9yZGVyIHN0YXR1cyAmIHRyYWNraW5nLCBhbmQgc3BlY2lhbCBvZmZlcnMgc2VudCB2aWEgZW1haWw8L3A+PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj48bGFiZWwgZm9yPVwicGFzc3dvcmRcIj5QYXNzd29yZDwvbGFiZWw+JyArIHJlZ2lzdHJhdGlvblBhc3N3b3JkICsgJzxidXR0b24gY2xhc3M9XCJzaG93LXBhc3N3b3JkXCI+U2hvdzwvYnV0dG9uPjwvZGl2PjxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PGxhYmVsIGZvcj1cInBhc3N3b3JkLWNvbmZpcm1cIj5Db25maXJtIFBhc3N3b3JkPC9sYWJlbD4nICsgcmVnaXN0cmF0aW9uUGFzc3dvcmRDb25maXJtICsgJzxidXR0b24gY2xhc3M9XCJzaG93LXBhc3N3b3JkXCI+U2hvdzwvYnV0dG9uPjwvZGl2Pjwvc2VjdGlvbj4nKTtcbiAgICB9XG5cbiAgICByZXNwQ2hlY2tvdXREZXRhaWxzLmFwcGVuZCgnPHNlY3Rpb24+PGgyPlBheW1lbnQgSW5mb3JtYXRpb248L2gyPicgKyBwYXltZW50T3B0aW9ucy5odG1sKCkgKyAnPC9zZWN0aW9uPicpO1xuXG4gICAgcmVzcENoZWNrb3V0LmFwcGVuZCgnPGRpdiBjbGFzcz1cIm9yZGVyLXRvdGFsc1wiPjxzZWN0aW9uIGNsYXNzPVwib3JkZXItdG90YWxzLWNvbnRhaW5lclwiPjxoMj5Zb3VyIE9yZGVyPC9oMj48L3NlY3Rpb24+PC9kaXY+Jyk7XG5cbiAgICB2YXIgcmVzcE9yZGVyVG90YWxzQ29udGFpbmVyID0gJCgnLm9yZGVyLXRvdGFscy1jb250YWluZXInKTtcblxuICAgIHJlc3BPcmRlclRvdGFsc0NvbnRhaW5lci5hcHBlbmQob3JkZXJTdW1tYXJ5SXRlbXMsIHNoaXBwaW5nQ29zdENvbnRlbnQpO1xuICAgIHJlc3BPcmRlclRvdGFsc0NvbnRhaW5lci5hcHBlbmQoJzxwIHN0eWxlPVwiZm9udC1zaXplOiAwLjg1cmVtO1wiPk9yZGVyIENvbW1lbnRzOiA8ZW0+KG9wdGlvbmFsKTwvZW0+PC9wPicsIG9yZGVyQ29tbWVudHNFbGVtKTtcbiAgICByZXNwT3JkZXJUb3RhbHNDb250YWluZXIuYXBwZW5kKCc8dGFibGUgd2lkdGg9XCIxMDAlXCIgY2xhc3M9XCJhZ3JlZW1lbnRzXCI+PHRib2R5Pjx0cj4nICsgYWRkaXRpb25hbEluZm9Db250ZW50ICsgJzwvdHI+PC90Ym9keT48L3RhYmxlPicsIHBsYWNlT3JkZXIpO1xufVxuXG5mdW5jdGlvbiB0aWxlUHJvZHVjdHMocHJvZHVjdHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSArPSA2KSB7XG4gICAgICAgIGlmIChwcm9kdWN0c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJ2RpdltpdGVtcHJvcD1cImFnZ3JlZ2F0ZVJhdGluZ1wiXScpKSB7XG4gICAgICAgICAgICB2YXIgcHJvZHVjdFJhdGluZyA9IHByb2R1Y3RzW2ldLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignZGl2W2l0ZW1wcm9wPVwiYWdncmVnYXRlUmF0aW5nXCJdJykub3V0ZXJIVE1MO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhc1ByaWNlID0gJyc7XG4gICAgICAgIGlmIChwcm9kdWN0c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X3Byb2R1Y3RwcmljZScpKSB7XG4gICAgICAgICAgICBoYXNQcmljZSA9IHByb2R1Y3RzW2ldLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfcHJvZHVjdHByaWNlJykuaW5uZXJUZXh0LnNwbGl0KCcgJylbMV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvZExpbmsgPSBwcm9kdWN0c1tpXS5xdWVyeVNlbGVjdG9yKCdhJykuaHJlZjtcbiAgICAgICAgdmFyIHByb2RDb2RlID0gcHJvZExpbmsuc3BsaXQoJy8nKTtcbiAgICAgICAgdmFyIHByb2R1Y3RDb2RlID0gcHJvZENvZGVbNF0uc3BsaXQoJy4nKVswXTtcblxuICAgICAgICBwcm9kdWN0c0FycmF5LnB1c2goe1xuICAgICAgICAgICAgcHJvZHVjdENvZGU6IHByb2R1Y3RDb2RlLFxuICAgICAgICAgICAgcHJvZHVjdExpbms6IHByb2R1Y3RzW2ldLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5ocmVmLFxuICAgICAgICAgICAgcHJvZHVjdEltYWdlOiBwcm9kdWN0c1tpXS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmMsXG4gICAgICAgICAgICBwcm9kdWN0TmFtZTogcHJvZHVjdHNbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5pbm5lclRleHQsXG4gICAgICAgICAgICBwcm9kdWN0UHJpY2U6IGhhc1ByaWNlLFxuICAgICAgICAgICAgcHJvZHVjdFJhdGluZzogcHJvZHVjdFJhdGluZ1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdHNBcnJheSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICB2YXIgZGMgPSBkb2N1bWVudC5jb29raWU7XG4gIHZhciBwcmVmaXggPSBuYW1lICsgXCI9XCI7XG4gIHZhciBiZWdpbiA9IGRjLmluZGV4T2YoXCI7IFwiICsgcHJlZml4KTtcbiAgaWYgKGJlZ2luID09IC0xKSB7XG4gICAgICBiZWdpbiA9IGRjLmluZGV4T2YocHJlZml4KTtcbiAgICAgIGlmIChiZWdpbiAhPSAwKSByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICAgIGJlZ2luICs9IDI7XG4gICAgICB2YXIgZW5kID0gZG9jdW1lbnQuY29va2llLmluZGV4T2YoXCI7XCIsIGJlZ2luKTtcbiAgICAgIGlmIChlbmQgPT0gLTEpIHtcbiAgICAgICAgICBlbmQgPSBkYy5sZW5ndGg7XG4gICAgICB9XG4gIH1cbiAgLy8gYmVjYXVzZSB1bmVzY2FwZSBoYXMgYmVlbiBkZXByZWNhdGVkLCByZXBsYWNlZCB3aXRoIGRlY29kZVVSSVxuICAvL3JldHVybiB1bmVzY2FwZShkYy5zdWJzdHJpbmcoYmVnaW4gKyBwcmVmaXgubGVuZ3RoLCBlbmQpKTtcbiAgcmV0dXJuIGRlY29kZVVSSShkYy5zdWJzdHJpbmcoYmVnaW4gKyBwcmVmaXgubGVuZ3RoLCBlbmQpKTtcbn1cblxuXG52YXIgYWxlcnRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQnKTtcblxuaWYgKGFsZXJ0Qm94KSB7XG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmluZGV4T2YoJ2FsZXJ0PWRpc21pc3NlZCcpID49IDBcbiAgICAgICAgfSkubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdGltZUxlZnQgPSBhbGVydEJveC5xdWVyeVNlbGVjdG9yKCcjdGltZUxlZnRSZWQnKTtcbiAgICAgICAgICAgIHRpbWVMZWZ0LmlubmVySFRNTCA9IG1vbWVudCgnU2F0IEp1biAzMCAyMDE4IDIzOjU5OjAwIEdNVC0wNDAwIChFRFQpJykuZW5kT2YoKS5mcm9tTm93KCk7XG4gICAgICAgICAgICBhbGVydEJveC5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC0taXMtbm90LWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfSwgMjAwMCk7XG4gICAgdmFyIGNsb3NlQWxlcnRCb3ggPSBhbGVydEJveC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNsb3NlJyk7XG4gICAgY2xvc2VBbGVydEJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBleHBpcmVzID0gJ2V4cGlyZXM9JztcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIGV4cGlyZXMgKz0gZGF0ZS50b0dNVFN0cmluZygpO1xuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBcImFsZXJ0PWRpc21pc3NlZDtcIiArIGV4cGlyZXM7XG4gICAgICAgIGFsZXJ0Qm94LmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1ub3QtYWN0aXZlJyk7XG4gICAgfSk7XG59Il19
