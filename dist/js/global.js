var siteHeaderHeight=$(".site-header").height();void 0!==$("#content_area").find(".vcb-article")[0]&&setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=$("#content_area").find(".vcb-article")[0].id.split("_")[2],t=window.location.origin+"/admin/AdminDetails_Generic.asp?Table=Articles&ID="+e,r=document.createElement("a");r.href=t,r.innerText="Edit Page",r.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(r)}},3e3),window.innerWidth>1080&&$(".menu-item--top-level .sub-menu--level-one > li:first-child").addClass("active").find(".sub-menu--level-two").addClass("accordian-open");var pagePath=window.location.pathname,heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--generic-"+getRandomInt(1,5)+".jpg)",heroText="Green Farm Parts",breadcrumbs=document.querySelector(".matching_results_text");if(breadcrumbs){var breadcrumbArray=breadcrumbs.previousElementSibling.textContent.split(">");heroText=breadcrumbArray[breadcrumbArray.length-1]}if(pagePath.match(/articles/i)&&window.location.search.includes("ID=305")&&(heroText='Quick Parts Order Form<span style="display: block; font-size: 1.2rem;">Already know the parts you need and need to get more than one?<br/>You\'re in the right place.</span>'),pagePath.match(/articles/i)&&window.location.search.includes("ID=287")&&(heroText="Parts Diagram Explorer"),pagePath.match(/Filters/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--filters.jpg)"),pagePath.match(/Clearance/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--clearance.jpg)"),pagePath.match(/Maintenance-Kits/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--maintenance-kits.jpg)"),pagePath.match(/Toys/i)&&(heroImg="url(/v/vspfiles/templates/gfp-test/img/hero--toys.jpg)"),"/Articles.asp"===pagePath&&"?ID=305"===window.location.search&&(heroText="Quick Parts Order"),"/articles.asp"===pagePath&&"?ID=306"===window.location.search||"/Articles.asp"===pagePath&&"?ID=306"===window.location.search){$(".hero").hide();var pageContent=$("#content_area").html();$("#content_area").parents("section").html(pageContent),$("#content_area").hide()}if("/searchresults.asp"===pagePath||"/SearchResults.asp"===pagePath){function filterItems(e){return searchStringArray.filter(function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1})}searchString=window.location.search,searchStringArray=searchString.split("&");var searchStringTerm=filterItems("search=").toString().split("=")[1];heroText="Search for: "+(searchStringTerm=searchStringTerm.split("+").join(" ").split("%20").join(" "));for(var productRows=$("#MainForm .v65-productDisplay .v65-productDisplay tr"),productsArray=[],i=0;i<productRows.length;i+=5){if(productRows[i].nextElementSibling.querySelector('div[itemprop="aggregateRating"]'))var productRating=productRows[i].nextElementSibling.querySelector('div[itemprop="aggregateRating"]').outerHTML;productsArray.push({productLink:productRows[i].querySelector("a").href,productImage:productRows[i].querySelector("img").src,productName:productRows[i].nextElementSibling.querySelector("a span").innerText,productPrice:productRows[i].nextElementSibling.querySelector(".product_productprice").innerText.split(" ")[1],productRating:productRating,productDescription:productRows[i].nextElementSibling.nextElementSibling.nextElementSibling.innerText})}productRows.remove(),(firstProductRow=$("#MainForm .v65-productDisplay .v65-productDisplay").find("tbody")).prepend('<tr><td id="gfp-responsive-listing"></td></tr>');var gfpResponsiveListing=$("#gfp-responsive-listing");for(i=0;i<productsArray.length;i++){void 0===(rating=productsArray[i].productRating)&&(rating=""),gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+"</h6><p>"+productsArray[i].productPrice+"</p>"+rating+"</a>")}}if("/ShoppingCart.asp"===pagePath||"/shoppingcart.asp"===pagePath){heroText="Shopping Cart";var itemDescription=document.querySelector("#v65-cart-header-itemdescription font");if(null!=itemDescription){var itemDescriptionArray=itemDescription.innerHTML.split("&nbsp;");itemDescription.innerHTML=itemDescriptionArray[0]+" "+itemDescriptionArray[2]}var emptyCartRow=$(".v65-cart-shipping-details-row").children().first();emptyCartRow.length<0&&(emptyCartRow.siblings().remove(),emptyCartRow[0].colSpan=12)}if("/login.asp"===pagePath&&(heroText="Login"),"/terms.asp"===pagePath&&(heroText="Terms and Conditions"),getCookie("Session%5FToken")&&$(".eyebrow-links li:last-child").html('<a href="/orders.asp">Order Status</a>'),"/one-page-checkout.asp"===pagePath&&(heroText="Checkout",getCookie("Session%5FToken4Checkout")&&$("#div_articleid_116").html("<h2>You are logged in!</h2><p>You can choose from your stored addresses below.</p>")),"/"!=pagePath?updateHero(heroImg,heroText):setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?Table=Articles&ID=2",t=document.createElement("a");t.href=e,t.innerText="Edit Page",t.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3),"/myaccount.asp"===pagePath){var accountPageContent=$("#content_area td"),accountWelcomeMessage=accountPageContent[0].innerHTML,accountWelcomeMessageOpener=accountPageContent[0].querySelector("b").innerHTML;updateHero(heroImg,accountWelcomeMessageOpener),$(".hero").next().find(".site-width").prepend('<div id="gfp-account-details"></div>');var gfpAccountDetails=$("#gfp-account-details");$("#content_area").remove(),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">My Orders</h2><ul><li><a href="/orders.asp">Review Orders</a></li><li><a href="/orders.asp">Change/Cancel Order</a></li><li><a href="/orders.asp">Change Shipping Address</a></li><li><a href="/orders.asp">Print Invoices</a></li><li><a href="/orders.asp">Change Billing Address</a></li><li><a href="/returns.asp">Return Items</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Personal Information</h2><ul><li><a href="/AccountSettings.asp?modwhat=change_a">Change e-mail address, or password</a></li><li><a href="/AccountSettings.asp?modwhat=change_b">Manage your billing addresses</a></li><li><a href="/MailingList_unsubscribe.asp">Change my e-mail preferences</a></li><li><a href="/AccountSettings.asp?modwhat=change_s">Manage your shipping addresses</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Payment Settings</h2><ul><li><a href="/AccountSettings.asp?modwhat=change_c&myaccount=Y">Edit or delete a credit/debit card</a></li><li><a href="/MyAccount_GiftBalance.asp">View gift certificate balance</a></li><li><a href="/MyAccount_ApplyGift.asp">Apply a gift certificate to your account</a></li></ul></section>'),gfpAccountDetails.append('<section class="box--heading-brand"><h2 class="box-headline">Other Features</h2><ul><li><a href="/myaccount_myreviews.asp">Edit a review that I wrote</a></li><li><a href="/WishList.asp">View my Wish List</a></li><li><a href="/MyRewards.asp">My Rewards</a></li></ul></section>'),gfpAccountDetails.parent().append('<div class="has-text-center mar-t--more"><a href="/login.asp?logout=yes" class="btn-outline--brand-two">Logout</a></div>')}if("/orders.asp"===pagePath){updateHero(heroImg,heroText="Your Orders");var allOrders=$("#content_area form .colors_lines_light tbody > .colors_backgroundneutral > td:last-child a");for(i=0;i<allOrders.length;i++){var elem=allOrders[i];elem.innerHTML="View Order",elem.classList.add("btn-solid--brand-two")}}breadcrumbs&&breadcrumbs.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("breadcrumbs");var siteHeader=document.querySelector(".site-header"),siteHeaderOffset=siteHeader.offsetTop;if(siteHeader&&window.addEventListener("scroll",fixHeader),document.addEventListener("click",function(e){if(("hamburger"===e.target.id||e.target.classList.contains("hamburger-box")||e.target.classList.contains("hamburger-inner"))&&toggleMenu(),e.target.classList.contains("accordian-toggle--site-header")&&toggleMenuAccordian(e),"#chat"===e.target.hash&&toggleChatWindow(e),e.target.classList.contains("show-password")){e.preventDefault();var t=e.target.parentElement.querySelector("input");t.type;"password"===t.type?t.type="text":t.type="password"}}),"undefined"!=typeof SearchParams&&"/searchresults.asp"!=pagePath){updateHero(heroImg,heroText=document.title),$("#content_area > table").first().hide();var allSubCatLinks=$(".subcategory_link");cleanSubCatLinks=[];for(i=0;i<allSubCatLinks.length;i++)cleanSubCatLinks.push({modelLink:allSubCatLinks[i].href,modelNumber:allSubCatLinks[i].innerText.replace("John Deere","").split(" ")[1]});var sortByContainer=$("#jmenuhide");$("#SortBy")[0].addEventListener("change",function(e){var t=e.target.value;window.location.href=window.location.pathname+"?searching=Y&sort="+t+"&cat=2&show=15&page=1"}),$('img[src="/v/vspfiles/templates/gfp-test/images/SearchResults_SubCat_Angle.gif"]').length>0&&($('img[src="/v/vspfiles/templates/gfp-test/images/SearchResults_SubCat_Angle.gif"]').parents(".colors_backgroundlight").addClass("remove-featured-cats-table"),$(".remove-featured-cats-table").parent().remove());var firstProductRow;productRows=$("#MainForm .v65-productDisplay .v65-productDisplay > tbody > tr"),productsArray=[];tileProducts(productRows),productRows.remove(),(firstProductRow=$("#MainForm .v65-productDisplay .v65-productDisplay").find("tbody")).prepend('<tr><td id="gfp-responsive-listing"></td></tr>');gfpResponsiveListing=$("#gfp-responsive-listing");var catID=window.location.pathname.split(".htm")[0].split("/")[2];for(i=0;i<productsArray.length;i++){var rating;void 0===(rating=productsArray[i].productRating)&&(rating=""),"2436"===catID?gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+'</h6><del style="font-size: 0.9em;">'+productsArray[i].productPrice+'</del><p style="color: red; font-weight: bold;">See Price in Cart</p>'+rating+"</a>"):gfpResponsiveListing.append('<a href="'+productsArray[i].productLink+'" class="card"><img src="'+productsArray[i].productImage+'" alt="'+productsArray[i].productName+'"><h6>'+productsArray[i].productName+"</h6><p>"+productsArray[i].productPrice+"</p>"+rating+"</a>")}var offsetProducts=$(".results_per_page_select").val();catID=SearchParams.split("&")[2].substring(4);setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?table=Categories&Page=1&ID="+catID,t=document.createElement("a");t.href=e,t.innerText="Edit Category",t.classList.add("editSearchLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3)}if($('img[src="/v/vspfiles/templates/gfp-test/images/clear1x1.gif"]').remove(),$('.colors_pricebox img[src="/v/vspfiles/templates/gfp-test/images/PBox_Border_Left_Top.gif"]').parent("tr").remove(),$("#v65-onepage-breadcrumb")&&$("#v65-onepage-breadcrumb").remove(),$("#v65-onepage-CopyBillingToShippingLink").remove(),document.body.classList.contains("single-product")){setTimeout(function(){if(document.body.classList.contains("vcb-active")){var e=window.location.origin+"/admin/AdminDetails_Generic.asp?table=Products_Joined&Page=1&ID="+global_Current_ProductCode.toLowerCase(),t=document.createElement("a");t.href=e,t.innerText="Edit Product",t.classList.add("editProductLink","btn-solid--brand-two"),$("body").prepend(t)}},3e3);var pageTitle=$(".vp-product-title")[0].innerText,productDescriptionWrap=$("#v65-productdetail-action-wrapper");productDescriptionWrap.css("display","block").attr("align","left"),productDescriptionWrap.siblings().css("display","block"),updateHero(heroImg,pageTitle);var relatedProductsContainer=$("#v65-product-parent").next().find(".colors_lines_light").first();relatedProductsContainer[0]&&"v65-product-related"!==relatedProductsContainer[0].id&&getRelatedProducts(),$('span[itemprop="description"]').prepend('<p class="h1">'+pageTitle+"</p>"),$("#v65-product-parent > tbody > tr:nth-child(2) > td:first-child").addClass("featured-image-parent").siblings().addClass("featured-content-container");var fitmentString=$("#ProductDetail_ProductDetails_div2 li");if(fitmentString.length>0){var fitmentArray=fitmentString[0].innerText.split("|").sort();$("#ProductDetail_ProductDetails_div2").remove(),$("#v65-product-parent > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr > td > table > tbody").append('<tr><td colspan="2"><h3 class="mar-t--more">'+pageTitle+' fits the following models:</h3><hr><ul id="gfp-fitment"></ul></tr></td>');var fitmentList=$("#gfp-fitment");for(i=0;i<fitmentArray.length;i++)fitmentList.append("<li>"+fitmentArray[i]+"</li>")}if($("#related_products_content").length>0){formatRelatedProducts();var productFeatureImage=$("#product_photo_zoom_url").parent("td");productFeatureImage.addClass("featured-image-container"),productFeatureImage.length>0&&window.addEventListener("scroll",fixProductFeatureImage)}var productDescription=$("#product_description");productDescription.length>0&&$(".featured-content-container").append('<div class="gfp-product-description">'+productDescription.html()+"</div>");var productTechSpecs=$("#ProductDetail_TechSpecs_div");if(productTechSpecs.length>0&&""!==productTechSpecs.text().trim()){var replacedBy=productTechSpecs.text().trim().split("This John Deere Part has been replaced by part number ")[1].split("--\x3e");if(""!==productTechSpecs[0].textContent.trim()){$(".featured-content-container").append('<div class="gfp-product-tech-specs"><h3>This John Deere Part has been replaced by part(s):</h3><hr><ul></ul></div>');var replacedByList=$(".gfp-product-tech-specs ul");for(i=0;i<replacedBy.length;i++)replacedByList.append('<li><a href="/-p/'+replacedBy[i]+'.htm">'+replacedBy[i]+"</a></li>")}}var productExtInfo=$("#ProductDetail_ExtInfo_div");if(productExtInfo.length>0&&""!==productExtInfo.html().trim()){var partSubs=productExtInfo.html().split("This John Deere Part replaces part number(s) ")[1].split("|"),cleanPartSubs=[];for(i=0;i<partSubs.length;i++)cleanPartSubs.push(partSubs[i].trim());$(".featured-content-container").append('<div class="gfp-product-extinfo"><h3>This John Deere Part replaces part number(s):</h3><hr><ul></ul></div>');var partSubsList=$(".gfp-product-extinfo ul");for(i=0;i<cleanPartSubs.length;i++)partSubsList.append("<li>"+cleanPartSubs[i]+"</li>")}var volustionTab=$("#ProductDetail_ProductDetails_div").parents(".colors_descriptionbox");volustionTab.prev().remove(),volustionTab.remove()}function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function toggleMenu(){document.body.classList.toggle("menu-open"),document.querySelector("#hamburger").classList.toggle("is-active")}function toggleMenuAccordian(e){var t=e.target;if($(t).parent().hasClass("active"))return $(t).parent().removeClass("active"),void $(t).siblings().removeClass("accordian-open");$(t).parent(".menu-item-has-children").addClass("active").siblings().removeClass("active").find(".sub-menu--level-two").removeClass("accordian-open"),$(t).siblings().addClass("accordian-open")}function toggleChatWindow(e){e.preventDefault(),1!=window.fcWidget.isOpen()?window.fcWidget.open():window.fcWidget.close()}function updateHero(e,t){if("/"!==window.location.pathname&&"/Default.asp"!==window.location.pathname){var r=document.querySelector(".hero--not-home");if(r.style.backgroundImage=e,!pagePath.match(/Clearance/i)){var a=r.querySelector("h1");return a.style.opacity=1,void(a.innerHTML=t)}r.style.textAlign="left",r.querySelector(".site-width").innerHTML='<div class="current-special-offers-item--tag"><p>25% - 50% Off</p></div><div class="current-special-offers-item--title"><h4>Clearance Savings</h4><p class="mar-t--more" style="font-size: 1.3rem; max-width: 390px; text-shadow: 3px 3px 5px rgba(0,0,0,0.7);">Everything is priced too low to show! Add to your cart to see your savings.</p></div>',r.querySelector(".current-special-offers-item--tag").style.position="static",r.querySelector(".current-special-offers-item--title").style.position="static",r.querySelector(".current-special-offers-item--tag p").style.fontSize="2em",r.querySelector(".current-special-offers-item--tag p").style.textTransform="uppercase",r.querySelector(".current-special-offers-item--title h4").style.fontSize="2.5em",r.querySelector(".current-special-offers-item--title h4").style.textTransform="uppercase"}}function fixHeader(){window.scrollY>siteHeaderOffset?(document.body.style.paddingTop=siteHeader.offsetHeight+"px",document.body.classList.add("site-header-fixed")):(document.body.style.paddingTop=0,document.body.classList.remove("site-header-fixed"))}function matchCheckoutInput(e,t){var r=e.id.split("-")[2].substring(4),a=document.querySelector("#v65-onepage-ship"+r);a&&(a.value=t)}function getRelatedProducts(){$("#v65-product-parent > tbody > tr:nth-child(2) > td:nth-child(2) > table > tbody > tr > td > table > tbody").append('<tr><td colspan="2"><div id="gfp-related-products"></div></tr></td>');for(var e=relatedProductsContainer.find(".v65-productDisplay"),t=e.find("tr:first-child .v65-productName"),r=e.find("tr:nth-child(2) .product_productprice"),a=e.find("tr:last-child .v65-productPhoto"),i=0;i<a.length;i++){var o=a[i].querySelector("img").src;o.match(/nophoto/)||(a[i].querySelector("img").src=o.substring(0,o.length-6)+"-2T"+o.substring(o.length-4))}relatedProductsContainer.remove();var n=[];for(i=0;i<t.length;i++){var s="";r[i]&&(s=r[i].innerText.trim()),n.push({productTitle:t[i].querySelector("a").innerHTML.trim(),productLink:t[i].querySelector("a").href,productImg:a[i].querySelector("img").outerHTML,productPrice:s})}$("#gfp-related-products").html("<h3>Alternatives to "+pageTitle+'</h3><ul class="cost-alternatives-list"></ul>');var c=$("#gfp-related-products .cost-alternatives-list");for(i=0;i<n.length;i++){var l='<li><a href="'+n[i].productLink+'"><div class="cost-alternatives-list--image">'+n[i].productImg+'</div><div class="cost-alternatives-list--content"><p><strong>'+n[i].productTitle+"</strong></p><p>"+n[i].productPrice+"</p></div></a></li>";c.append(l)}}function formatRelatedProducts(){for(var e=[],t=$("#related_products_content .v65-productName"),r=$("#related_products_content .v65-productAvailability .product_productprice"),a=$("#related_products_content .v65-productPhoto"),i=0;i<t.length;i++){var o=a[i].querySelector("img").src;o=o.substring(0,o.length-6)+"-2T"+o.substring(o.length-4);var n="";if(r[i])n=r[i].innerText;e.push({relatedProductTitle:t[i].innerText,relatedProductPrice:n,relatedProductImg:o,relatedProductLink:a[i].querySelector("a").href})}$("#v65-product-related").before('<div class="slider--related-products"><h3 class="has-text-center mar-b">Products related to '+pageTitle+'</h3><div class="slider"></div></div>'),$("#v65-product-related").remove();var s=$(".slider--related-products > div");for(i=0;i<e.length;i++)s.append('<div><a href="'+e[i].relatedProductLink+'"><img src="'+e[i].relatedProductImg+'" />'+e[i].relatedProductTitle+"</a></div>")}function fixProductFeatureImage(){if(!(window.innerWidth<1080)){var e=document.querySelector(".featured-image-parent"),t=document.querySelector(".featured-content-container"),r=productFeatureImage.offset().top,a=t.offsetHeight,i=document.querySelector(".featured-image-container").offsetHeight;if(window.scrollY>r-siteHeaderHeight&&window.scrollY<siteHeaderHeight+(a-i))document.body.classList.add("featured-image-fixed"),e.style.transform="translateY(calc("+siteHeaderHeight+"px - 1rem)",e.style.maxWidth="350px",t.style.paddingLeft="calc(350px + 1rem)";else if(window.scrollY<siteHeaderHeight)document.body.classList.remove("featured-image-fixed"),e.style.transform="",e.style.maxWidth="auto",t.style.paddingLeft="1rem";else if(window.scrollY>siteHeaderHeight+(a-i)){var o=window.scrollY-(a-i)-siteHeaderHeight;e.style.transform="translateY(calc(-"+o+"px + "+siteHeaderHeight+"px))"}}}function stickyCheckout(){if(!(window.innerWidth<600)){var e=$(".order-details")[0].offsetHeight,t=$(".order-totals-container"),r=t[0].offsetHeight;if(window.scrollY>checkoutWrapTop-(siteHeaderHeight+54)&&window.scrollY<e+orderOffsetTop-r-siteHeaderHeight-54)document.body.classList.add("cart-totals-fixed"),orderTotalsContainer.style.maxWidth=checkoutContainerWidth+"px",orderTotalsContainer.style.transform="translateY("+(siteHeaderHeight+29)+"px)";else if(window.scrollY>e+orderOffsetTop-r-siteHeaderHeight-54){var a=window.scrollY-r-r-siteHeaderHeight-54;t[0].style.transform="translateY(calc(-"+a+"px + "+orderOffsetTop+"px))"}else document.body.classList.remove("cart-totals-fixed"),orderTotalsContainer.style.maxWidth="auto",orderTotalsContainer.style.transform=""}}function setUpResponsiveCheckout(){respCheckout.html('<div class="order-details"><section><h2>Billing Information</h2>'+billingContent+"</section></div>");var e=$(".order-details");e.append("<section><h2>Shipping Information</h2>"+shippingContent+"</section>"),registrationPassword&&e.append('<section><h2>Create A Green Farm Parts Account</h2><p class="has-text-center mar-b font-shrink">Create an account today for quicker checkout on future orders, checking order status & tracking, and special offers sent via email</p><div class="form-group"><label for="password">Password</label>'+registrationPassword+'<button class="show-password">Show</button></div><div class="form-group"><label for="password-confirm">Confirm Password</label>'+registrationPasswordConfirm+'<button class="show-password">Show</button></div></section>'),e.append("<section><h2>Payment Information</h2>"+paymentOptions.html()+"</section>"),respCheckout.append('<div class="order-totals"><section class="order-totals-container"><h2>Your Order</h2></section></div>');var t=$(".order-totals-container");t.append(orderSummaryItems,shippingCostContent),t.append('<p style="font-size: 0.85rem;">Order Comments: <em>(optional)</em></p>',orderCommentsElem),t.append('<table width="100%" class="agreements"><tbody><tr>'+additionalInfoContent+"</tr></tbody></table>",placeOrder)}function tileProducts(e){for(var t=0;t<e.length;t+=6){if(e[t].nextElementSibling.nextElementSibling.querySelector('div[itemprop="aggregateRating"]'))var r=e[t].nextElementSibling.nextElementSibling.querySelector('div[itemprop="aggregateRating"]').outerHTML;var a="";e[t].nextElementSibling.nextElementSibling.querySelector(".product_productprice")&&(a=e[t].nextElementSibling.nextElementSibling.querySelector(".product_productprice").innerText.split(" ")[1]);var i=e[t].querySelector("a").href.split("/")[4].split(".")[0];productsArray.push({productCode:i,productLink:e[t].querySelector("a").href,productImage:e[t].querySelector("img").src,productName:e[t].nextElementSibling.querySelector("a").innerText,productPrice:a,productRating:r}),console.log(productsArray)}}function getCookie(e){var t=document.cookie,r=e+"=",a=t.indexOf("; "+r);if(-1==a){if(0!=(a=t.indexOf(r)))return null}else{a+=2;var i=document.cookie.indexOf(";",a);-1==i&&(i=t.length)}return decodeURI(t.substring(a+r.length,i))}document.body.classList.contains("article--talk-with-a-tech")&&updateHero("url(/v/vspfiles/templates/gfp-test/img/hero--talk-with-a-tech.jpg)",document.title);var alertBox=document.querySelector(".alert");if(alertBox){setTimeout(function(){document.cookie.split(";").filter(function(e){return e.indexOf("alert=dismissed")>=0}).length||("/articles.asp"===pagePath&&"?ID=306"===window.location.search||"/Articles.asp"===pagePath&&"?ID=306"===window.location.search||(alertBox.querySelector("#timeLeftRed").innerHTML=moment("Tue Jul 31 2018 23:59:00 GMT-0400 (EDT)").endOf().fromNow(),alertBox.classList.remove("alert--is-not-active")))},2e3);var closeAlertBox=alertBox.querySelector(".alert--close");closeAlertBox.addEventListener("click",function(e){e.preventDefault();var t=new Date,r="expires=";t.setDate(t.getDate()+1),r+=t.toGMTString(),document.cookie="alert=dismissed;"+r,alertBox.classList.add("alert--is-not-active")})}var alertBottomUp=document.querySelector(".alert--bottom-up");if(alertBottomUp){setTimeout(function(){document.cookie.split(";").filter(function(e){return e.indexOf("shippingAlert=dismissed")>=0}).length||alertBottomUp.classList.remove("alert--is-not-active")},2e3);var closeAlert=alertBottomUp.querySelector(".alert-bottom-up--close");closeAlert.addEventListener("click",function(e){if(e.preventDefault(),e.target.classList.contains("alert-bottom-up--close")||e.target.parentElement.classList.contains("alert-bottom-up--close")){var t=new Date,r="expires=";t.setDate(t.getDate()+14),r+=t.toGMTString(),document.cookie="shippingAlert=dismissed;"+r,alertBottomUp.classList.add("alert--is-not-active")}})}var cartErrorMessage=$(".v65-error-list-container li");'Coupon code "GREASEGUN" is not valid.'===cartErrorMessage.text()&&cartErrorMessage.text("Your cart total is less than the required $199 for the coupon code.");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyJdLCJuYW1lcyI6WyJzaXRlSGVhZGVySGVpZ2h0IiwiJCIsImhlaWdodCIsImZpbmQiLCJzZXRUaW1lb3V0IiwiZG9jdW1lbnQiLCJib2R5IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJwYWdlSUQiLCJpZCIsInNwbGl0IiwiYWRtaW5MaW5rVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJhZG1pbkxpbmsiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImlubmVyVGV4dCIsImFkZCIsInByZXBlbmQiLCJpbm5lcldpZHRoIiwiYWRkQ2xhc3MiLCJwYWdlUGF0aCIsInBhdGhuYW1lIiwiaGVyb0ltZyIsImdldFJhbmRvbUludCIsImhlcm9UZXh0IiwiYnJlYWRjcnVtYnMiLCJxdWVyeVNlbGVjdG9yIiwiYnJlYWRjcnVtYkFycmF5IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInRleHRDb250ZW50IiwibGVuZ3RoIiwibWF0Y2giLCJzZWFyY2giLCJpbmNsdWRlcyIsImhpZGUiLCJwYWdlQ29udGVudCIsImh0bWwiLCJwYXJlbnRzIiwiZmlsdGVySXRlbXMiLCJxdWVyeSIsInNlYXJjaFN0cmluZ0FycmF5IiwiZmlsdGVyIiwiZWwiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJzZWFyY2hTdHJpbmciLCJzZWFyY2hTdHJpbmdUZXJtIiwidG9TdHJpbmciLCJqb2luIiwicHJvZHVjdFJvd3MiLCJwcm9kdWN0c0FycmF5IiwiaSIsIm5leHRFbGVtZW50U2libGluZyIsInByb2R1Y3RSYXRpbmciLCJvdXRlckhUTUwiLCJwdXNoIiwicHJvZHVjdExpbmsiLCJwcm9kdWN0SW1hZ2UiLCJzcmMiLCJwcm9kdWN0TmFtZSIsInByb2R1Y3RQcmljZSIsInByb2R1Y3REZXNjcmlwdGlvbiIsInJlbW92ZSIsImZpcnN0UHJvZHVjdFJvdyIsImdmcFJlc3BvbnNpdmVMaXN0aW5nIiwicmF0aW5nIiwiYXBwZW5kIiwiaXRlbURlc2NyaXB0aW9uIiwiaXRlbURlc2NyaXB0aW9uQXJyYXkiLCJpbm5lckhUTUwiLCJlbXB0eUNhcnRSb3ciLCJjaGlsZHJlbiIsImZpcnN0Iiwic2libGluZ3MiLCJjb2xTcGFuIiwiZ2V0Q29va2llIiwidXBkYXRlSGVybyIsImFjY291bnRQYWdlQ29udGVudCIsImFjY291bnRXZWxjb21lTWVzc2FnZSIsImFjY291bnRXZWxjb21lTWVzc2FnZU9wZW5lciIsIm5leHQiLCJnZnBBY2NvdW50RGV0YWlscyIsInBhcmVudCIsImFsbE9yZGVycyIsImVsZW0iLCJwYXJlbnRFbGVtZW50Iiwic2l0ZUhlYWRlciIsInNpdGVIZWFkZXJPZmZzZXQiLCJvZmZzZXRUb3AiLCJhZGRFdmVudExpc3RlbmVyIiwiZml4SGVhZGVyIiwiZSIsInRhcmdldCIsInRvZ2dsZU1lbnUiLCJ0b2dnbGVNZW51QWNjb3JkaWFuIiwiaGFzaCIsInRvZ2dsZUNoYXRXaW5kb3ciLCJwcmV2ZW50RGVmYXVsdCIsInBhc3N3b3JkRmllbGQiLCJ0eXBlIiwiU2VhcmNoUGFyYW1zIiwidGl0bGUiLCJhbGxTdWJDYXRMaW5rcyIsImNsZWFuU3ViQ2F0TGlua3MiLCJtb2RlbExpbmsiLCJtb2RlbE51bWJlciIsInJlcGxhY2UiLCJzb3J0QnlDb250YWluZXIiLCJzb3J0VmFsIiwidmFsdWUiLCJ0aWxlUHJvZHVjdHMiLCJjYXRJRCIsIm9mZnNldFByb2R1Y3RzIiwidmFsIiwic3Vic3RyaW5nIiwiZ2xvYmFsX0N1cnJlbnRfUHJvZHVjdENvZGUiLCJwYWdlVGl0bGUiLCJwcm9kdWN0RGVzY3JpcHRpb25XcmFwIiwiY3NzIiwiYXR0ciIsInJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lciIsImdldFJlbGF0ZWRQcm9kdWN0cyIsImZpdG1lbnRTdHJpbmciLCJmaXRtZW50QXJyYXkiLCJzb3J0IiwiZml0bWVudExpc3QiLCJmb3JtYXRSZWxhdGVkUHJvZHVjdHMiLCJwcm9kdWN0RmVhdHVyZUltYWdlIiwiZml4UHJvZHVjdEZlYXR1cmVJbWFnZSIsInByb2R1Y3RUZWNoU3BlY3MiLCJ0ZXh0IiwidHJpbSIsInJlcGxhY2VkQnkiLCJyZXBsYWNlZEJ5TGlzdCIsInByb2R1Y3RFeHRJbmZvIiwicGFydFN1YnMiLCJjbGVhblBhcnRTdWJzIiwicGFydFN1YnNMaXN0Iiwidm9sdXN0aW9uVGFiIiwicHJldiIsIm1pbiIsIm1heCIsIk1hdGgiLCJjZWlsIiwiZmxvb3IiLCJyYW5kb20iLCJ0b2dnbGUiLCJzZWxmIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImZjV2lkZ2V0IiwiaXNPcGVuIiwib3BlbiIsImNsb3NlIiwiaGVyb0NvbnRhaW5lciIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiaGVyb0hlYWRpbmciLCJvcGFjaXR5IiwidGV4dEFsaWduIiwicG9zaXRpb24iLCJmb250U2l6ZSIsInRleHRUcmFuc2Zvcm0iLCJzY3JvbGxZIiwicGFkZGluZ1RvcCIsIm9mZnNldEhlaWdodCIsIm1hdGNoQ2hlY2tvdXRJbnB1dCIsImlucHV0Iiwic2hpcEVsZW0iLCJyZWxhdGVkUHJvZHVjdHMiLCJyZWxhdGVkUHJvZHVjdFRpdGxlIiwicmVsYXRlZFByb2R1Y3RQcmljZSIsInJlbGF0ZWRQcm9kdWN0SW1nIiwiaW1hZ2VQYXRoIiwiY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzIiwiaGFzUHJpY2UiLCJwcm9kdWN0VGl0bGUiLCJwcm9kdWN0SW1nIiwiY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzVGFibGUiLCJjbGVhblJlbGF0ZWRQcm9kdWN0cyIsInByb2R1Y3RUaXRsZXMiLCJpbWdQYXRoIiwicmVsYXRlZFByb2R1Y3RMaW5rIiwiYmVmb3JlIiwic2xpZGVyUmVsYXRlZFByb2R1Y3RzIiwiZmVhdHVyZWRJbWFnZVBhcmVudCIsImZlYXR1cmVkQ29udGVudENvbnRhaW5lciIsInByb2R1Y3RPZmZzZXQiLCJvZmZzZXQiLCJ0b3AiLCJmZWF0dXJlZENvbnRlbnRIZWlnaHQiLCJmZWF0dXJlZEltYWdlSGVpZ2h0IiwidHJhbnNmb3JtIiwibWF4V2lkdGgiLCJlbGVtV2lkdGgiLCJwYWRkaW5nTGVmdCIsIm5lZ1Njcm9sbCIsInN0aWNreUNoZWNrb3V0Iiwib3JkZXJEZXRhaWxzSGVpZ2h0Iiwib3JkZXJUb3RhbHMiLCJvcmRlclRvdGFsc0hlaWdodCIsImNoZWNrb3V0V3JhcFRvcCIsIm9yZGVyT2Zmc2V0VG9wIiwib3JkZXJUb3RhbHNDb250YWluZXIiLCJjaGVja291dENvbnRhaW5lcldpZHRoIiwic2V0VXBSZXNwb25zaXZlQ2hlY2tvdXQiLCJyZXNwQ2hlY2tvdXQiLCJiaWxsaW5nQ29udGVudCIsInJlc3BDaGVja291dERldGFpbHMiLCJzaGlwcGluZ0NvbnRlbnQiLCJyZWdpc3RyYXRpb25QYXNzd29yZCIsInJlZ2lzdHJhdGlvblBhc3N3b3JkQ29uZmlybSIsInBheW1lbnRPcHRpb25zIiwicmVzcE9yZGVyVG90YWxzQ29udGFpbmVyIiwib3JkZXJTdW1tYXJ5SXRlbXMiLCJzaGlwcGluZ0Nvc3RDb250ZW50Iiwib3JkZXJDb21tZW50c0VsZW0iLCJhZGRpdGlvbmFsSW5mb0NvbnRlbnQiLCJwbGFjZU9yZGVyIiwicHJvZHVjdHMiLCJwcm9kdWN0Q29kZSIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwiZGMiLCJjb29raWUiLCJwcmVmaXgiLCJiZWdpbiIsImVuZCIsImRlY29kZVVSSSIsImFsZXJ0Qm94IiwiaXRlbSIsIm1vbWVudCIsImVuZE9mIiwiZnJvbU5vdyIsImNsb3NlQWxlcnRCb3giLCJkYXRlIiwiRGF0ZSIsImV4cGlyZXMiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInRvR01UU3RyaW5nIiwiYWxlcnRCb3R0b21VcCIsImNsb3NlQWxlcnQiLCJjYXJ0RXJyb3JNZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxpQkFBbUJDLEVBQUUsZ0JBQWdCQyxjQUVrQixJQUEvQ0QsRUFBRSxpQkFBaUJFLEtBQUssZ0JBQWdCLElBQ2hEQyxXQUFXLFdBQ1AsR0FBSUMsU0FBU0MsS0FBS0MsVUFBVUMsU0FBUyxjQUFlLENBRWhELElBQUlDLEVBQVNSLEVB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QUNILElBQUk2SyxjQUFnQkwsU0FBUzVNLGNBQWMsaUJBQzNDaU4sY0FBY2xKLGlCQUFpQixRQUFTLFNBQVNFLEdBQzdDQSxFQUFFTSxpQkFDRixJQUFJMkksRUFBTyxJQUFJQyxLQUNYQyxFQUFVLFdBQ2RGLEVBQUtHLFFBQVFILEVBQUtJLFVBQVksR0FDOUJGLEdBQVdGLEVBQUtLLGNBQ2hCaFAsU0FBU2dPLE9BQVMsbUJBQXFCYSxFQUN2Q1IsU0FBU25PLFVBQVVhLElBQUksMEJBSS9CLElBQUlrTyxjQUFnQmpQLFNBQVN5QixjQUFjLHFCQUUzQyxHQUFJd04sY0FBZSxDQUNmbFAsV0FBWSxXQUNIQyxTQUFTZ08sT0FBTzFOLE1BQU0sS0FBS2tDLE9BQU8sU0FBUzhMLEdBQzVDLE9BQU9BLEVBQUszTCxRQUFRLDRCQUE4QixJQUNuRGQsUUFDQ29OLGNBQWMvTyxVQUFVMkQsT0FBTyx5QkFFcEMsS0FFSCxJQUFJcUwsV0FBYUQsY0FBY3hOLGNBQWMsMkJBQzdDeU4sV0FBVzFKLGlCQUFpQixRQUFTLFNBQVNFLEdBRTFDLEdBREFBLEVBQUVNLGlCQUNHTixFQUFFQyxPQUFPekYsVUFBVUMsU0FBUywyQkFBK0J1RixFQUFFQyxPQUFPUCxjQUFjbEYsVUFBVUMsU0FBUywwQkFBNEIsQ0FDbEksSUFBSXdPLEVBQU8sSUFBSUMsS0FDWEMsRUFBVSxXQUNkRixFQUFLRyxRQUFRSCxFQUFLSSxVQUFZLElBQzlCRixHQUFXRixFQUFLSyxjQUNoQmhQLFNBQVNnTyxPQUFTLDJCQUE2QmEsRUFDL0NJLGNBQWMvTyxVQUFVYSxJQUFJLDJCQVd4QyxJQUFJb08saUJBQW1CdlAsRUFBRSxnQ0FDTywwQ0FBNUJ1UCxpQkFBaUJsSCxRQUNqQmtILGlCQUFpQmxILEtBQUsiLCJmaWxlIjoiZ2xvYmFsLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHNpdGVIZWFkZXJIZWlnaHQgPSAkKCcuc2l0ZS1oZWFkZXInKS5oZWlnaHQoKTtcblxuaWYgKCh0eXBlb2YgJCgnI2NvbnRlbnRfYXJlYScpLmZpbmQoJy52Y2ItYXJ0aWNsZScpWzBdICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3ZjYi1hY3RpdmUnKSkge1xuICAgICAgICAgICAgLy8gaHR0cDovL2t5cmVwLmZjY216LnNlcnZlcnRydXN0LmNvbS9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/VGFibGU9QXJ0aWNsZXMmSUQ9MTEwXG4gICAgICAgICAgICB2YXIgcGFnZUlEID0gJCgnI2NvbnRlbnRfYXJlYScpLmZpbmQoJy52Y2ItYXJ0aWNsZScpWzBdLmlkLnNwbGl0KCdfJylbMl07XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rVVJMID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvYWRtaW4vQWRtaW5EZXRhaWxzX0dlbmVyaWMuYXNwP1RhYmxlPUFydGljbGVzJklEPScgKyBwYWdlSUQ7XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmhyZWYgPSBhZG1pbkxpbmtVUkw7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaW5uZXJUZXh0ID0gJ0VkaXQgUGFnZSc7XG4gICAgICAgICAgICBhZG1pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZWRpdFNlYXJjaExpbmsnLCdidG4tc29saWQtLWJyYW5kLXR3bycpO1xuICAgICAgICAgICAgJCgnYm9keScpLnByZXBlbmQoYWRtaW5MaW5rKTtcbiAgICAgICAgfVxuICAgIH0sIDMwMDApO1xufVxuXG5pZiAod2luZG93LmlubmVyV2lkdGggPiAxMDgwKSB7XG4gICAgJCgnLm1lbnUtaXRlbS0tdG9wLWxldmVsIC5zdWItbWVudS0tbGV2ZWwtb25lID4gbGk6Zmlyc3QtY2hpbGQnKS5hZGRDbGFzcygnYWN0aXZlJykuZmluZCgnLnN1Yi1tZW51LS1sZXZlbC10d28nKS5hZGRDbGFzcygnYWNjb3JkaWFuLW9wZW4nKTtcbn1cblxudmFyIHBhZ2VQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuXG52YXIgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1nZW5lcmljLScgKyBnZXRSYW5kb21JbnQoMSwgNSkgKyAnLmpwZyknO1xudmFyIGhlcm9UZXh0ID0gJ0dyZWVuIEZhcm0gUGFydHMnO1xuXG52YXIgYnJlYWRjcnVtYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWF0Y2hpbmdfcmVzdWx0c190ZXh0Jyk7XG5cbmlmIChicmVhZGNydW1icykge1xuICAgIHZhciBicmVhZGNydW1iQXJyYXkgPSBicmVhZGNydW1icy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50LnNwbGl0KCc+Jyk7XG4gICAgaGVyb1RleHQgPSBicmVhZGNydW1iQXJyYXlbYnJlYWRjcnVtYkFycmF5Lmxlbmd0aCAtIDFdOyAgICBcbn1cblxuXG5pZiAocGFnZVBhdGgubWF0Y2goL2FydGljbGVzL2kpICYmIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoJ0lEPTMwNScpKSB7XG4gICAgLy8gaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1maWx0ZXJzLmpwZyknO1xuICAgIGhlcm9UZXh0ID0gJ1F1aWNrIFBhcnRzIE9yZGVyIEZvcm08c3BhbiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDEuMnJlbTtcIj5BbHJlYWR5IGtub3cgdGhlIHBhcnRzIHlvdSBuZWVkIGFuZCBuZWVkIHRvIGdldCBtb3JlIHRoYW4gb25lPzxici8+WW91XFwncmUgaW4gdGhlIHJpZ2h0IHBsYWNlLjwvc3Bhbj4nO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL2FydGljbGVzL2kpICYmIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoJ0lEPTI4NycpKSB7XG4gICAgLy8gaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1maWx0ZXJzLmpwZyknO1xuICAgIGhlcm9UZXh0ID0gJ1BhcnRzIERpYWdyYW0gRXhwbG9yZXInO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL0ZpbHRlcnMvaSkpIHtcbiAgICBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLWZpbHRlcnMuanBnKSc7XG4gICAgLy8gaGVyb1RleHQgPSAnT2lsIEZpbHRlcnMnO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL0NsZWFyYW5jZS9pKSkge1xuICAgIGhlcm9JbWcgPSAndXJsKC92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWcvaGVyby0tY2xlYXJhbmNlLmpwZyknO1xuICAgIC8vIGhlcm9UZXh0ID0gJ09pbCBGaWx0ZXJzJztcbn1cblxuaWYgKHBhZ2VQYXRoLm1hdGNoKC9NYWludGVuYW5jZS1LaXRzL2kpKSB7XG4gICAgaGVyb0ltZyA9ICd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS1tYWludGVuYW5jZS1raXRzLmpwZyknO1xuICAgIC8vIGhlcm9UZXh0ID0gJ01haW50ZW5hbmNlIEtpdHMnO1xufVxuXG5pZiAocGFnZVBhdGgubWF0Y2goL1RveXMvaSkpIHtcbiAgICBoZXJvSW1nID0gJ3VybCgvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1nL2hlcm8tLXRveXMuanBnKSc7XG4gICAgLy8gaGVyb1RleHQgPSAnVG95cyc7XG59XG5cbmlmIChwYWdlUGF0aCA9PT0gJy9BcnRpY2xlcy5hc3AnICYmIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPT09ICc/SUQ9MzA1Jykge1xuICAgIGhlcm9UZXh0ID0gJ1F1aWNrIFBhcnRzIE9yZGVyJztcbn1cblxuaWYgKChwYWdlUGF0aCA9PT0gJy9hcnRpY2xlcy5hc3AnICYmIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPT09ICc/SUQ9MzA2JykgfHwgcGFnZVBhdGggPT09ICcvQXJ0aWNsZXMuYXNwJyAmJiB3aW5kb3cubG9jYXRpb24uc2VhcmNoID09PSAnP0lEPTMwNicpIHtcbiAgICAkKCcuaGVybycpLmhpZGUoKTtcbiAgICB2YXIgcGFnZUNvbnRlbnQgPSAkKCcjY29udGVudF9hcmVhJykuaHRtbCgpO1xuICAgICQoJyNjb250ZW50X2FyZWEnKS5wYXJlbnRzKCdzZWN0aW9uJykuaHRtbChwYWdlQ29udGVudCk7XG4gICAgJCgnI2NvbnRlbnRfYXJlYScpLmhpZGUoKTtcbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL3NlYXJjaHJlc3VsdHMuYXNwJyB8fCBwYWdlUGF0aCA9PT0gJy9TZWFyY2hSZXN1bHRzLmFzcCcpIHtcbiAgICBzZWFyY2hTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIHNlYXJjaFN0cmluZ0FycmF5ID0gc2VhcmNoU3RyaW5nLnNwbGl0KCcmJyk7XG4gICAgXG4gICAgZnVuY3Rpb24gZmlsdGVySXRlbXMocXVlcnkpIHtcbiAgICAgIHJldHVybiBzZWFyY2hTdHJpbmdBcnJheS5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICByZXR1cm4gZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpID4gLTE7XG4gICAgICB9KVxuICAgIH1cblxuICAgIHZhciBzZWFyY2hTdHJpbmdUZXJtID0gZmlsdGVySXRlbXMoJ3NlYXJjaD0nKS50b1N0cmluZygpLnNwbGl0KCc9JylbMV07XG4gICAgc2VhcmNoU3RyaW5nVGVybSA9IHNlYXJjaFN0cmluZ1Rlcm0uc3BsaXQoJysnKS5qb2luKCcgJykuc3BsaXQoJyUyMCcpLmpvaW4oJyAnKTtcbiAgICBoZXJvVGV4dCA9ICdTZWFyY2ggZm9yOiAnICsgc2VhcmNoU3RyaW5nVGVybTtcblxuICAgIC8qIFNFVCBVUCBSRVNQT05TSVZFIFNFQVJDSCBSRVNVTFRTKi9cbiAgICB2YXIgcHJvZHVjdFJvd3MgPSAkKCcjTWFpbkZvcm0gLnY2NS1wcm9kdWN0RGlzcGxheSAudjY1LXByb2R1Y3REaXNwbGF5IHRyJyk7XG4gICAgdmFyIHByb2R1Y3RzQXJyYXkgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdFJvd3MubGVuZ3RoOyBpICs9IDUpIHtcbiAgICAgICAgaWYgKHByb2R1Y3RSb3dzW2ldLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCdkaXZbaXRlbXByb3A9XCJhZ2dyZWdhdGVSYXRpbmdcIl0nKSkge1xuICAgICAgICAgICAgdmFyIHByb2R1Y3RSYXRpbmcgPSBwcm9kdWN0Um93c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignZGl2W2l0ZW1wcm9wPVwiYWdncmVnYXRlUmF0aW5nXCJdJykub3V0ZXJIVE1MO1xuICAgICAgICB9XG4gICAgICAgIHByb2R1Y3RzQXJyYXkucHVzaCh7XG4gICAgICAgICAgICBwcm9kdWN0TGluazogcHJvZHVjdFJvd3NbaV0ucXVlcnlTZWxlY3RvcignYScpLmhyZWYsXG4gICAgICAgICAgICBwcm9kdWN0SW1hZ2U6IHByb2R1Y3RSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYyxcbiAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0Um93c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignYSBzcGFuJykuaW5uZXJUZXh0LFxuICAgICAgICAgICAgcHJvZHVjdFByaWNlOiBwcm9kdWN0Um93c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfcHJvZHVjdHByaWNlJykuaW5uZXJUZXh0LnNwbGl0KCcgJylbMV0sXG4gICAgICAgICAgICBwcm9kdWN0UmF0aW5nOiBwcm9kdWN0UmF0aW5nLFxuICAgICAgICAgICAgcHJvZHVjdERlc2NyaXB0aW9uOiBwcm9kdWN0Um93c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5pbm5lclRleHRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJvZHVjdFJvd3MucmVtb3ZlKCk7XG4gICAgXG4gICAgdmFyIGZpcnN0UHJvZHVjdFJvdyA9ICQoJyNNYWluRm9ybSAudjY1LXByb2R1Y3REaXNwbGF5IC52NjUtcHJvZHVjdERpc3BsYXknKS5maW5kKCd0Ym9keScpO1xuXG4gICAgZmlyc3RQcm9kdWN0Um93LnByZXBlbmQoJzx0cj48dGQgaWQ9XCJnZnAtcmVzcG9uc2l2ZS1saXN0aW5nXCI+PC90ZD48L3RyPicpO1xuICAgIHZhciBnZnBSZXNwb25zaXZlTGlzdGluZyA9ICQoJyNnZnAtcmVzcG9uc2l2ZS1saXN0aW5nJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhdGluZyA9IHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdFJhdGluZztcbiAgICAgICAgaWYgKHR5cGVvZiByYXRpbmcgPT09ICd1bmRlZmluZWQnKSB7IHJhdGluZyA9ICcnOyB9XG4gICAgICAgIGdmcFJlc3BvbnNpdmVMaXN0aW5nLmFwcGVuZCgnPGEgaHJlZj1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RMaW5rICsgJ1wiIGNsYXNzPVwiY2FyZFwiPjxpbWcgc3JjPVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdEltYWdlICsgJ1wiIGFsdD1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3ROYW1lICsgJ1wiPjxoNj4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICc8L2g2PjxwPicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RQcmljZSArICc8L3A+JyArIHJhdGluZyArICc8L2E+Jyk7XG4gICAgfVxuXG59XG5cbmlmICgocGFnZVBhdGggPT09ICcvU2hvcHBpbmdDYXJ0LmFzcCcpIHx8IHBhZ2VQYXRoID09PSAnL3Nob3BwaW5nY2FydC5hc3AnKSB7XG4gICAgaGVyb1RleHQgPSAnU2hvcHBpbmcgQ2FydCc7XG4gICAgdmFyIGl0ZW1EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2NjUtY2FydC1oZWFkZXItaXRlbWRlc2NyaXB0aW9uIGZvbnQnKTtcbiAgICBpZiAoaXRlbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGl0ZW1EZXNjcmlwdGlvbkFycmF5ID0gaXRlbURlc2NyaXB0aW9uLmlubmVySFRNTC5zcGxpdCgnJm5ic3A7Jyk7XG4gICAgICAgIGl0ZW1EZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBpdGVtRGVzY3JpcHRpb25BcnJheVswXSArICcgJyArIGl0ZW1EZXNjcmlwdGlvbkFycmF5WzJdO1xuICAgIH1cbiAgICB2YXIgZW1wdHlDYXJ0Um93ID0gJCgnLnY2NS1jYXJ0LXNoaXBwaW5nLWRldGFpbHMtcm93JykuY2hpbGRyZW4oKS5maXJzdCgpO1xuICAgIGlmIChlbXB0eUNhcnRSb3cubGVuZ3RoIDwgMCkge1xuICAgICAgICBlbXB0eUNhcnRSb3cuc2libGluZ3MoKS5yZW1vdmUoKTtcbiAgICAgICAgZW1wdHlDYXJ0Um93WzBdLmNvbFNwYW4gPSAxMjsgICAgXG4gICAgfVxufVxuXG5pZiAocGFnZVBhdGggPT09ICcvbG9naW4uYXNwJykge1xuICAgIGhlcm9UZXh0ID0gJ0xvZ2luJztcbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL3Rlcm1zLmFzcCcpIHtcbiAgICBoZXJvVGV4dCA9ICdUZXJtcyBhbmQgQ29uZGl0aW9ucyc7XG59XG5cbmlmIChnZXRDb29raWUoJ1Nlc3Npb24lNUZUb2tlbicpKSB7XG4gICAgJCgnLmV5ZWJyb3ctbGlua3MgbGk6bGFzdC1jaGlsZCcpLmh0bWwoJzxhIGhyZWY9XCIvb3JkZXJzLmFzcFwiPk9yZGVyIFN0YXR1czwvYT4nKTtcbn1cblxuaWYgKHBhZ2VQYXRoID09PSAnL29uZS1wYWdlLWNoZWNrb3V0LmFzcCcpIHtcbiAgICBoZXJvVGV4dCA9ICdDaGVja291dCc7XG5cbiAgICBpZiAoZ2V0Q29va2llKCdTZXNzaW9uJTVGVG9rZW40Q2hlY2tvdXQnKSkge1xuICAgICAgICAkKCcjZGl2X2FydGljbGVpZF8xMTYnKS5odG1sKCc8aDI+WW91IGFyZSBsb2dnZWQgaW4hPC9oMj48cD5Zb3UgY2FuIGNob29zZSBmcm9tIHlvdXIgc3RvcmVkIGFkZHJlc3NlcyBiZWxvdy48L3A+Jyk7XG4gICAgfVxuXG4gICAgLy8gdmFyIGJpbGxJbnB1dHMgPSBbXG4gICAgLy8gICAgIFwidjY1LW9uZXBhZ2UtYmlsbGZpcnN0bmFtZVwiLFxuICAgIC8vICAgICBcInY2NS1vbmVwYWdlLWJpbGxsYXN0bmFtZVwiLFxuICAgIC8vICAgICBcInY2NS1vbmVwYWdlLWJpbGxjb21wYW55bmFtZVwiLFxuICAgIC8vICAgICBcInY2NS1vbmVwYWdlLWJpbGxhZGRyMVwiLFxuICAgIC8vICAgICBcInY2NS1vbmVwYWdlLWJpbGxhZGRyMlwiLFxuICAgIC8vICAgICBcInY2NS1vbmVwYWdlLWJpbGxjaXR5XCIsXG4gICAgLy8gICAgIFwidjY1LW9uZXBhZ2UtYmlsbHBvc3RhbGNvZGVcIixcbiAgICAvLyAgICAgXCJ2NjUtb25lcGFnZS1iaWxscGhvbmVcIixcbiAgICAvLyAgICAgXCJ2NjUtb25lcGFnZS1iaWxsZmF4XCIsXG4gICAgLy8gICAgIFwidjY1LWNhcnQtYmlsbGVtYWlsXCJcbiAgICAvLyBdO1xuXG4gICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihlKSB7XG4gICAgLy8gICAgIGlmIChiaWxsSW5wdXRzLmluY2x1ZGVzKGUudGFyZ2V0LmlkKSkge1xuICAgIC8vICAgICAgICAgdmFyIHNlbGYgPSBlLnRhcmdldDtcbiAgICAvLyAgICAgICAgIHZhciB2YWwgPSBzZWxmLnZhbHVlO1xuICAgIC8vICAgICAgICAgbWF0Y2hDaGVja291dElucHV0KHNlbGYsIHZhbCk7XG4gICAgLy8gICAgIH0gXG4gICAgLy8gfSk7XG5cbiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAvLyAgICAgaWYgKGUudGFyZ2V0LmlkID09PSAnaGVhZGVyTG9naW5MaW5rJykge1xuICAgIC8vICAgICAgICAgdmFyIG1vZGFsSFRNTCA9ICQoJyNsb2dpblRlbXBsYXRlJyk7XG4gICAgLy8gICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ2dmcC1tb2RhbC1vcGVuJykuYXBwZW5kKG1vZGFsSFRNTC5odG1sKCkpO1xuICAgIC8vICAgICAgICAgJCgnI3NpZ25JbkJ1dHRvbicpLmFkZENsYXNzKCdidG4tc29saWQtLWJyYW5kJyk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYgKGUudGFyZ2V0LmlkID09PSAnY2FuY2VsTG9naW5CdXR0b24nIHx8IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuaWQgPT09ICdjYW5jZWxMb2dpbkJ1dHRvbicpIHtcbiAgICAvLyAgICAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnZ2ZwLW1vZGFsLW9wZW4nKTtcbiAgICAvLyAgICAgICAgICQoJyNsb2dpbk1vZGFsJykucmVtb3ZlKCk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYgKGUudGFyZ2V0LmlkID09PSAnbG9naW5Gb3Jnb3RQYXNzd29yZCcgfHwgZS50YXJnZXQucGFyZW50RWxlbWVudC5pZCA9PT0gXCJsb2dpbkZvcmdvdFBhc3N3b3JkXCIpIHtcbiAgICAvLyAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL2xvZ2luX3NlbmRwYXNzLmFzcCc7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9KTtcblxufVxuXG5pZiAocGFnZVBhdGggIT0gJy8nKSB7XG4gICAgdXBkYXRlSGVybyhoZXJvSW1nLCBoZXJvVGV4dCk7XG59IGVsc2Uge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndmNiLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAvLyBodHRwOi8va3lyZXAuZmNjbXouc2VydmVydHJ1c3QuY29tL2FkbWluL0FkbWluRGV0YWlsc19HZW5lcmljLmFzcD9UYWJsZT1BcnRpY2xlcyZJRD1cbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmtVUkwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/VGFibGU9QXJ0aWNsZXMmSUQ9Mic7XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYWRtaW5MaW5rLmhyZWYgPSBhZG1pbkxpbmtVUkw7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaW5uZXJUZXh0ID0gJ0VkaXQgUGFnZSc7XG4gICAgICAgICAgICBhZG1pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZWRpdFNlYXJjaExpbmsnLCdidG4tc29saWQtLWJyYW5kLXR3bycpO1xuICAgICAgICAgICAgJCgnYm9keScpLnByZXBlbmQoYWRtaW5MaW5rKTtcbiAgICAgICAgfVxuICAgIH0sIDMwMDApO1xufVxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5BQ0NPVU5UIExJTktTIFBBR0Vcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAocGFnZVBhdGggPT09ICcvbXlhY2NvdW50LmFzcCcpIHsgXG5cbiAgICB2YXIgYWNjb3VudFBhZ2VDb250ZW50ID0gJCgnI2NvbnRlbnRfYXJlYSB0ZCcpO1xuICAgIHZhciBhY2NvdW50V2VsY29tZU1lc3NhZ2UgPSBhY2NvdW50UGFnZUNvbnRlbnRbMF0uaW5uZXJIVE1MO1xuICAgIHZhciBhY2NvdW50V2VsY29tZU1lc3NhZ2VPcGVuZXIgPSBhY2NvdW50UGFnZUNvbnRlbnRbMF0ucXVlcnlTZWxlY3RvcignYicpLmlubmVySFRNTDtcbiAgICB1cGRhdGVIZXJvKGhlcm9JbWcsIGFjY291bnRXZWxjb21lTWVzc2FnZU9wZW5lcik7XG5cbiAgICAkKCcuaGVybycpLm5leHQoKS5maW5kKCcuc2l0ZS13aWR0aCcpLnByZXBlbmQoJzxkaXYgaWQ9XCJnZnAtYWNjb3VudC1kZXRhaWxzXCI+PC9kaXY+Jyk7XG4gICAgdmFyIGdmcEFjY291bnREZXRhaWxzID0gJCgnI2dmcC1hY2NvdW50LWRldGFpbHMnKTtcblxuICAgICQoJyNjb250ZW50X2FyZWEnKS5yZW1vdmUoKTtcblxuICAgIGdmcEFjY291bnREZXRhaWxzLmFwcGVuZCgnPHNlY3Rpb24gY2xhc3M9XCJib3gtLWhlYWRpbmctYnJhbmRcIj48aDIgY2xhc3M9XCJib3gtaGVhZGxpbmVcIj5NeSBPcmRlcnM8L2gyPjx1bD48bGk+PGEgaHJlZj1cIi9vcmRlcnMuYXNwXCI+UmV2aWV3IE9yZGVyczwvYT48L2xpPjxsaT48YSBocmVmPVwiL29yZGVycy5hc3BcIj5DaGFuZ2UvQ2FuY2VsIE9yZGVyPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvb3JkZXJzLmFzcFwiPkNoYW5nZSBTaGlwcGluZyBBZGRyZXNzPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvb3JkZXJzLmFzcFwiPlByaW50IEludm9pY2VzPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvb3JkZXJzLmFzcFwiPkNoYW5nZSBCaWxsaW5nIEFkZHJlc3M8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9yZXR1cm5zLmFzcFwiPlJldHVybiBJdGVtczwvYT48L2xpPjwvdWw+PC9zZWN0aW9uPicpO1xuICAgIGdmcEFjY291bnREZXRhaWxzLmFwcGVuZCgnPHNlY3Rpb24gY2xhc3M9XCJib3gtLWhlYWRpbmctYnJhbmRcIj48aDIgY2xhc3M9XCJib3gtaGVhZGxpbmVcIj5QZXJzb25hbCBJbmZvcm1hdGlvbjwvaDI+PHVsPjxsaT48YSBocmVmPVwiL0FjY291bnRTZXR0aW5ncy5hc3A/bW9kd2hhdD1jaGFuZ2VfYVwiPkNoYW5nZSBlLW1haWwgYWRkcmVzcywgb3IgcGFzc3dvcmQ8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9BY2NvdW50U2V0dGluZ3MuYXNwP21vZHdoYXQ9Y2hhbmdlX2JcIj5NYW5hZ2UgeW91ciBiaWxsaW5nIGFkZHJlc3NlczwvYT48L2xpPjxsaT48YSBocmVmPVwiL01haWxpbmdMaXN0X3Vuc3Vic2NyaWJlLmFzcFwiPkNoYW5nZSBteSBlLW1haWwgcHJlZmVyZW5jZXM8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9BY2NvdW50U2V0dGluZ3MuYXNwP21vZHdoYXQ9Y2hhbmdlX3NcIj5NYW5hZ2UgeW91ciBzaGlwcGluZyBhZGRyZXNzZXM8L2E+PC9saT48L3VsPjwvc2VjdGlvbj4nKTtcbiAgICBnZnBBY2NvdW50RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uIGNsYXNzPVwiYm94LS1oZWFkaW5nLWJyYW5kXCI+PGgyIGNsYXNzPVwiYm94LWhlYWRsaW5lXCI+UGF5bWVudCBTZXR0aW5nczwvaDI+PHVsPjxsaT48YSBocmVmPVwiL0FjY291bnRTZXR0aW5ncy5hc3A/bW9kd2hhdD1jaGFuZ2VfYyZteWFjY291bnQ9WVwiPkVkaXQgb3IgZGVsZXRlIGEgY3JlZGl0L2RlYml0IGNhcmQ8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9NeUFjY291bnRfR2lmdEJhbGFuY2UuYXNwXCI+VmlldyBnaWZ0IGNlcnRpZmljYXRlIGJhbGFuY2U8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9NeUFjY291bnRfQXBwbHlHaWZ0LmFzcFwiPkFwcGx5IGEgZ2lmdCBjZXJ0aWZpY2F0ZSB0byB5b3VyIGFjY291bnQ8L2E+PC9saT48L3VsPjwvc2VjdGlvbj4nKTtcbiAgICBnZnBBY2NvdW50RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uIGNsYXNzPVwiYm94LS1oZWFkaW5nLWJyYW5kXCI+PGgyIGNsYXNzPVwiYm94LWhlYWRsaW5lXCI+T3RoZXIgRmVhdHVyZXM8L2gyPjx1bD48bGk+PGEgaHJlZj1cIi9teWFjY291bnRfbXlyZXZpZXdzLmFzcFwiPkVkaXQgYSByZXZpZXcgdGhhdCBJIHdyb3RlPC9hPjwvbGk+PGxpPjxhIGhyZWY9XCIvV2lzaExpc3QuYXNwXCI+VmlldyBteSBXaXNoIExpc3Q8L2E+PC9saT48bGk+PGEgaHJlZj1cIi9NeVJld2FyZHMuYXNwXCI+TXkgUmV3YXJkczwvYT48L2xpPjwvdWw+PC9zZWN0aW9uPicpO1xuICAgIGdmcEFjY291bnREZXRhaWxzLnBhcmVudCgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImhhcy10ZXh0LWNlbnRlciBtYXItdC0tbW9yZVwiPjxhIGhyZWY9XCIvbG9naW4uYXNwP2xvZ291dD15ZXNcIiBjbGFzcz1cImJ0bi1vdXRsaW5lLS1icmFuZC10d29cIj5Mb2dvdXQ8L2E+PC9kaXY+Jyk7XG59XG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuT1JERVJTIFBBR0Vcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAocGFnZVBhdGggPT09ICcvb3JkZXJzLmFzcCcpIHtcblxuICAgIGhlcm9UZXh0ID0gJ1lvdXIgT3JkZXJzJ1xuXG4gICAgdXBkYXRlSGVybyhoZXJvSW1nLCBoZXJvVGV4dCk7XG5cbiAgICB2YXIgYWxsT3JkZXJzID0gJCgnI2NvbnRlbnRfYXJlYSBmb3JtIC5jb2xvcnNfbGluZXNfbGlnaHQgdGJvZHkgPiAuY29sb3JzX2JhY2tncm91bmRuZXV0cmFsID4gdGQ6bGFzdC1jaGlsZCBhJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbE9yZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZWxlbSA9IGFsbE9yZGVyc1tpXTtcbiAgICAgICAgZWxlbS5pbm5lckhUTUwgPSAnVmlldyBPcmRlcic7XG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChcImJ0bi1zb2xpZC0tYnJhbmQtdHdvXCIpO1xuICAgIH1cblxuICAgIC8vIHZhciBjbGVhbkFsbE9yZGVycyA9IFtdO1xuICAgIFxuICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsT3JkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gICAgIHZhciBhbGxJdGVtc0luT3JkZXIgPSBhbGxPcmRlcnNbaV0ucXVlcnlTZWxlY3RvckFsbCgndGQ6bnRoLWNoaWxkKDIpIHRyJyk7XG4gICAgLy8gICAgIHZhciBpdGVtUm93cyA9IFtdO1xuXG4gICAgLy8gICAgIGZvciAodmFyIGMgPSAxOyBjIDwgYWxsSXRlbXNJbk9yZGVyLmxlbmd0aDsgYysrKSB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhhbGxJdGVtc0luT3JkZXJbY10ucXVlcnlTZWxlY3RvcignYScpKTtcbiAgICAvLyAgICAgICAgIC8vIGl0ZW1Sb3dzLnB1c2goe1xuICAgIC8vICAgICAgICAgLy8gICAgIFwiaXRlbUxpbmtcIjogYWxsSXRlbXNJbk9yZGVyW2NdLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5ocmVmXG4gICAgLy8gICAgICAgICAvLyB9KTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhpdGVtUm93c1tpXSk7XG4gICAgICAgIFxuICAgIC8vICAgICBjbGVhbkFsbE9yZGVycy5wdXNoKHtcbiAgICAvLyAgICAgICAgIFwib3JkZXJNZXRhRGV0YWlsc1wiOiBhbGxPcmRlcnNbaV0ucXVlcnlTZWxlY3RvcigndGQnKS5pbm5lckhUTUwsXG4gICAgLy8gICAgICAgICBcIm9yZGVyTGlua1wiOiBhbGxPcmRlcnNbaV0ucXVlcnlTZWxlY3RvcigndGQ6bGFzdC1jaGlsZCBhJykuaHJlZixcbiAgICAvLyAgICAgICAgIFwib3JkZXJJdGVtc1wiOiBpdGVtUm93c1tpXVxuICAgIC8vICAgICB9KTtcbiAgICAvLyB9XG5cbiAgICAvLyAkKCcjY29udGVudF9hcmVhIGZvcm0nKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJnZnAtb3JkZXItbGlzdFwiPjx1bD48L3VsPjwvZGl2PicpO1xuICAgIC8vIHZhciBnZnBPcmRlckxpc3QgPSAkKCcuZ2ZwLW9yZGVyLWxpc3QgdWwnKTtcblxuICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgY2xlYW5BbGxPcmRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgICAgZ2ZwT3JkZXJMaXN0LmFwcGVuZCgnPGxpIGNsYXNzPVwiZ2ZwLW9yZGVyLWl0ZW1cIj48ZGl2IGNsYXNzPVwiZ2ZwLW9yZGVyLWl0ZW0tLW9yZGVyLW1ldGFcIj4nICsgY2xlYW5BbGxPcmRlcnNbaV0ub3JkZXJNZXRhRGV0YWlscyArICc8YnIgLz48YSBocmVmPVwiJyArIGNsZWFuQWxsT3JkZXJzW2ldLm9yZGVyTGluayArICdcIiBjbGFzcz1cIm1hci10IGJ0bi1zb2xpZC0tYnJhbmQtdHdvXCI+VmlldyBEZXRhaWxzPC9hPjwvZGl2PjxkaXYgY2xhc3M9XCJnZnAtb3JkZXItaXRlbS0tb3JkZXItaXRlbXNcIj4nICsgY2xlYW5BbGxPcmRlcnNbaV0ub3JkZXJJdGVtcyArICc8L2Rpdj48L2xpPicpO1xuICAgIC8vIH1cblxufVxuXG5cblxuaWYgKGJyZWFkY3J1bWJzKSB7XG4gICAgYnJlYWRjcnVtYnMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2JyZWFkY3J1bWJzJyk7XG59XG5cbnZhciBzaXRlSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpdGUtaGVhZGVyJyk7XG52YXIgc2l0ZUhlYWRlck9mZnNldCA9IHNpdGVIZWFkZXIub2Zmc2V0VG9wO1xuXG5pZiAoc2l0ZUhlYWRlcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmaXhIZWFkZXIpO1xufVxuXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXG4gICAgaWYgKChlLnRhcmdldC5pZCA9PT0gJ2hhbWJ1cmdlcicpIHx8IChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2hhbWJ1cmdlci1ib3gnKSkgfHwgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaGFtYnVyZ2VyLWlubmVyJykpKSB7XG4gICAgICAgIHRvZ2dsZU1lbnUoKTtcbiAgICB9XG5cbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpYW4tdG9nZ2xlLS1zaXRlLWhlYWRlcicpKSB7XG4gICAgICAgIHRvZ2dsZU1lbnVBY2NvcmRpYW4oZSk7XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0Lmhhc2ggPT09ICcjY2hhdCcpIHtcbiAgICAgICAgdG9nZ2xlQ2hhdFdpbmRvdyhlKTtcbiAgICB9XG5cbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LXBhc3N3b3JkJykpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgICAgICB2YXIgcGFzc3dvcmRGaWVsZCA9IHNlbGYucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgICB2YXIgcGFzc3dvcmRGaWVsZFR5cGUgPSBwYXNzd29yZEZpZWxkLnR5cGU7XG4gICAgICAgIGlmIChwYXNzd29yZEZpZWxkLnR5cGUgPT09ICdwYXNzd29yZCcpIHtcbiAgICAgICAgICAgIHBhc3N3b3JkRmllbGQudHlwZSA9ICd0ZXh0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhc3N3b3JkRmllbGQudHlwZSA9ICdwYXNzd29yZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pO1xuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5DQVRFR09SWSBMSVNUSU5HXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKCh0eXBlb2YgU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJykgJiYgKHBhZ2VQYXRoICE9ICcvc2VhcmNocmVzdWx0cy5hc3AnKSkge1xuICAgIGhlcm9UZXh0ID0gZG9jdW1lbnQudGl0bGU7XG5cbiAgICB1cGRhdGVIZXJvKGhlcm9JbWcsIGhlcm9UZXh0KTtcblxuXG4gICAgJCgnI2NvbnRlbnRfYXJlYSA+IHRhYmxlJykuZmlyc3QoKS5oaWRlKCk7XG5cbiAgICB2YXIgYWxsU3ViQ2F0TGlua3MgPSAkKCcuc3ViY2F0ZWdvcnlfbGluaycpO1xuICAgIGNsZWFuU3ViQ2F0TGlua3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsU3ViQ2F0TGlua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2xlYW5TdWJDYXRMaW5rcy5wdXNoKHtcbiAgICAgICAgICAgIFwibW9kZWxMaW5rXCI6IGFsbFN1YkNhdExpbmtzW2ldLmhyZWYsXG4gICAgICAgICAgICBcIm1vZGVsTnVtYmVyXCI6IGFsbFN1YkNhdExpbmtzW2ldLmlubmVyVGV4dC5yZXBsYWNlKCdKb2huIERlZXJlJywgJycpLnNwbGl0KCcgJylbMV1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHNvcnRCeUNvbnRhaW5lciA9ICQoJyNqbWVudWhpZGUnKTtcblxuICAgICQoJyNTb3J0QnknKVswXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBzb3J0VmFsID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgJz9zZWFyY2hpbmc9WSZzb3J0PScgKyBzb3J0VmFsICsgJyZjYXQ9MiZzaG93PTE1JnBhZ2U9MSc7XG4gICAgfSlcblxuICAgIC8vIGFsbFN1YkNhdExpbmtzLmZpcnN0KCkuY2xvc2VzdCgnLmNvbG9yc19iYWNrZ3JvdW5kbmV1dHJhbCcpLnBhcmVudCgpLnByZXYoKS5odG1sKCc8dGQ+PGRpdiBjbGFzcz1cImdmcC1jbGVhbi1zdWJjYXRlZ29yaWVzXCI+PGgyPkNob29zZSB5b3VyIG1vZGVsIHRvIHNlZSBwYXJ0cyB0aGF0IGZpdCB5b3VyIG1vZGVsPC9oMj48c2VsZWN0IGNsYXNzPVwiZ2ZwLXN1YmNhdGVnb3JpZXMtc2VsZWN0XCI+PG9wdGlvbj5DaG9vc2UgWW91ciBNb2RlbDwvb3B0aW9uPjwvc2VsZWN0PjwvZGl2PjwvdGQ+Jyk7XG5cbiAgICBpZiAoJCgnaW1nW3NyYz1cIi92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvU2VhcmNoUmVzdWx0c19TdWJDYXRfQW5nbGUuZ2lmXCJdJykubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICQoJ2ltZ1tzcmM9XCIvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1hZ2VzL1NlYXJjaFJlc3VsdHNfU3ViQ2F0X0FuZ2xlLmdpZlwiXScpLnBhcmVudHMoJy5jb2xvcnNfYmFja2dyb3VuZGxpZ2h0JykuYWRkQ2xhc3MoJ3JlbW92ZS1mZWF0dXJlZC1jYXRzLXRhYmxlJyk7XG5cbiAgICAgICAgLy8gJCgnaW1nW3NyYz1cIi92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvU2VhcmNoUmVzdWx0c19TdWJDYXRfQW5nbGUuZ2lmXCJdJykucGFyZW50cygnLmNvbG9yc19iYWNrZ3JvdW5kbGlnaHQnKS5hZGRDbGFzcygncmVtb3ZlLWZlYXR1cmVkLWNhdHMtdGFibGUnKS5zaWJsaW5ncygpLmFkZENsYXNzKCdnZnAtaW5pdC1zdWJjYXRlZ29yaWVzJyk7XG5cbiAgICAgICAgLy8gdmFyIHN1YkNhdExpbmtzID0gJCgnLmdmcC1pbml0LXN1YmNhdGVnb3JpZXMgYScpO1xuXG4gICAgICAgIC8vIHZhciBzdWJDYXRPcHRpb25zID0gW107XG5cbiAgICAgICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJDYXRMaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyAgICAgc3ViQ2F0T3B0aW9ucy5wdXNoKHtcbiAgICAgICAgLy8gICAgICAgICBzdWJDYXRJRDogc3ViQ2F0TGlua3NbaV0uaHJlZi5zcGxpdCgnLycpWzRdLnNwbGl0KCcuJylbMF0sXG4gICAgICAgIC8vICAgICAgICAgc3ViQ2F0VGV4dDogc3ViQ2F0TGlua3NbaV0udGl0bGVcbiAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJDYXRPcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vICAgICAkKCcuZ2ZwLXN1YmNhdGVnb3JpZXMtc2VsZWN0JykuYXBwZW5kKCc8b3B0aW9uIHZhbHVlPVwiJyArIHN1YkNhdE9wdGlvbnNbaV0uc3ViQ2F0SUQgKyAnXCI+JyArIHN1YkNhdE9wdGlvbnNbaV0uc3ViQ2F0VGV4dCArICc8L29wdGlvbj4nKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgICQoJy5yZW1vdmUtZmVhdHVyZWQtY2F0cy10YWJsZScpLnBhcmVudCgpLnJlbW92ZSgpO1xuXG4gICAgICAgIC8vIHZhciBjYXRTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2ZwLXN1YmNhdGVnb3JpZXMtc2VsZWN0Jyk7XG4gICAgICAgIC8vIGNhdFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vICAgICB2YXIgc2VsZWN0ZWRDYXQgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgLy8gICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8tcy8nICsgc2VsZWN0ZWRDYXQgKyAnLmh0bSc7XG4gICAgICAgIC8vIH0pO1xuXG4gICAgfVxuXG4gICAgLy8gJCgnLmdmcC1jbGVhbi1zdWJjYXRlZ29yaWVzJykuYXBwZW5kKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5icmVhZGNydW1icyBzZWxlY3QnKS5vdXRlckhUTUwpO1xuICAgIC8vIGNvbnNvbGUubG9nKCk7XG4gICAgLy8gJCgnLmdmcC1jbGVhbi1zdWJjYXRlZ29yaWVzJykuc2libGluZ3MoKS5yZW1vdmUoKTtcblxuXG4gICAgXG4gICAgLyogU0VUIFVQIFJFU1BPTlNJVkUgU0VBUkNIIFJFU1VMVFMqL1xuICAgIHZhciBwcm9kdWN0Um93cyA9ICQoJyNNYWluRm9ybSAudjY1LXByb2R1Y3REaXNwbGF5IC52NjUtcHJvZHVjdERpc3BsYXkgPiB0Ym9keSA+IHRyJyk7XG4gICAgdmFyIHByb2R1Y3RzQXJyYXkgPSBbXTtcblxuICAgIHRpbGVQcm9kdWN0cyhwcm9kdWN0Um93cyk7XG4gICAgXG5cbiAgICBwcm9kdWN0Um93cy5yZW1vdmUoKTtcbiAgICBcbiAgICB2YXIgZmlyc3RQcm9kdWN0Um93ID0gJCgnI01haW5Gb3JtIC52NjUtcHJvZHVjdERpc3BsYXkgLnY2NS1wcm9kdWN0RGlzcGxheScpLmZpbmQoJ3Rib2R5Jyk7XG5cbiAgICBmaXJzdFByb2R1Y3RSb3cucHJlcGVuZCgnPHRyPjx0ZCBpZD1cImdmcC1yZXNwb25zaXZlLWxpc3RpbmdcIj48L3RkPjwvdHI+Jyk7XG4gICAgdmFyIGdmcFJlc3BvbnNpdmVMaXN0aW5nID0gJCgnI2dmcC1yZXNwb25zaXZlLWxpc3RpbmcnKTtcblxuICAgIHZhciBjYXRJRCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLmh0bScpWzBdLnNwbGl0KCcvJylbMl07XG4gICAgXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYXRpbmcgPSBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RSYXRpbmc7XG4gICAgICAgIGlmICh0eXBlb2YgcmF0aW5nID09PSAndW5kZWZpbmVkJykgeyByYXRpbmcgPSAnJzsgfVxuXG4gICAgICAgIC8vIGlmIGNsZWFyYW5jZSBjYXRlZ29yeVxuICAgICAgICBpZiAoY2F0SUQgPT09ICcyNDM2Jykge1xuICAgICAgICAgICAgZ2ZwUmVzcG9uc2l2ZUxpc3RpbmcuYXBwZW5kKCc8YSBocmVmPVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdExpbmsgKyAnXCIgY2xhc3M9XCJjYXJkXCI+PGltZyBzcmM9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0SW1hZ2UgKyAnXCIgYWx0PVwiJyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdE5hbWUgKyAnXCI+PGg2PicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3ROYW1lICsgJzwvaDY+PGRlbCBzdHlsZT1cImZvbnQtc2l6ZTogMC45ZW07XCI+JyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdFByaWNlICsgJzwvZGVsPjxwIHN0eWxlPVwiY29sb3I6IHJlZDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCI+U2VlIFByaWNlIGluIENhcnQ8L3A+JyArIHJhdGluZyArICc8L2E+Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZnBSZXNwb25zaXZlTGlzdGluZy5hcHBlbmQoJzxhIGhyZWY9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TGluayArICdcIiBjbGFzcz1cImNhcmRcIj48aW1nIHNyYz1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RJbWFnZSArICdcIiBhbHQ9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICdcIj48aDY+JyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdE5hbWUgKyAnPC9oNj48cD4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0UHJpY2UgKyAnPC9wPicgKyByYXRpbmcgKyAnPC9hPicpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICB2YXIgb2Zmc2V0UHJvZHVjdHMgPSAkKCcucmVzdWx0c19wZXJfcGFnZV9zZWxlY3QnKS52YWwoKTtcblxuICAgIC8vICQuYWpheCh7XG4gICAgLy8gICAgIHVybDogd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvLXMvJyArIGNhdElEICsgJy5odG0/c2VhcmNoaW5nPVkmc29ydD01JmNhdD0xJnNob3c9JyArIG9mZnNldFByb2R1Y3RzICsgJyZwYWdlPTInLFxuICAgIC8vICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgIC8vICAgICBzdWNjZXNzOiBmdW5jdGlvbihodG1sKSB7XG4gICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhodG1sKTtcbiAgICAvLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKCQoaHRtbCkuZmluZCgnLnY2NS1wcm9kdWN0RGlzcGxheSAudjY1LXByb2R1Y3REaXNwbGF5ID4gdGJvZHkgPiB0cicpKTtcbiAgICAvLyAgICAgICAgIHRpbGVQcm9kdWN0cygkKGh0bWwpLmZpbmQoJyNNYWluRm9ybSAudjY1LXByb2R1Y3REaXNwbGF5IC52NjUtcHJvZHVjdERpc3BsYXkgPiB0Ym9keSA+IHRyJykpO1xuICAgIC8vICAgICB9LFxuICAgIC8vICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIC8vICAgICB9XG4gICAgLy8gfSk7XG5cbiAgICAvLyBnZnBSZXNwb25zaXZlTGlzdGluZy5wYXJlbnQoKS5wYXJlbnQoKS5hcHBlbmQoJzx0cj48dGQ+PGRpdiBjbGFzcz1cImhhcy10ZXh0LWNlbnRlciBtYXItdFwiPjxidXR0b24gaWQ9XCJsb2FkTW9yZVByb2R1Y3RzXCIgY2xhc3M9XCJidG4tc29saWQtLWJyYW5kLXR3b1wiPkxvYWQgTW9yZTwvYnV0dG9uPjwvZGl2PjwvdGQ+PC90cj4nKTtcbiAgICAvLyB2YXIgbG9hZE1vcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbG9hZE1vcmVQcm9kdWN0cycpO1xuICAgIC8vIGxvYWRNb3JlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbG9hZE1vcmVQb3N0cyk7XG5cbiAgICAvLyBmdW5jdGlvbiBsb2FkTW9yZVBvc3RzKGUpIHtcbiAgICAvLyAgICAgdmFyIGxvYWRJbnQgPSAwO1xuICAgIC8vICAgICB2YXIgcGFnZSA9IDI7XG4gICAgLy8gICAgIHBhZ2UrKztcbiAgICAvLyAgICAgbG9hZEludCsrO1xuICAgIC8vICAgICAkLmFqYXgoe1xuICAgIC8vICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy8tcy8nICsgY2F0SUQgKyAnLmh0bT9zZWFyY2hpbmc9WSZzb3J0PTUmY2F0PTEmc2hvdz0nICsgb2Zmc2V0UHJvZHVjdHMgKyAnJnBhZ2U9JyArIHBhZ2UsXG4gICAgLy8gICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgIC8vICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oaHRtbCkge1xuICAgIC8vICAgICAgICAgICAgIHRpbGVQcm9kdWN0cygkKGh0bWwpLmZpbmQoJyNNYWluRm9ybSAudjY1LXByb2R1Y3REaXNwbGF5IC52NjUtcHJvZHVjdERpc3BsYXkgPiB0Ym9keSA+IHRyJykpO1xuICAgIC8vICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcbiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9KTtcbiAgICAvLyAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vICAgICBmb3IgKHZhciBpID0gKG9mZnNldFByb2R1Y3RzICogbG9hZEludCk7IGkgPCBwcm9kdWN0c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhpLCAob2Zmc2V0UHJvZHVjdHMgKiBsb2FkSW50KSk7XG4gICAgLy8gICAgICAgICB2YXIgcmF0aW5nID0gcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0UmF0aW5nO1xuICAgIC8vICAgICAgICAgaWYgKHR5cGVvZiByYXRpbmcgPT09ICd1bmRlZmluZWQnKSB7IHJhdGluZyA9ICcnOyB9XG4gICAgLy8gICAgICAgICBnZnBSZXNwb25zaXZlTGlzdGluZy5hcHBlbmQoJzxhIGhyZWY9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TGluayArICdcIiBjbGFzcz1cImNhcmRcIj48aW1nIHNyYz1cIicgKyBwcm9kdWN0c0FycmF5W2ldLnByb2R1Y3RJbWFnZSArICdcIiBhbHQ9XCInICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0TmFtZSArICdcIj48aDY+JyArIHByb2R1Y3RzQXJyYXlbaV0ucHJvZHVjdE5hbWUgKyAnPC9oNj48cD4nICsgcHJvZHVjdHNBcnJheVtpXS5wcm9kdWN0UHJpY2UgKyAnPC9wPicgKyByYXRpbmcgKyAnPC9hPicpO1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gRFlOQU1JQyBBRE1JTiBMSU5LXG4gICAgLy8gaHR0cDovL2t5cmVwLmZjY216LnNlcnZlcnRydXN0LmNvbS9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/dGFibGU9Q2F0ZWdvcmllcyZQYWdlPTEmSUQ9XG4gICAgdmFyIGNhdElEID0gU2VhcmNoUGFyYW1zLnNwbGl0KCcmJylbMl0uc3Vic3RyaW5nKDQpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndmNiLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICB2YXIgYWRtaW5MaW5rVVJMID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvYWRtaW4vQWRtaW5EZXRhaWxzX0dlbmVyaWMuYXNwP3RhYmxlPUNhdGVnb3JpZXMmUGFnZT0xJklEPScgKyBjYXRJRDtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaHJlZiA9IGFkbWluTGlua1VSTDtcbiAgICAgICAgICAgIGFkbWluTGluay5pbm5lclRleHQgPSAnRWRpdCBDYXRlZ29yeSc7XG4gICAgICAgICAgICBhZG1pbkxpbmsuY2xhc3NMaXN0LmFkZCgnZWRpdFNlYXJjaExpbmsnLCdidG4tc29saWQtLWJyYW5kLXR3bycpO1xuICAgICAgICAgICAgJCgnYm9keScpLnByZXBlbmQoYWRtaW5MaW5rKTtcbiAgICAgICAgfVxuICAgIH0sIDMwMDApO1xufVxuXG5cblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09XG5SRVNQT05TSVZFIFNIT1BQSU5HIENBUlRcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAoKHBhZ2VQYXRoID09PSAnL1Nob3BwaW5nQ2FydC5hc3AnKSB8fCBwYWdlUGF0aCA9PT0gJy9zaG9wcGluZ2NhcnQuYXNwJykge1xuICAgIC8vIHZhciByZUNhbGNCdXR0b24gPSAkKCcjYnRuUmVjYWxjdWxhdGUnKTtcbiAgICAvLyB2YXIgY291cG9uSW5wdXQgPSAkKCcjdjY1LWNhcnQtY291cG9uLWVudHJ5LWRldGFpbHMtaW5wdXQnKTtcbiAgICAvLyB2YXIgY291cG9uQnV0dG9uID0gJCgnI3Y2NS1jYXJ0LWNvdXBvbi1lbnRyeS1kZXRhaWxzLWJ1dHRvbicpO1xuICAgIC8vIHZhciBjYXJ0VG90YWxDb250YWluZXIgPSAkKCcjdjY1LWNhcnQtdG90YWwtZXN0aW1hdGUgdGQ6Zmlyc3QtY2hpbGQnKTtcbiAgICAvLyB2YXIgY2FydFRvdGFsVmFsdWUgPSBjYXJ0VG90YWxDb250YWluZXIudGV4dCgpLnRyaW0oKTtcblxuICAgIC8vICQoJyN2NjUtY2FydC1zaGlwcGluZy1kZXRhaWxzLXdyYXBwZXInKS5yZW1vdmUoKTtcbiAgICAvLyB2YXIgc2hvcHBpbmdDYXJ0Rm9ybSA9ICQoJyN2NjUtY2FydC10YWJsZScpLnBhcmVudCgnZm9ybScpO1xuICAgIC8vIHZhciBjYXJ0Um93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN2NjUtY2FydC10YWJsZSAudjY1LWNhcnQtZGV0YWlscy1yb3cnKTtcbiAgICAvLyBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Y2NS1jYXJ0LXRhYmxlIC52NjUtY2FydC1naWZ0Y2VydC1kZXRhaWxzLXJvdycpKSB7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN2NjUtY2FydC10YWJsZSAudjY1LWNhcnQtZ2lmdGNlcnQtZGV0YWlscy1yb3cnKSk7XG4gICAgLy8gfVxuICAgIC8vIHZhciBjbGVhbkNhcnRSb3dzID0gW107XG5cbiAgICAvLyBjb25zb2xlLmxvZygpO1xuICAgIC8vIGNvbnNvbGUubG9nKCk7XG5cbiAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGNhcnRSb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gICAgIHZhciByZW1vdmVMaW5rID0gY2FydFJvd3NbaV0ucXVlcnlTZWxlY3RvcignLnY2NS1jYXJ0LWl0ZW0tcmVtb3ZlLWxpbmsnKTtcbiAgICAvLyAgICAgdmFyIHByb2R1Y3RJbWFnZSA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJy52NjUtY2FydC1kZXRhaWwtcHJvZHVjdGltYWdlJykuaW5uZXJIVE1MO1xuICAgIC8vICAgICB2YXIgcHJvZHVjdE5hbWUgPSBjYXJ0Um93c1tpXS5xdWVyeVNlbGVjdG9yKCcudjY1LWNhcnQtZGV0YWlscy10ZXh0IC5jYXJ0LWl0ZW0tbmFtZScpO1xuICAgIC8vICAgICB2YXIgcXVhbnRpdHlJbnB1dCA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWUqPVwiUXVhbnRpdHlcIl0nKTtcbiAgICAvLyAgICAgdmFyIHByb2R1Y3RQcmljZSA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3RkOm50aC1jaGlsZCg5KSAuY2FydHRleHQnKS5pbm5lclRleHQ7XG4gICAgLy8gICAgIHZhciBzdW1QcmljZSA9IGNhcnRSb3dzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3RkOm50aC1jaGlsZCgxMSkgLmNhcnR0ZXh0JykuaW5uZXJUZXh0O1xuICAgIC8vICAgICBjbGVhbkNhcnRSb3dzLnB1c2goe1xuICAgIC8vICAgICAgICAgcmVtb3ZlTGluazogcmVtb3ZlTGluayxcbiAgICAvLyAgICAgICAgIHByb2R1Y3RJbWFnZTogcHJvZHVjdEltYWdlLFxuICAgIC8vICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLFxuICAgIC8vICAgICAgICAgcXVhbnRpdHlJbnB1dDogcXVhbnRpdHlJbnB1dCxcbiAgICAvLyAgICAgICAgIHByb2R1Y3RQcmljZTogcHJvZHVjdFByaWNlLFxuICAgIC8vICAgICAgICAgc3VtUHJpY2U6IHN1bVByaWNlXG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH1cblxuICAgIC8vIHNob3BwaW5nQ2FydEZvcm0ucHJlcGVuZCgnPGRpdiBpZD1cImdmcC1yZXNwb25zaXZlLWNhcnRcIj48dGFibGU+PHRoZWFkPjx0cj48dGggY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1wcm9kdWN0LWltYWdlXCI+PC90aD48dGggY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1wcm9kdWN0LWRlc2NyaXB0aW9uXCI+SXRlbTwvdGg+PHRoIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tdW5pdC1wcmljZVwiPlVuaXQgUHJpY2U8L3RoPjx0aCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXF1YW50aXR5XCI+UXVhbnRpdHk8L3RoPjx0aCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXVuaXQtdG90YWxcIj5Ub3RhbDwvdGg+PHRoIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tcmVtb3ZlLWl0ZW1cIj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PC90Ym9keT48L3RhYmxlPicgKyAnPHAgY2xhc3M9XCJjYXJ0LXN1YnRvdGFsXCI+PHN0cm9uZz5PcmRlciBTdWJ0b3RhbDogJyArIGNhcnRUb3RhbFZhbHVlICsgJzwvc3Ryb25nPjwvcD4nICsgY291cG9uSW5wdXRbMF0ub3V0ZXJIVE1MICsgY291cG9uQnV0dG9uWzBdLm91dGVySFRNTCArIHJlQ2FsY0J1dHRvblswXS5vdXRlckhUTUwgKyAnPC9kaXY+Jyk7XG5cbiAgICAvLyAkKCcjdjY1LWNhcnQtdGFibGUnKS5yZW1vdmUoKTtcblxuICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgY2xlYW5DYXJ0Um93cy5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgICB2YXIgY2FydFRhYmxlID0gJCgnI2dmcC1yZXNwb25zaXZlLWNhcnQgdGJvZHknKTtcbiAgICAvLyAgICAgY2FydFRhYmxlLmFwcGVuZCgnPHRyPjx0ZCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXByb2R1Y3QtaW1hZ2VcIj4nICsgY2xlYW5DYXJ0Um93c1tpXS5wcm9kdWN0SW1hZ2UgKyAnPC90ZD48dGQgY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1wcm9kdWN0LWRlc2NyaXB0aW9uXCI+JyArIGNsZWFuQ2FydFJvd3NbaV0ucHJvZHVjdE5hbWUuaW5uZXJUZXh0ICsgJzwvdGQ+PHRkIGNsYXNzPVwiZ2ZwLXJlc3BvbnNpdmUtY2FydC0tdW5pdC1wcmljZVwiPicgKyBjbGVhbkNhcnRSb3dzW2ldLnByb2R1Y3RQcmljZSArICc8L3RkPjx0ZCBjbGFzcz1cImdmcC1yZXNwb25zaXZlLWNhcnQtLXF1YW50aXR5XCI+JyArIGNsZWFuQ2FydFJvd3NbaV0ucXVhbnRpdHlJbnB1dC5vdXRlckhUTUwgKyAnPC90ZD48dGQgY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS11bml0LXRvdGFsXCI+JyArIGNsZWFuQ2FydFJvd3NbaV0uc3VtUHJpY2UgKyAnPC90ZD48dGQgY2xhc3M9XCJnZnAtcmVzcG9uc2l2ZS1jYXJ0LS1yZW1vdmUtaXRlbVwiPicgKyBjbGVhbkNhcnRSb3dzW2ldLnJlbW92ZUxpbmsub3V0ZXJIVE1MICsgJzwvdGQ+PC90cj4nKTtcbiAgICAvLyB9XG59XG5cblxuXG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuUkVTUE9OU0lWRSBDSEVDS09VVFxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbi8vIHZhciBjaGVja291dENvbnRhaW5lciA9ICQoJyN2NjUtb25lcGFnZS1EZXRhaWwnKTtcbi8vIGlmIChjaGVja291dENvbnRhaW5lci5sZW5ndGggPiAwKSB7XG4vLyAgICAgdmFyIGJpbGxpbmdIZWFkZXIgPSAkKCcjYmlsbGluZy1oZWFkZXInKS5odG1sKCk7XG4vLyAgICAgdmFyIGJpbGxpbmdDb250ZW50ID0gJCgnI3Y2NS1vbmVwYWdlLUJpbGxpbmdQYXJlbnQnKS5odG1sKCk7XG4vLyAgICAgdmFyIHNoaXBwaW5nSGVhZGVyID0gJCgnI3NoaXBwaW5nLWhlYWRlcicpLmh0bWwoKTtcbi8vICAgICB2YXIgc2hpcHBpbmdDb250ZW50ID0gJCgnI3Y2NS1vbmVwYWdlLVNoaXBwaW5nUGFyZW50JykuaHRtbCgpO1xuLy8gICAgIHZhciBhZGRpdGlvbmFsSW5mb0hlYWRlciA9ICQoJy52NjUtb25lcGFnZS1jdXN0b20taGVhZGVyLXJvdycpLmh0bWwoKTtcbi8vICAgICB2YXIgYWRkaXRpb25hbEluZm9Db250ZW50ID0gJCgnLnY2NS1vbmVwYWdlLWN1c3RvbS1kZXRhaWxzLXJvdycpLmh0bWwoKTtcbi8vICAgICB2YXIgc2hpcHBpbmdDb3N0SGVhZGVyID0gJCgnI3Y2NS1vbmVwYWdlLVNoaXBwaW5nQ29zdEhlYWRlcicpLmh0bWwoKTtcbi8vICAgICB2YXIgc2hpcHBpbmdDb3N0Q29udGVudCA9ICQoJyN2NjUtb25lcGFnZS1TaGlwcGluZ0Nvc3QnKVswXS5vdXRlckhUTUw7XG4vLyAgICAgdmFyIHNoaXBwaW5nVG90YWxzID0gJCgnI3Y2NS1vbmVwYWdlLVNoaXBwaW5nQ29zdFBhcmVudCcpLnBhcmVudCgpLmh0bWwoKTtcbi8vICAgICB2YXIgb3JkZXJTdW1tYXJ5SXRlbXMgPSAkKCcjdjY1LW9uZXBhZ2Utb3JkZXJzdW1tYXJ5LWl0ZW1zJykucGFyZW50KCkuaHRtbCgpO1xuLy8gICAgIHZhciBwYXltZW50Q29udGVudCA9ICQoJyN2NjUtb25lcGFnZS1wYXltZW50LWRldGFpbHMtcGFyZW50LXRhYmxlJylbMF0ub3V0ZXJIVE1MO1xuLy8gICAgIHZhciBwYXltZW50T3B0aW9ucyA9ICQoJyNQYXltZW50RElWJyk7XG4vLyAgICAgdmFyIG5vUGF5bWVudE9wdGlvbnMgPSAkKCcjTm9QYXltZW50RElWJyk7XG4vLyAgICAgdmFyIHNob3dQYXltZW50RmllbGRzID0gbm9QYXltZW50T3B0aW9ucy5uZXh0KCk7XG4vLyAgICAgdmFyIHBheW1lbnRNZXRob2RUeXBlID0gc2hvd1BheW1lbnRGaWVsZHMubmV4dCgpO1xuLy8gICAgIHZhciBzYXZlZFBheW1lbnRzQmxvY2sgPSBwYXltZW50TWV0aG9kVHlwZS5uZXh0KCk7XG4vLyAgICAgY29uc29sZS5sb2cocGF5bWVudE9wdGlvbnMpO1xuLy8gICAgIGNvbnNvbGUubG9nKG5vUGF5bWVudE9wdGlvbnMpO1xuLy8gICAgIGNvbnNvbGUubG9nKHNob3dQYXltZW50RmllbGRzKTtcbi8vICAgICBjb25zb2xlLmxvZyhwYXltZW50TWV0aG9kVHlwZSk7XG4vLyAgICAgY29uc29sZS5sb2coc2F2ZWRQYXltZW50c0Jsb2NrKTtcbi8vICAgICBpZiAoJCgnI3Y2NS1vbmVwYWdlLVJlZ2lzdHJhdGlvbkZvcm1GaWVsZHMnKS5sZW5ndGggPiAwKSB7XG4vLyAgICAgICAgIHZhciByZWdpc3RyYXRpb25QYXNzd29yZCA9ICQoJyN2NjUtb25lcGFnZS1SZWdpc3RyYXRpb25Gb3JtRmllbGRzIGlucHV0W25hbWU9XCJwYXNzd29yZFwiXScpLmZpcnN0KCkuYXR0cignaWQnLCAncGFzc3dvcmQnKTtcbi8vICAgICAgICAgcmVnaXN0cmF0aW9uUGFzc3dvcmQgPSAkKCcjdjY1LW9uZXBhZ2UtUmVnaXN0cmF0aW9uRm9ybUZpZWxkcyBpbnB1dFtuYW1lPVwicGFzc3dvcmRcIl0nKVswXS5vdXRlckhUTUw7XG4vLyAgICAgICAgIHZhciByZWdpc3RyYXRpb25QYXNzd29yZENvbmZpcm0gPSAkKCcjdjY1LW9uZXBhZ2UtUmVnaXN0cmF0aW9uRm9ybUZpZWxkcyBpbnB1dFtuYW1lPVwicGFzc3dvcmRhZ2FpblwiXScpLmZpcnN0KCkuYXR0cignaWQnLCAncGFzc3dvcmQtY29uZmlybScpO1xuLy8gICAgICAgICByZWdpc3RyYXRpb25QYXNzd29yZENvbmZpcm0gPSAkKCcjdjY1LW9uZXBhZ2UtUmVnaXN0cmF0aW9uRm9ybUZpZWxkcyBpbnB1dFtuYW1lPVwicGFzc3dvcmRhZ2FpblwiXScpWzBdLm91dGVySFRNTDtcbi8vICAgICB9XG4vLyAgICAgJCgnI3NwYW5fcGF5bWVudGZpZWxkc19jcmVkaXRfY2FyZCA+IHRhYmxlID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoNikgdGQ6Zmlyc3QtY2hpbGQnKS5yZW1vdmUoKTtcbi8vICAgICAkKCcjc3Bhbl9wYXltZW50ZmllbGRzX2NyZWRpdF9jYXJkID4gdGFibGUgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCg2KSB0ZDpsYXN0LWNoaWxkJykuYXR0cignY29sc3BhbicsICcxJyk7XG4gICAgXG4vLyAgICAgLy8gJCgnI3Y2NS1jaGVja291dC1wYXltZW50LWhlYWRlcicpLnBhcmVudCgpLnJlbW92ZSgpO1xuLy8gICAgIHZhciBzdWJtaXRPcmRlciA9ICQoJyNkaXZidG5TdWJtaXRPcmRlcicpO1xuLy8gICAgIHN1Ym1pdE9yZGVyLmZpbmQoJ2ltZycpLnJlbW92ZSgpO1xuLy8gICAgIHN1Ym1pdE9yZGVyLmZpbmQoJ2J1dHRvbicpLnRleHQoJ1BsYWNlIE9yZGVyJykuYWRkQ2xhc3MoJ2J0bi1zb2xpZC0tYnJhbmQtdHdvJyk7XG4vLyAgICAgdmFyIHBsYWNlT3JkZXIgPSBzdWJtaXRPcmRlci5odG1sKCk7XG4vLyAgICAgc3VibWl0T3JkZXIucmVtb3ZlKCk7XG5cbi8vICAgICAvLyAkKCcjdjY1LW9uZXBhZ2UtcGF5bWVudC1kZXRhaWxzLXBhcmVudC1yb3cgI3NwYW5fcGF5bWVudGZpZWxkc19wdXJjaGFzZV9vcmRlcl9udW1iZXIgLnY2NS1wYXltZW50LWRldGFpbHMtbGFiZWwtY2VsbCcpLmh0bWwoJ0pvaG4gRGVlcmUgRmluYW5jaWFsLzxiciAvPkpvaG4gRGVlcmUgQ0MgTnVtYmVyJyk7XG4gICAgXG5cblxuXG4vLyAgICAgdmFyIG9yZGVyQ29tbWVudHNFbGVtID0gJCgnI3Y2NS1vbmVwYWdlLW9yZGVyY29tbWVudHMtaW5wdXQnKTtcbi8vICAgICBvcmRlckNvbW1lbnRzRWxlbS5yZW1vdmUoKTtcbi8vICAgICAkKCcjdjY1LW9uZXBhZ2Utb3JkZXJjb21tZW50cy1yb3cnKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKTtcblxuXG4gICAgXG5cbi8vICAgICBjaGVja291dENvbnRhaW5lci5oaWRlKCk7XG4vLyAgICAgJCgnI3RhYmxlX2NoZWNrb3V0X2NhcnQwJykucmVtb3ZlKCk7XG5cbi8vICAgICAkKCcjRm9ybWF0TGlzdG9mRXJyb3JzRGl2JykuYWZ0ZXIoJzxkaXYgaWQ9XCJnZnAtcmVzcG9uc2l2ZS1jaGVja291dFwiPjwvZGl2PicpO1xuXG5cbiAgICBcbi8vICAgICB2YXIgcmVzcENoZWNrb3V0ID0gJCgnI2dmcC1yZXNwb25zaXZlLWNoZWNrb3V0Jyk7XG4vLyAgICAgdmFyIGNoZWNrb3V0V3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZnAtcmVzcG9uc2l2ZS1jaGVja291dCcpO1xuXG5cbiAgICBcbi8vICAgICBzZXRVcFJlc3BvbnNpdmVDaGVja291dCgpO1xuXG4vLyAgICAgdmFyIHRlcm1zTGluayA9ICQoJyNhcnRpY2xlQm9keV8xMTInKS5zaWJsaW5ncygndGFibGUnKS5maW5kKCd0cjpmaXJzdC1jaGlsZCB0ZDpsYXN0LWNoaWxkIGEnKTtcbi8vICAgICB2YXIgdGVybXNJbnB1dCA9ICQoJ2lucHV0W25hbWU9XCJPcmRlcnMuQ3VzdG9tX0ZpZWxkX1Rlcm1zb2ZVc2VcIl0nKTtcbi8vICAgICB0ZXJtc0lucHV0LnBhcmVudCgpLnJlbW92ZSgpO1xuICAgIFxuLy8gICAgIHZhciB0ZXJtc1N0YXRlbWVudCA9ICQoJyNhcnRpY2xlQm9keV8xMTInKS5zaWJsaW5ncygndGFibGUnKS5maW5kKCd0cjpmaXJzdC1jaGlsZCB0ZDpmaXJzdC1jaGlsZCcpLmh0bWwodGVybXNJbnB1dFswXS5vdXRlckhUTUwgKyAnSSBhZ3JlZSB0byB0aGUgPGEgaHJlZj1cIicgKyB0ZXJtc0xpbmsuYXR0cignaHJlZicpICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj5UZXJtcyBhbmQgQ29uZGl0aW9uczwvYT4nKTtcblxuLy8gICAgIHRlcm1zTGluay5yZW1vdmUoKTtcblxuLy8gICAgIHZhciByZXR1cm5zTGluayA9ICQoJyNhcnRpY2xlQm9keV8xMTInKS5zaWJsaW5ncygndGFibGUnKS5maW5kKCd0cjpsYXN0LWNoaWxkIHRkOmxhc3QtY2hpbGQgYScpO1xuLy8gICAgIHZhciByZXR1cm5zSW5wdXQgPSAkKCdpbnB1dFtuYW1lPVwiT3JkZXJzLkN1c3RvbV9GaWVsZF9BZ3JlZVJldHVybnNcIl0nKTtcbi8vICAgICByZXR1cm5zSW5wdXQucGFyZW50KCkucmVtb3ZlKCk7XG5cbi8vICAgICB2YXIgcmV0dXJuc1N0YXRlbWVudCA9ICQoJyNhcnRpY2xlQm9keV8xMTInKS5zaWJsaW5ncygndGFibGUnKS5maW5kKCd0cjpsYXN0LWNoaWxkIHRkOmZpcnN0LWNoaWxkJykuaHRtbChyZXR1cm5zSW5wdXRbMF0ub3V0ZXJIVE1MICsgJ0kgYWNjZXB0IHRoZSA8YSBocmVmPVwiJyArIHJldHVybnNMaW5rLmF0dHIoJ2hyZWYnKSArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+UmV0dXJucyBhbmQgU2hpcHBpbmcgUG9saWNpZXM8L2E+Jyk7XG4gICAgXG4vLyAgICAgdmFyIG9yZGVyVG90YWxzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9yZGVyLXRvdGFscy1jb250YWluZXInKTtcbi8vICAgICB2YXIgb3JkZXJPZmZzZXRUb3AgPSBvcmRlclRvdGFsc0NvbnRhaW5lci5vZmZzZXRUb3A7XG4vLyAgICAgdmFyIGNoZWNrb3V0V3JhcFRvcCA9ICQoJyN2NjUtb25lcGFnZS1Db250ZW50VGFibGUnKS5vZmZzZXQoKS50b3AgKyBjaGVja291dFdyYXAub2Zmc2V0VG9wO1xuLy8gICAgIHZhciBjaGVja291dENvbnRhaW5lcldpZHRoID0gY2hlY2tvdXRXcmFwLnF1ZXJ5U2VsZWN0b3IoJy5vcmRlci10b3RhbHMtY29udGFpbmVyJykub2Zmc2V0V2lkdGg7XG5cbi8vICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgIGNoZWNrb3V0Q29udGFpbmVyV2lkdGggPSBjaGVja291dFdyYXAucXVlcnlTZWxlY3RvcignLm9yZGVyLXRvdGFscy1jb250YWluZXInKS5vZmZzZXRXaWR0aDtcbi8vICAgICAgICAgY2hlY2tvdXRXcmFwVG9wID0gJCgnI3Y2NS1vbmVwYWdlLUNvbnRlbnRUYWJsZScpLm9mZnNldCgpLnRvcCArIGNoZWNrb3V0V3JhcC5vZmZzZXRUb3A7XG4vLyAgICAgfSk7XG4gICAgXG4vLyAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3RpY2t5Q2hlY2tvdXQpO1xuLy8gfVxuXG5cblxuXG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuS0lMTFNIRUVUXG49PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuJCgnaW1nW3NyYz1cIi92L3ZzcGZpbGVzL3RlbXBsYXRlcy9nZnAtdGVzdC9pbWFnZXMvY2xlYXIxeDEuZ2lmXCJdJykucmVtb3ZlKCk7XG4kKCcuY29sb3JzX3ByaWNlYm94IGltZ1tzcmM9XCIvdi92c3BmaWxlcy90ZW1wbGF0ZXMvZ2ZwLXRlc3QvaW1hZ2VzL1BCb3hfQm9yZGVyX0xlZnRfVG9wLmdpZlwiXScpLnBhcmVudCgndHInKS5yZW1vdmUoKTtcbmlmICgkKCcjdjY1LW9uZXBhZ2UtYnJlYWRjcnVtYicpKSB7XG4gICAgJCgnI3Y2NS1vbmVwYWdlLWJyZWFkY3J1bWInKS5yZW1vdmUoKTtcbn1cbiQoJyN2NjUtb25lcGFnZS1Db3B5QmlsbGluZ1RvU2hpcHBpbmdMaW5rJykucmVtb3ZlKCk7XG5cblxuXG4vKlxuPT09PT09PT09PT09PT09PT09PT09PT09PVxuU0lOR0xFIFBST0RVQ1Rcbj09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5pZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3NpbmdsZS1wcm9kdWN0JykpIHtcbiAgICAvLyBTRVRVUCBBRE1JTiBMSU5LXG4gICAgLy8gaHR0cDovL2t5cmVwLmZjY216LnNlcnZlcnRydXN0LmNvbS9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/dGFibGU9Q2F0ZWdvcmllcyZQYWdlPTEmSUQ9XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd2Y2ItYWN0aXZlJykpIHtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmtVUkwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hZG1pbi9BZG1pbkRldGFpbHNfR2VuZXJpYy5hc3A/dGFibGU9UHJvZHVjdHNfSm9pbmVkJlBhZ2U9MSZJRD0nICsgZ2xvYmFsX0N1cnJlbnRfUHJvZHVjdENvZGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBhZG1pbkxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhZG1pbkxpbmsuaHJlZiA9IGFkbWluTGlua1VSTDtcbiAgICAgICAgICAgIGFkbWluTGluay5pbm5lclRleHQgPSAnRWRpdCBQcm9kdWN0JztcbiAgICAgICAgICAgIGFkbWluTGluay5jbGFzc0xpc3QuYWRkKCdlZGl0UHJvZHVjdExpbmsnLCdidG4tc29saWQtLWJyYW5kLXR3bycpO1xuICAgICAgICAgICAgJCgnYm9keScpLnByZXBlbmQoYWRtaW5MaW5rKTtcbiAgICAgICAgfVxuICAgIH0sIDMwMDApO1xuXG4gICAgdmFyIHBhZ2VUaXRsZSA9ICQoJy52cC1wcm9kdWN0LXRpdGxlJylbMF0uaW5uZXJUZXh0O1xuXG4gICAgdmFyIHByb2R1Y3REZXNjcmlwdGlvbldyYXAgPSAkKCcjdjY1LXByb2R1Y3RkZXRhaWwtYWN0aW9uLXdyYXBwZXInKTtcbiAgICBwcm9kdWN0RGVzY3JpcHRpb25XcmFwLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKS5hdHRyKCdhbGlnbicsICdsZWZ0Jyk7XG4gICAgcHJvZHVjdERlc2NyaXB0aW9uV3JhcC5zaWJsaW5ncygpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcblxuICAgIHVwZGF0ZUhlcm8oaGVyb0ltZywgcGFnZVRpdGxlKTtcblxuICAgIC8vIEdFVCBUSEUgQ09OVEFJTkVSIEFORCBEUk9QIElOIE5FVyBDT05UQUlORVIgQkVGT1JFIFRIRSBFTEVNRU5UIFRPIEJFIERFTEVURURcbiAgICB2YXIgcmVsYXRlZFByb2R1Y3RzQ29udGFpbmVyID0gJCgnI3Y2NS1wcm9kdWN0LXBhcmVudCcpLm5leHQoKS5maW5kKCcuY29sb3JzX2xpbmVzX2xpZ2h0JykuZmlyc3QoKTtcbiAgICBpZiAocmVsYXRlZFByb2R1Y3RzQ29udGFpbmVyWzBdICYmIHJlbGF0ZWRQcm9kdWN0c0NvbnRhaW5lclswXS5pZCAhPT0gJ3Y2NS1wcm9kdWN0LXJlbGF0ZWQnKSB7XG4gICAgICAgIGdldFJlbGF0ZWRQcm9kdWN0cygpO1xuICAgIH1cbiAgICBcblxuICAgICQoJ3NwYW5baXRlbXByb3A9XCJkZXNjcmlwdGlvblwiXScpLnByZXBlbmQoJzxwIGNsYXNzPVwiaDFcIj4nICsgcGFnZVRpdGxlICsgJzwvcD4nKTtcblxuICAgICQoJyN2NjUtcHJvZHVjdC1wYXJlbnQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSA+IHRkOmZpcnN0LWNoaWxkJykuYWRkQ2xhc3MoJ2ZlYXR1cmVkLWltYWdlLXBhcmVudCcpLnNpYmxpbmdzKCkuYWRkQ2xhc3MoJ2ZlYXR1cmVkLWNvbnRlbnQtY29udGFpbmVyJyk7XG5cblxuICAgIHZhciBmaXRtZW50U3RyaW5nID0gJCgnI1Byb2R1Y3REZXRhaWxfUHJvZHVjdERldGFpbHNfZGl2MiBsaScpO1xuICAgIGlmIChmaXRtZW50U3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGZpdG1lbnRBcnJheSA9IGZpdG1lbnRTdHJpbmdbMF0uaW5uZXJUZXh0LnNwbGl0KCd8Jykuc29ydCgpO1xuICAgICAgICAkKCcjUHJvZHVjdERldGFpbF9Qcm9kdWN0RGV0YWlsc19kaXYyJykucmVtb3ZlKCk7XG4gICAgICAgICQoJyN2NjUtcHJvZHVjdC1wYXJlbnQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgyKSA+IHRkOm50aC1jaGlsZCgyKSA+IHRhYmxlID4gdGJvZHkgPiB0ciA+IHRkID4gdGFibGUgPiB0Ym9keScpLmFwcGVuZCgnPHRyPjx0ZCBjb2xzcGFuPVwiMlwiPjxoMyBjbGFzcz1cIm1hci10LS1tb3JlXCI+JyArIHBhZ2VUaXRsZSArICcgZml0cyB0aGUgZm9sbG93aW5nIG1vZGVsczo8L2gzPjxocj48dWwgaWQ9XCJnZnAtZml0bWVudFwiPjwvdWw+PC90cj48L3RkPicpO1xuICAgICAgICB2YXIgZml0bWVudExpc3QgPSAkKCcjZ2ZwLWZpdG1lbnQnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaXRtZW50QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZpdG1lbnRMaXN0LmFwcGVuZCgnPGxpPicgKyBmaXRtZW50QXJyYXlbaV0gKyAnPC9saT4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICgkKCcjcmVsYXRlZF9wcm9kdWN0c19jb250ZW50JykubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3JtYXRSZWxhdGVkUHJvZHVjdHMoKTtcbiAgICAgICAgdmFyIHByb2R1Y3RGZWF0dXJlSW1hZ2UgPSAkKCcjcHJvZHVjdF9waG90b196b29tX3VybCcpLnBhcmVudCgndGQnKTtcbiAgICAgICAgcHJvZHVjdEZlYXR1cmVJbWFnZS5hZGRDbGFzcygnZmVhdHVyZWQtaW1hZ2UtY29udGFpbmVyJyk7XG4gICAgICAgIFxuICAgICAgICBpZiAocHJvZHVjdEZlYXR1cmVJbWFnZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZml4UHJvZHVjdEZlYXR1cmVJbWFnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJvZHVjdERlc2NyaXB0aW9uID0gJCgnI3Byb2R1Y3RfZGVzY3JpcHRpb24nKTtcbiAgICBpZiAocHJvZHVjdERlc2NyaXB0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLmZlYXR1cmVkLWNvbnRlbnQtY29udGFpbmVyJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ2ZwLXByb2R1Y3QtZGVzY3JpcHRpb25cIj4nICsgcHJvZHVjdERlc2NyaXB0aW9uLmh0bWwoKSArICc8L2Rpdj4nKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvZHVjdFRlY2hTcGVjcyA9ICQoJyNQcm9kdWN0RGV0YWlsX1RlY2hTcGVjc19kaXYnKTtcbiAgICBpZiAocHJvZHVjdFRlY2hTcGVjcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgaWYgKHByb2R1Y3RUZWNoU3BlY3MudGV4dCgpLnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgdmFyIHJlcGxhY2VkQnkgPSBwcm9kdWN0VGVjaFNwZWNzLnRleHQoKS50cmltKCkuc3BsaXQoJ1RoaXMgSm9obiBEZWVyZSBQYXJ0IGhhcyBiZWVuIHJlcGxhY2VkIGJ5IHBhcnQgbnVtYmVyICcpWzFdLnNwbGl0KCctLT4nKTtcbiAgICAgICAgICAgIGlmIChwcm9kdWN0VGVjaFNwZWNzWzBdLnRleHRDb250ZW50LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICQoJy5mZWF0dXJlZC1jb250ZW50LWNvbnRhaW5lcicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImdmcC1wcm9kdWN0LXRlY2gtc3BlY3NcIj48aDM+VGhpcyBKb2huIERlZXJlIFBhcnQgaGFzIGJlZW4gcmVwbGFjZWQgYnkgcGFydChzKTo8L2gzPjxocj48dWw+PC91bD48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZWRCeUxpc3QgPSAkKCcuZ2ZwLXByb2R1Y3QtdGVjaC1zcGVjcyB1bCcpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVwbGFjZWRCeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlZEJ5TGlzdC5hcHBlbmQoJzxsaT48YSBocmVmPVwiLy1wLycgKyByZXBsYWNlZEJ5W2ldICsgJy5odG1cIj4nICsgcmVwbGFjZWRCeVtpXSArICc8L2E+PC9saT4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHZhciBwcm9kdWN0RXh0SW5mbyA9ICQoJyNQcm9kdWN0RGV0YWlsX0V4dEluZm9fZGl2Jyk7XG4gICAgaWYgKHByb2R1Y3RFeHRJbmZvLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXG4gICAgICAgIGlmIChwcm9kdWN0RXh0SW5mby5odG1sKCkudHJpbSgpICE9PSBcIlwiKSB7XG5cbiAgICAgICAgICAgIHZhciBwYXJ0U3VicyA9IHByb2R1Y3RFeHRJbmZvLmh0bWwoKS5zcGxpdCgnVGhpcyBKb2huIERlZXJlIFBhcnQgcmVwbGFjZXMgcGFydCBudW1iZXIocykgJylbMV0uc3BsaXQoJ3wnKTtcbiAgICAgICAgICAgIHZhciBjbGVhblBhcnRTdWJzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRTdWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2xlYW5QYXJ0U3Vicy5wdXNoKHBhcnRTdWJzW2ldLnRyaW0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjbGVhblBhcnRTdWJzKTtcbiAgICAgICAgICAgICQoJy5mZWF0dXJlZC1jb250ZW50LWNvbnRhaW5lcicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImdmcC1wcm9kdWN0LWV4dGluZm9cIj48aDM+VGhpcyBKb2huIERlZXJlIFBhcnQgcmVwbGFjZXMgcGFydCBudW1iZXIocyk6PC9oMz48aHI+PHVsPjwvdWw+PC9kaXY+Jyk7XG4gICAgICAgICAgICB2YXIgcGFydFN1YnNMaXN0ID0gJCgnLmdmcC1wcm9kdWN0LWV4dGluZm8gdWwnKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xlYW5QYXJ0U3Vicy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcnRTdWJzTGlzdC5hcHBlbmQoJzxsaT4nICsgY2xlYW5QYXJ0U3Vic1tpXSArICc8L2xpPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICB2YXIgdm9sdXN0aW9uVGFiID0gJCgnI1Byb2R1Y3REZXRhaWxfUHJvZHVjdERldGFpbHNfZGl2JykucGFyZW50cygnLmNvbG9yc19kZXNjcmlwdGlvbmJveCcpO1xuICAgIHZvbHVzdGlvblRhYi5wcmV2KCkucmVtb3ZlKClcbiAgICB2b2x1c3Rpb25UYWIucmVtb3ZlKCk7XG5cbn1cblxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09PVxuQVJUSUNMRSAtIFRBTEsgV0lUSCBBIFRFQ0hcbj09PT09PT09PT09PT09PT09PT09PT09PT09XG4qL1xuaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhcnRpY2xlLS10YWxrLXdpdGgtYS10ZWNoJykpIHtcbiAgICB1cGRhdGVIZXJvKCd1cmwoL3YvdnNwZmlsZXMvdGVtcGxhdGVzL2dmcC10ZXN0L2ltZy9oZXJvLS10YWxrLXdpdGgtYS10ZWNoLmpwZyknLCBkb2N1bWVudC50aXRsZSk7XG59XG5cblxuXG5mdW5jdGlvbiBnZXRSYW5kb21JbnQobWluLCBtYXgpIHtcbiAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gIG1heCA9IE1hdGguZmxvb3IobWF4KTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47IC8vVGhlIG1heGltdW0gaXMgaW5jbHVzaXZlIGFuZCB0aGUgbWluaW11bSBpcyBpbmNsdXNpdmUgXG59XG5cbmZ1bmN0aW9uIHRvZ2dsZU1lbnUoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdtZW51LW9wZW4nKTtcbiAgICB2YXIgbWVudUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoYW1idXJnZXInKTtcbiAgICBtZW51QnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVNZW51QWNjb3JkaWFuKGUpIHtcbiAgICB2YXIgc2VsZiA9IGUudGFyZ2V0O1xuICAgIGlmICgkKHNlbGYpLnBhcmVudCgpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAkKHNlbGYpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJChzZWxmKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY2NvcmRpYW4tb3BlbicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgICQoc2VsZikucGFyZW50KCcubWVudS1pdGVtLWhhcy1jaGlsZHJlbicpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5maW5kKCcuc3ViLW1lbnUtLWxldmVsLXR3bycpLnJlbW92ZUNsYXNzKCdhY2NvcmRpYW4tb3BlbicpO1xuICAgICQoc2VsZikuc2libGluZ3MoKS5hZGRDbGFzcygnYWNjb3JkaWFuLW9wZW4nKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlQ2hhdFdpbmRvdyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh3aW5kb3cuZmNXaWRnZXQuaXNPcGVuKCkgIT0gdHJ1ZSkge1xuICAgICAgICB3aW5kb3cuZmNXaWRnZXQub3BlbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5mY1dpZGdldC5jbG9zZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlSGVybyhoZXJvSW1nLCBoZXJvVGV4dCkge1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09IFwiL1wiIHx8IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvRGVmYXVsdC5hc3BcIikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHZhciBoZXJvQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm8tLW5vdC1ob21lJyk7XG4gICAgaGVyb0NvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBoZXJvSW1nO1xuICAgIFxuICAgIGlmICghcGFnZVBhdGgubWF0Y2goL0NsZWFyYW5jZS9pKSkge1xuICAgICAgICB2YXIgaGVyb0hlYWRpbmcgPSBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2gxJyk7XG4gICAgICAgIGhlcm9IZWFkaW5nLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICBoZXJvSGVhZGluZy5pbm5lckhUTUwgPSBoZXJvVGV4dDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhlcm9Db250YWluZXIuc3R5bGUudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgIGhlcm9Db250YWluZXIucXVlcnlTZWxlY3RvcignLnNpdGUtd2lkdGgnKS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImN1cnJlbnQtc3BlY2lhbC1vZmZlcnMtaXRlbS0tdGFnXCI+PHA+MjUlIC0gNTAlIE9mZjwvcD48L2Rpdj48ZGl2IGNsYXNzPVwiY3VycmVudC1zcGVjaWFsLW9mZmVycy1pdGVtLS10aXRsZVwiPjxoND5DbGVhcmFuY2UgU2F2aW5nczwvaDQ+PHAgY2xhc3M9XCJtYXItdC0tbW9yZVwiIHN0eWxlPVwiZm9udC1zaXplOiAxLjNyZW07IG1heC13aWR0aDogMzkwcHg7IHRleHQtc2hhZG93OiAzcHggM3B4IDVweCByZ2JhKDAsMCwwLDAuNyk7XCI+RXZlcnl0aGluZyBpcyBwcmljZWQgdG9vIGxvdyB0byBzaG93ISBBZGQgdG8geW91ciBjYXJ0IHRvIHNlZSB5b3VyIHNhdmluZ3MuPC9wPjwvZGl2Pic7XG4gICAgaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VycmVudC1zcGVjaWFsLW9mZmVycy1pdGVtLS10YWcnKS5zdHlsZS5wb3NpdGlvbiA9ICdzdGF0aWMnO1xuICAgIGhlcm9Db250YWluZXIucXVlcnlTZWxlY3RvcignLmN1cnJlbnQtc3BlY2lhbC1vZmZlcnMtaXRlbS0tdGl0bGUnKS5zdHlsZS5wb3NpdGlvbiA9ICdzdGF0aWMnO1xuICAgIGhlcm9Db250YWluZXIucXVlcnlTZWxlY3RvcignLmN1cnJlbnQtc3BlY2lhbC1vZmZlcnMtaXRlbS0tdGFnIHAnKS5zdHlsZS5mb250U2l6ZSA9ICcyZW0nO1xuICAgIGhlcm9Db250YWluZXIucXVlcnlTZWxlY3RvcignLmN1cnJlbnQtc3BlY2lhbC1vZmZlcnMtaXRlbS0tdGFnIHAnKS5zdHlsZS50ZXh0VHJhbnNmb3JtID0gJ3VwcGVyY2FzZSc7XG4gICAgaGVyb0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VycmVudC1zcGVjaWFsLW9mZmVycy1pdGVtLS10aXRsZSBoNCcpLnN0eWxlLmZvbnRTaXplID0gJzIuNWVtJztcbiAgICBoZXJvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50LXNwZWNpYWwtb2ZmZXJzLWl0ZW0tLXRpdGxlIGg0Jykuc3R5bGUudGV4dFRyYW5zZm9ybSA9ICd1cHBlcmNhc2UnO1xuXG59XG5cbmZ1bmN0aW9uIGZpeEhlYWRlcigpIHtcbiAgICBpZiAod2luZG93LnNjcm9sbFkgPiBzaXRlSGVhZGVyT2Zmc2V0KSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1RvcCA9IHNpdGVIZWFkZXIub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdzaXRlLWhlYWRlci1maXhlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1RvcCA9IDA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc2l0ZS1oZWFkZXItZml4ZWQnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1hdGNoQ2hlY2tvdXRJbnB1dChlbGVtLCB2YWwpIHtcbiAgICB2YXIgaW5wdXQgPSBlbGVtLmlkLnNwbGl0KCctJylbMl0uc3Vic3RyaW5nKDQpO1xuICAgIHZhciBzaGlwRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2NjUtb25lcGFnZS1zaGlwJyArIGlucHV0KTtcbiAgICBpZiAoIXNoaXBFbGVtKSB7IHJldHVybjsgfVxuICAgIHNoaXBFbGVtLnZhbHVlID0gdmFsO1xufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGVkUHJvZHVjdHMoKSB7XG4gICAgJCgnI3Y2NS1wcm9kdWN0LXBhcmVudCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpID4gdGQ6bnRoLWNoaWxkKDIpID4gdGFibGUgPiB0Ym9keSA+IHRyID4gdGQgPiB0YWJsZSA+IHRib2R5JykuYXBwZW5kKCc8dHI+PHRkIGNvbHNwYW49XCIyXCI+PGRpdiBpZD1cImdmcC1yZWxhdGVkLXByb2R1Y3RzXCI+PC9kaXY+PC90cj48L3RkPicpO1xuXG4gICAgLy8gR0VUIEFMTCBUSEUgREFUQVxuICAgIHZhciByZWxhdGVkUHJvZHVjdHMgPSByZWxhdGVkUHJvZHVjdHNDb250YWluZXIuZmluZCgnLnY2NS1wcm9kdWN0RGlzcGxheScpO1xuICAgIHZhciByZWxhdGVkUHJvZHVjdFRpdGxlID0gcmVsYXRlZFByb2R1Y3RzLmZpbmQoJ3RyOmZpcnN0LWNoaWxkIC52NjUtcHJvZHVjdE5hbWUnKTtcblxuICAgIHZhciByZWxhdGVkUHJvZHVjdFByaWNlID0gcmVsYXRlZFByb2R1Y3RzLmZpbmQoJ3RyOm50aC1jaGlsZCgyKSAucHJvZHVjdF9wcm9kdWN0cHJpY2UnKTtcblxuXG4gICAgLy8gQ0xFQU4gVEhFIElNQUdFIFBBVEggVE8gR0VUIEJFVFRFUiBSRVNcbiAgICB2YXIgcmVsYXRlZFByb2R1Y3RJbWcgPSByZWxhdGVkUHJvZHVjdHMuZmluZCgndHI6bGFzdC1jaGlsZCAudjY1LXByb2R1Y3RQaG90bycpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVsYXRlZFByb2R1Y3RJbWcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGltYWdlUGF0aCA9IHJlbGF0ZWRQcm9kdWN0SW1nW2ldLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYztcbiAgICAgICAgaWYgKCFpbWFnZVBhdGgubWF0Y2goL25vcGhvdG8vKSkge1xuICAgICAgICAgICAgcmVsYXRlZFByb2R1Y3RJbWdbaV0ucXVlcnlTZWxlY3RvcignaW1nJykuc3JjID0gaW1hZ2VQYXRoLnN1YnN0cmluZygwLCBpbWFnZVBhdGgubGVuZ3RoIC0gNikgKyAnLTJUJyArIGltYWdlUGF0aC5zdWJzdHJpbmcoaW1hZ2VQYXRoLmxlbmd0aCAtIDQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gV0lQRSBUSEUgT0xEIExJU1RcbiAgICByZWxhdGVkUHJvZHVjdHNDb250YWluZXIucmVtb3ZlKCk7XG4gICAgXG4gICAgLy8gQ1JFQVRFIFJFTEFURUQgUFJPRFVDVCBBUlJBWVxuICAgIHZhciBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbGF0ZWRQcm9kdWN0VGl0bGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGhhc1ByaWNlID0gJyc7XG4gICAgICAgIGlmIChyZWxhdGVkUHJvZHVjdFByaWNlW2ldKSB7XG4gICAgICAgICAgICBoYXNQcmljZSA9IHJlbGF0ZWRQcm9kdWN0UHJpY2VbaV0uaW5uZXJUZXh0LnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHMucHVzaCh7XG4gICAgICAgICAgICBwcm9kdWN0VGl0bGU6IHJlbGF0ZWRQcm9kdWN0VGl0bGVbaV0ucXVlcnlTZWxlY3RvcignYScpLmlubmVySFRNTC50cmltKCksXG4gICAgICAgICAgICBwcm9kdWN0TGluazogcmVsYXRlZFByb2R1Y3RUaXRsZVtpXS5xdWVyeVNlbGVjdG9yKCdhJykuaHJlZixcbiAgICAgICAgICAgIHByb2R1Y3RJbWc6IHJlbGF0ZWRQcm9kdWN0SW1nW2ldLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLm91dGVySFRNTCxcbiAgICAgICAgICAgIHByb2R1Y3RQcmljZTogaGFzUHJpY2VcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJCgnI2dmcC1yZWxhdGVkLXByb2R1Y3RzJykuaHRtbCgnPGgzPkFsdGVybmF0aXZlcyB0byAnICsgcGFnZVRpdGxlICsgJzwvaDM+PHVsIGNsYXNzPVwiY29zdC1hbHRlcm5hdGl2ZXMtbGlzdFwiPjwvdWw+Jyk7XG5cblxuICAgIHZhciBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHNUYWJsZSA9ICQoJyNnZnAtcmVsYXRlZC1wcm9kdWN0cyAuY29zdC1hbHRlcm5hdGl2ZXMtbGlzdCcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGh0bWwgPSAnPGxpPjxhIGhyZWY9XCInICsgY2xlYW5BbHRlcm5hdGl2ZVByb2R1Y3RzW2ldLnByb2R1Y3RMaW5rICsgJ1wiPjxkaXYgY2xhc3M9XCJjb3N0LWFsdGVybmF0aXZlcy1saXN0LS1pbWFnZVwiPicgKyBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHNbaV0ucHJvZHVjdEltZyArICc8L2Rpdj48ZGl2IGNsYXNzPVwiY29zdC1hbHRlcm5hdGl2ZXMtbGlzdC0tY29udGVudFwiPjxwPjxzdHJvbmc+JyArIGNsZWFuQWx0ZXJuYXRpdmVQcm9kdWN0c1tpXS5wcm9kdWN0VGl0bGUgKyAnPC9zdHJvbmc+PC9wPjxwPicgKyBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHNbaV0ucHJvZHVjdFByaWNlICsgJzwvcD48L2Rpdj48L2E+PC9saT4nO1xuICAgICAgICBjbGVhbkFsdGVybmF0aXZlUHJvZHVjdHNUYWJsZS5hcHBlbmQoaHRtbCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRSZWxhdGVkUHJvZHVjdHMoKSB7XG4gICAgdmFyIGNsZWFuUmVsYXRlZFByb2R1Y3RzID0gW107O1xuICAgIHZhciBwcm9kdWN0VGl0bGVzID0gJCgnI3JlbGF0ZWRfcHJvZHVjdHNfY29udGVudCAudjY1LXByb2R1Y3ROYW1lJyk7XG4gICAgdmFyIHByb2R1Y3RQcmljZSA9ICQoJyNyZWxhdGVkX3Byb2R1Y3RzX2NvbnRlbnQgLnY2NS1wcm9kdWN0QXZhaWxhYmlsaXR5IC5wcm9kdWN0X3Byb2R1Y3RwcmljZScpO1xuICAgIHZhciBwcm9kdWN0SW1nID0gJCgnI3JlbGF0ZWRfcHJvZHVjdHNfY29udGVudCAudjY1LXByb2R1Y3RQaG90bycpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0VGl0bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpbWdQYXRoID0gcHJvZHVjdEltZ1tpXS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmM7XG4gICAgICAgIGltZ1BhdGggPSBpbWdQYXRoLnN1YnN0cmluZygwLCBpbWdQYXRoLmxlbmd0aCAtIDYpICsgJy0yVCcgKyBpbWdQYXRoLnN1YnN0cmluZyhpbWdQYXRoLmxlbmd0aCAtIDQpO1xuICAgICAgICBcbiAgICAgICAgdmFyIGhhc1ByaWNlID0gJyc7XG4gICAgICAgIGlmIChwcm9kdWN0UHJpY2VbaV0pIHtcbiAgICAgICAgICAgIHZhciBoYXNQcmljZSA9IHByb2R1Y3RQcmljZVtpXS5pbm5lclRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhblJlbGF0ZWRQcm9kdWN0cy5wdXNoKHtcbiAgICAgICAgICAgIHJlbGF0ZWRQcm9kdWN0VGl0bGU6IHByb2R1Y3RUaXRsZXNbaV0uaW5uZXJUZXh0LFxuICAgICAgICAgICAgcmVsYXRlZFByb2R1Y3RQcmljZTogaGFzUHJpY2UsXG4gICAgICAgICAgICByZWxhdGVkUHJvZHVjdEltZzogaW1nUGF0aCxcbiAgICAgICAgICAgIHJlbGF0ZWRQcm9kdWN0TGluazogcHJvZHVjdEltZ1tpXS5xdWVyeVNlbGVjdG9yKCdhJykuaHJlZlxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKCcjdjY1LXByb2R1Y3QtcmVsYXRlZCcpLmJlZm9yZSgnPGRpdiBjbGFzcz1cInNsaWRlci0tcmVsYXRlZC1wcm9kdWN0c1wiPjxoMyBjbGFzcz1cImhhcy10ZXh0LWNlbnRlciBtYXItYlwiPlByb2R1Y3RzIHJlbGF0ZWQgdG8gJyArIHBhZ2VUaXRsZSArICc8L2gzPjxkaXYgY2xhc3M9XCJzbGlkZXJcIj48L2Rpdj48L2Rpdj4nKTtcbiAgICAkKCcjdjY1LXByb2R1Y3QtcmVsYXRlZCcpLnJlbW92ZSgpO1xuXG4gICAgdmFyIHNsaWRlclJlbGF0ZWRQcm9kdWN0cyA9ICQoJy5zbGlkZXItLXJlbGF0ZWQtcHJvZHVjdHMgPiBkaXYnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xlYW5SZWxhdGVkUHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2xpZGVyUmVsYXRlZFByb2R1Y3RzLmFwcGVuZCgnPGRpdj48YSBocmVmPVwiJyArIGNsZWFuUmVsYXRlZFByb2R1Y3RzW2ldLnJlbGF0ZWRQcm9kdWN0TGluayArICdcIj48aW1nIHNyYz1cIicgKyBjbGVhblJlbGF0ZWRQcm9kdWN0c1tpXS5yZWxhdGVkUHJvZHVjdEltZyArICdcIiAvPicgKyBjbGVhblJlbGF0ZWRQcm9kdWN0c1tpXS5yZWxhdGVkUHJvZHVjdFRpdGxlICsgJzwvYT48L2Rpdj4nKTtcbiAgICB9ICAgXG5cbn1cblxuZnVuY3Rpb24gZml4UHJvZHVjdEZlYXR1cmVJbWFnZSgpIHtcbiAgICAvLyBJRiBTTUFMTEVSIFNDUkVFTlMgR0VUIE9VVFRBIEhFUkVcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCAxMDgwKSB7IHJldHVybjsgfVxuICAgIFxuICAgIC8vIEdSQUJCSU5HIEVMRU1FTlRTIEFORCBESU1FTlNJT05TXG4gICAgdmFyIGZlYXR1cmVkSW1hZ2VQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVhdHVyZWQtaW1hZ2UtcGFyZW50Jyk7XG4gICAgdmFyIGZlYXR1cmVkQ29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWF0dXJlZC1jb250ZW50LWNvbnRhaW5lcicpO1xuICAgIHZhciBlbGVtV2lkdGggPSAzNTA7XG4gICAgdmFyIHByb2R1Y3RPZmZzZXQgPSBwcm9kdWN0RmVhdHVyZUltYWdlLm9mZnNldCgpLnRvcDtcbiAgICB2YXIgZmVhdHVyZWRDb250ZW50SGVpZ2h0ID0gZmVhdHVyZWRDb250ZW50Q29udGFpbmVyLm9mZnNldEhlaWdodDtcbiAgICB2YXIgZmVhdHVyZWRJbWFnZUhlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWF0dXJlZC1pbWFnZS1jb250YWluZXInKS5vZmZzZXRIZWlnaHQ7XG5cblxuICAgIC8vIExFVCdTIFNDUk9PTFxuICAgIGlmICgod2luZG93LnNjcm9sbFkgPiAocHJvZHVjdE9mZnNldCAtIHNpdGVIZWFkZXJIZWlnaHQpKSAmJiAod2luZG93LnNjcm9sbFkgPCAoc2l0ZUhlYWRlckhlaWdodCArIChmZWF0dXJlZENvbnRlbnRIZWlnaHQgLSBmZWF0dXJlZEltYWdlSGVpZ2h0KSkpKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZmVhdHVyZWQtaW1hZ2UtZml4ZWQnKTtcbiAgICAgICAgZmVhdHVyZWRJbWFnZVBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWShjYWxjKCcgKyBzaXRlSGVhZGVySGVpZ2h0ICsgJ3B4JyArICcgLSAxcmVtKSc7XG4gICAgICAgIGZlYXR1cmVkSW1hZ2VQYXJlbnQuc3R5bGUubWF4V2lkdGggPSBlbGVtV2lkdGggKyAncHgnO1xuICAgICAgICBmZWF0dXJlZENvbnRlbnRDb250YWluZXIuc3R5bGUucGFkZGluZ0xlZnQgPSAnY2FsYygnICsgZWxlbVdpZHRoICsgJ3B4ICsgMXJlbSknO1xuICAgIH0gZWxzZSBpZiAod2luZG93LnNjcm9sbFkgPCBzaXRlSGVhZGVySGVpZ2h0KSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZmVhdHVyZWQtaW1hZ2UtZml4ZWQnKTtcbiAgICAgICAgZmVhdHVyZWRJbWFnZVBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgZmVhdHVyZWRJbWFnZVBhcmVudC5zdHlsZS5tYXhXaWR0aCA9ICdhdXRvJztcbiAgICAgICAgZmVhdHVyZWRDb250ZW50Q29udGFpbmVyLnN0eWxlLnBhZGRpbmdMZWZ0ID0gJzFyZW0nO1xuICAgIH0gZWxzZSBpZiAod2luZG93LnNjcm9sbFkgPiAoc2l0ZUhlYWRlckhlaWdodCArIChmZWF0dXJlZENvbnRlbnRIZWlnaHQgLSBmZWF0dXJlZEltYWdlSGVpZ2h0KSkpIHtcbiAgICAgICAgdmFyIG5lZ1Njcm9sbCA9ICh3aW5kb3cuc2Nyb2xsWSAtIChmZWF0dXJlZENvbnRlbnRIZWlnaHQgLSBmZWF0dXJlZEltYWdlSGVpZ2h0KSAtIHNpdGVIZWFkZXJIZWlnaHQpO1xuICAgICAgICBmZWF0dXJlZEltYWdlUGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKGNhbGMoLScgKyBuZWdTY3JvbGwgKyAncHggKyAnICsgc2l0ZUhlYWRlckhlaWdodCArICdweCkpJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN0aWNreUNoZWNrb3V0KCkge1xuICAgIC8vIElGIFNNQUxMRVIgU0NSRUVOUyBHRVQgT1VUVEEgSEVSRVxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDYwMCkgeyByZXR1cm47IH1cblxuICAgIHZhciBvcmRlckRldGFpbHMgPSAkKCcub3JkZXItZGV0YWlscycpO1xuICAgIHZhciBvcmRlckRldGFpbHNIZWlnaHQgPSBvcmRlckRldGFpbHNbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgIFxuICAgIHZhciBvcmRlclRvdGFscyA9ICAkKCcub3JkZXItdG90YWxzLWNvbnRhaW5lcicpO1xuICAgIHZhciBvcmRlclRvdGFsc0hlaWdodCA9ICBvcmRlclRvdGFsc1swXS5vZmZzZXRIZWlnaHQ7XG5cbiAgICBpZiAoKHdpbmRvdy5zY3JvbGxZID4gKGNoZWNrb3V0V3JhcFRvcCAtIChzaXRlSGVhZGVySGVpZ2h0ICsgKDE4ICogMykpKSkgJiYgKHdpbmRvdy5zY3JvbGxZIDwgKG9yZGVyRGV0YWlsc0hlaWdodCArIG9yZGVyT2Zmc2V0VG9wIC0gb3JkZXJUb3RhbHNIZWlnaHQgLSBzaXRlSGVhZGVySGVpZ2h0IC0gKDE4ICogMykpKSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2NhcnQtdG90YWxzLWZpeGVkJyk7XG4gICAgICAgIG9yZGVyVG90YWxzQ29udGFpbmVyLnN0eWxlLm1heFdpZHRoID0gY2hlY2tvdXRDb250YWluZXJXaWR0aCArICdweCc7XG4gICAgICAgIG9yZGVyVG90YWxzQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKCcgKyAoc2l0ZUhlYWRlckhlaWdodCArICgxOCArIDExKSkgKyAncHgpJztcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5zY3JvbGxZID4gKChvcmRlckRldGFpbHNIZWlnaHQgKyBvcmRlck9mZnNldFRvcCkgLSBvcmRlclRvdGFsc0hlaWdodCAtIHNpdGVIZWFkZXJIZWlnaHQgLSAoMTggKiAzKSkpIHtcbiAgICAgICAgdmFyIG5lZ1Njcm9sbCA9ICh3aW5kb3cuc2Nyb2xsWSAtIG9yZGVyVG90YWxzSGVpZ2h0IC0gb3JkZXJUb3RhbHNIZWlnaHQgLSBzaXRlSGVhZGVySGVpZ2h0IC0gKDE4ICogMykpO1xuICAgICAgICBvcmRlclRvdGFsc1swXS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWShjYWxjKC0nICsgbmVnU2Nyb2xsICsgJ3B4ICsgJyArIG9yZGVyT2Zmc2V0VG9wICsgJ3B4KSknO1xuICAgIH0gZWxzZSB7XG4gICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdjYXJ0LXRvdGFscy1maXhlZCcpOyBcbiAgICAgICBvcmRlclRvdGFsc0NvbnRhaW5lci5zdHlsZS5tYXhXaWR0aCA9ICdhdXRvJztcbiAgICAgICBvcmRlclRvdGFsc0NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICB9IFxufVxuXG5mdW5jdGlvbiBzZXRVcFJlc3BvbnNpdmVDaGVja291dCgpIHtcbiAgICByZXNwQ2hlY2tvdXQuaHRtbCgnPGRpdiBjbGFzcz1cIm9yZGVyLWRldGFpbHNcIj48c2VjdGlvbj48aDI+QmlsbGluZyBJbmZvcm1hdGlvbjwvaDI+JyArIGJpbGxpbmdDb250ZW50ICsgJzwvc2VjdGlvbj48L2Rpdj4nKTtcblxuICAgIHZhciByZXNwQ2hlY2tvdXREZXRhaWxzID0gJCgnLm9yZGVyLWRldGFpbHMnKTtcbiAgICByZXNwQ2hlY2tvdXREZXRhaWxzLmFwcGVuZCgnPHNlY3Rpb24+PGgyPlNoaXBwaW5nIEluZm9ybWF0aW9uPC9oMj4nICsgc2hpcHBpbmdDb250ZW50ICsgJzwvc2VjdGlvbj4nKTtcbiAgICBpZiAocmVnaXN0cmF0aW9uUGFzc3dvcmQpIHtcbiAgICAgICAgcmVzcENoZWNrb3V0RGV0YWlscy5hcHBlbmQoJzxzZWN0aW9uPjxoMj5DcmVhdGUgQSBHcmVlbiBGYXJtIFBhcnRzIEFjY291bnQ8L2gyPjxwIGNsYXNzPVwiaGFzLXRleHQtY2VudGVyIG1hci1iIGZvbnQtc2hyaW5rXCI+Q3JlYXRlIGFuIGFjY291bnQgdG9kYXkgZm9yIHF1aWNrZXIgY2hlY2tvdXQgb24gZnV0dXJlIG9yZGVycywgY2hlY2tpbmcgb3JkZXIgc3RhdHVzICYgdHJhY2tpbmcsIGFuZCBzcGVjaWFsIG9mZmVycyBzZW50IHZpYSBlbWFpbDwvcD48ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPjxsYWJlbCBmb3I9XCJwYXNzd29yZFwiPlBhc3N3b3JkPC9sYWJlbD4nICsgcmVnaXN0cmF0aW9uUGFzc3dvcmQgKyAnPGJ1dHRvbiBjbGFzcz1cInNob3ctcGFzc3dvcmRcIj5TaG93PC9idXR0b24+PC9kaXY+PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj48bGFiZWwgZm9yPVwicGFzc3dvcmQtY29uZmlybVwiPkNvbmZpcm0gUGFzc3dvcmQ8L2xhYmVsPicgKyByZWdpc3RyYXRpb25QYXNzd29yZENvbmZpcm0gKyAnPGJ1dHRvbiBjbGFzcz1cInNob3ctcGFzc3dvcmRcIj5TaG93PC9idXR0b24+PC9kaXY+PC9zZWN0aW9uPicpO1xuICAgIH1cblxuICAgIHJlc3BDaGVja291dERldGFpbHMuYXBwZW5kKCc8c2VjdGlvbj48aDI+UGF5bWVudCBJbmZvcm1hdGlvbjwvaDI+JyArIHBheW1lbnRPcHRpb25zLmh0bWwoKSArICc8L3NlY3Rpb24+Jyk7XG5cbiAgICByZXNwQ2hlY2tvdXQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwib3JkZXItdG90YWxzXCI+PHNlY3Rpb24gY2xhc3M9XCJvcmRlci10b3RhbHMtY29udGFpbmVyXCI+PGgyPllvdXIgT3JkZXI8L2gyPjwvc2VjdGlvbj48L2Rpdj4nKTtcblxuICAgIHZhciByZXNwT3JkZXJUb3RhbHNDb250YWluZXIgPSAkKCcub3JkZXItdG90YWxzLWNvbnRhaW5lcicpO1xuXG4gICAgcmVzcE9yZGVyVG90YWxzQ29udGFpbmVyLmFwcGVuZChvcmRlclN1bW1hcnlJdGVtcywgc2hpcHBpbmdDb3N0Q29udGVudCk7XG4gICAgcmVzcE9yZGVyVG90YWxzQ29udGFpbmVyLmFwcGVuZCgnPHAgc3R5bGU9XCJmb250LXNpemU6IDAuODVyZW07XCI+T3JkZXIgQ29tbWVudHM6IDxlbT4ob3B0aW9uYWwpPC9lbT48L3A+Jywgb3JkZXJDb21tZW50c0VsZW0pO1xuICAgIHJlc3BPcmRlclRvdGFsc0NvbnRhaW5lci5hcHBlbmQoJzx0YWJsZSB3aWR0aD1cIjEwMCVcIiBjbGFzcz1cImFncmVlbWVudHNcIj48dGJvZHk+PHRyPicgKyBhZGRpdGlvbmFsSW5mb0NvbnRlbnQgKyAnPC90cj48L3Rib2R5PjwvdGFibGU+JywgcGxhY2VPcmRlcik7XG59XG5cbmZ1bmN0aW9uIHRpbGVQcm9kdWN0cyhwcm9kdWN0cykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdHMubGVuZ3RoOyBpICs9IDYpIHtcbiAgICAgICAgaWYgKHByb2R1Y3RzW2ldLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignZGl2W2l0ZW1wcm9wPVwiYWdncmVnYXRlUmF0aW5nXCJdJykpIHtcbiAgICAgICAgICAgIHZhciBwcm9kdWN0UmF0aW5nID0gcHJvZHVjdHNbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCdkaXZbaXRlbXByb3A9XCJhZ2dyZWdhdGVSYXRpbmdcIl0nKS5vdXRlckhUTUw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFzUHJpY2UgPSAnJztcbiAgICAgICAgaWYgKHByb2R1Y3RzW2ldLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfcHJvZHVjdHByaWNlJykpIHtcbiAgICAgICAgICAgIGhhc1ByaWNlID0gcHJvZHVjdHNbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9wcm9kdWN0cHJpY2UnKS5pbm5lclRleHQuc3BsaXQoJyAnKVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm9kTGluayA9IHByb2R1Y3RzW2ldLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5ocmVmO1xuICAgICAgICB2YXIgcHJvZENvZGUgPSBwcm9kTGluay5zcGxpdCgnLycpO1xuICAgICAgICB2YXIgcHJvZHVjdENvZGUgPSBwcm9kQ29kZVs0XS5zcGxpdCgnLicpWzBdO1xuXG4gICAgICAgIHByb2R1Y3RzQXJyYXkucHVzaCh7XG4gICAgICAgICAgICBwcm9kdWN0Q29kZTogcHJvZHVjdENvZGUsXG4gICAgICAgICAgICBwcm9kdWN0TGluazogcHJvZHVjdHNbaV0ucXVlcnlTZWxlY3RvcignYScpLmhyZWYsXG4gICAgICAgICAgICBwcm9kdWN0SW1hZ2U6IHByb2R1Y3RzW2ldLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYyxcbiAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0c1tpXS5uZXh0RWxlbWVudFNpYmxpbmcucXVlcnlTZWxlY3RvcignYScpLmlubmVyVGV4dCxcbiAgICAgICAgICAgIHByb2R1Y3RQcmljZTogaGFzUHJpY2UsXG4gICAgICAgICAgICBwcm9kdWN0UmF0aW5nOiBwcm9kdWN0UmF0aW5nXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9kdWN0c0FycmF5KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKSB7XG4gIHZhciBkYyA9IGRvY3VtZW50LmNvb2tpZTtcbiAgdmFyIHByZWZpeCA9IG5hbWUgKyBcIj1cIjtcbiAgdmFyIGJlZ2luID0gZGMuaW5kZXhPZihcIjsgXCIgKyBwcmVmaXgpO1xuICBpZiAoYmVnaW4gPT0gLTEpIHtcbiAgICAgIGJlZ2luID0gZGMuaW5kZXhPZihwcmVmaXgpO1xuICAgICAgaWYgKGJlZ2luICE9IDApIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgICAgYmVnaW4gKz0gMjtcbiAgICAgIHZhciBlbmQgPSBkb2N1bWVudC5jb29raWUuaW5kZXhPZihcIjtcIiwgYmVnaW4pO1xuICAgICAgaWYgKGVuZCA9PSAtMSkge1xuICAgICAgICAgIGVuZCA9IGRjLmxlbmd0aDtcbiAgICAgIH1cbiAgfVxuICAvLyBiZWNhdXNlIHVuZXNjYXBlIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHJlcGxhY2VkIHdpdGggZGVjb2RlVVJJXG4gIC8vcmV0dXJuIHVuZXNjYXBlKGRjLnN1YnN0cmluZyhiZWdpbiArIHByZWZpeC5sZW5ndGgsIGVuZCkpO1xuICByZXR1cm4gZGVjb2RlVVJJKGRjLnN1YnN0cmluZyhiZWdpbiArIHByZWZpeC5sZW5ndGgsIGVuZCkpO1xufVxuXG5cbnZhciBhbGVydEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydCcpO1xuXG5pZiAoYWxlcnRCb3gpIHtcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaW5kZXhPZignYWxlcnQ9ZGlzbWlzc2VkJykgPj0gMFxuICAgICAgICB9KS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgocGFnZVBhdGggPT09ICcvYXJ0aWNsZXMuYXNwJyAmJiB3aW5kb3cubG9jYXRpb24uc2VhcmNoID09PSAnP0lEPTMwNicpIHx8IHBhZ2VQYXRoID09PSAnL0FydGljbGVzLmFzcCcgJiYgd2luZG93LmxvY2F0aW9uLnNlYXJjaCA9PT0gJz9JRD0zMDYnKSB7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWVMZWZ0ID0gYWxlcnRCb3gucXVlcnlTZWxlY3RvcignI3RpbWVMZWZ0UmVkJyk7XG4gICAgICAgICAgICAgICAgdGltZUxlZnQuaW5uZXJIVE1MID0gbW9tZW50KCdUdWUgSnVsIDMxIDIwMTggMjM6NTk6MDAgR01ULTA0MDAgKEVEVCknKS5lbmRPZigpLmZyb21Ob3coKTtcbiAgICAgICAgICAgICAgICBhbGVydEJveC5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC0taXMtbm90LWFjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgMjAwMCk7XG4gICAgdmFyIGNsb3NlQWxlcnRCb3ggPSBhbGVydEJveC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtLWNsb3NlJyk7XG4gICAgY2xvc2VBbGVydEJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBleHBpcmVzID0gJ2V4cGlyZXM9JztcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIGV4cGlyZXMgKz0gZGF0ZS50b0dNVFN0cmluZygpO1xuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBcImFsZXJ0PWRpc21pc3NlZDtcIiArIGV4cGlyZXM7XG4gICAgICAgIGFsZXJ0Qm94LmNsYXNzTGlzdC5hZGQoJ2FsZXJ0LS1pcy1ub3QtYWN0aXZlJyk7XG4gICAgfSk7XG59XG5cbnZhciBhbGVydEJvdHRvbVVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0LS1ib3R0b20tdXAnKTtcblxuaWYgKGFsZXJ0Qm90dG9tVXApIHtcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaW5kZXhPZignc2hpcHBpbmdBbGVydD1kaXNtaXNzZWQnKSA+PSAwXG4gICAgICAgIH0pLmxlbmd0aCkge1xuICAgICAgICAgICAgYWxlcnRCb3R0b21VcC5jbGFzc0xpc3QucmVtb3ZlKCdhbGVydC0taXMtbm90LWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfSwgMjAwMCk7XG5cbiAgICB2YXIgY2xvc2VBbGVydCA9IGFsZXJ0Qm90dG9tVXAucXVlcnlTZWxlY3RvcignLmFsZXJ0LWJvdHRvbS11cC0tY2xvc2UnKTtcbiAgICBjbG9zZUFsZXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICgoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbGVydC1ib3R0b20tdXAtLWNsb3NlJykpIHx8IChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWxlcnQtYm90dG9tLXVwLS1jbG9zZScpKSkge1xuICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSAnZXhwaXJlcz0nO1xuICAgICAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMTQpO1xuICAgICAgICAgICAgZXhwaXJlcyArPSBkYXRlLnRvR01UU3RyaW5nKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBcInNoaXBwaW5nQWxlcnQ9ZGlzbWlzc2VkO1wiICsgZXhwaXJlcztcbiAgICAgICAgICAgIGFsZXJ0Qm90dG9tVXAuY2xhc3NMaXN0LmFkZCgnYWxlcnQtLWlzLW5vdC1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5cbi8qXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbkNIQU5HRSBFUlJPUiBDT0RFIEZPUiBHUkVBU0VHVU4gUFJPTU9cbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbnZhciBjYXJ0RXJyb3JNZXNzYWdlID0gJCgnLnY2NS1lcnJvci1saXN0LWNvbnRhaW5lciBsaScpO1xuaWYgKGNhcnRFcnJvck1lc3NhZ2UudGV4dCgpID09PSAnQ291cG9uIGNvZGUgXCJHUkVBU0VHVU5cIiBpcyBub3QgdmFsaWQuJykge1xuICAgIGNhcnRFcnJvck1lc3NhZ2UudGV4dCgnWW91ciBjYXJ0IHRvdGFsIGlzIGxlc3MgdGhhbiB0aGUgcmVxdWlyZWQgJDE5OSBmb3IgdGhlIGNvdXBvbiBjb2RlLicpO1xufSJdfQ==
